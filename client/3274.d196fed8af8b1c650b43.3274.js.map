{"version":3,"file":"3274.d196fed8af8b1c650b43.3274.js","mappings":"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","sources":["webpack://semaphore/./node_modules/emoji-picker-element/picker.js"],"sourcesContent":["import Database from './database.js';\n\nfunction noop() { }\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_style(node, key, value, important) {\n    if (value === null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\n\nconst dirty_components = [];\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (flushidx < dirty_components.length) {\n            const component = dirty_components[flushidx];\n            flushidx++;\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\nconst outroing = new Set();\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map((parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        mount_component(component, options.target, undefined, undefined);\n        flush();\n    }\n    set_current_component(parent_component);\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\n// via https://unpkg.com/browse/emojibase-data@6.0.0/meta/groups.json\nconst allGroups = [\n  [-1, '✨', 'custom'],\n  [0, '😀', 'smileys-emotion'],\n  [1, '👋', 'people-body'],\n  [3, '🐱', 'animals-nature'],\n  [4, '🍎', 'food-drink'],\n  [5, '🏠️', 'travel-places'],\n  [6, '⚽', 'activities'],\n  [7, '📝', 'objects'],\n  [8, '⛔️', 'symbols'],\n  [9, '🏁', 'flags']\n].map(([id, emoji, name]) => ({ id, emoji, name }));\n\nconst groups = allGroups.slice(1);\nconst customGroup = allGroups[0];\n\nconst MIN_SEARCH_TEXT_LENGTH = 2;\nconst NUM_SKIN_TONES = 6;\n\n/* istanbul ignore next */\nconst rIC = typeof requestIdleCallback === 'function' ? requestIdleCallback : setTimeout;\n\n// check for ZWJ (zero width joiner) character\nfunction hasZwj (emoji) {\n  return emoji.unicode.includes('\\u200d')\n}\n\n// Find one good representative emoji from each version to test by checking its color.\n// Ideally it should have color in the center. For some inspiration, see:\n// https://about.gitlab.com/blog/2018/05/30/journey-in-native-unicode-emoji/\n//\n// Note that for certain versions (12.1, 13.1), there is no point in testing them explicitly, because\n// all the emoji from this version are compound-emoji from previous versions. So they would pass a color\n// test, even in browsers that display them as double emoji. (E.g. \"face in clouds\" might render as\n// \"face without mouth\" plus \"fog\".) These emoji can only be filtered using the width test,\n// which happens in checkZwjSupport.js.\nconst versionsAndTestEmoji = {\n  '🫠': 14,\n  '🥲': 13.1, // smiling face with tear, technically from v13 but see note above\n  '🥻': 12.1, // sari, technically from v12 but see note above\n  '🥰': 11,\n  '🤩': 5,\n  '👱‍♀️': 4,\n  '🤣': 3,\n  '👁️‍🗨️': 2,\n  '😀': 1,\n  '😐️': 0.7,\n  '😃': 0.6\n};\n\nconst TIMEOUT_BEFORE_LOADING_MESSAGE = 1000; // 1 second\nconst DEFAULT_SKIN_TONE_EMOJI = '🖐️';\nconst DEFAULT_NUM_COLUMNS = 8;\n\n// Based on https://fivethirtyeight.com/features/the-100-most-used-emojis/ and\n// https://blog.emojipedia.org/facebook-reveals-most-and-least-used-emojis/ with\n// a bit of my own curation. (E.g. avoid the \"OK\" gesture because of connotations:\n// https://emojipedia.org/ok-hand/)\nconst MOST_COMMONLY_USED_EMOJI = [\n  '😊',\n  '😒',\n  '♥️',\n  '👍️',\n  '😍',\n  '😂',\n  '😭',\n  '☺️',\n  '😔',\n  '😩',\n  '😏',\n  '💕',\n  '🙌',\n  '😘'\n];\n\n// It's important to list Twemoji Mozilla before everything else, because Mozilla bundles their\n// own font on some platforms (notably Windows and Linux as of this writing). Typically Mozilla\n// updates faster than the underlying OS, and we don't want to render older emoji in one font and\n// newer emoji in another font:\n// https://github.com/nolanlawson/emoji-picker-element/pull/268#issuecomment-1073347283\nconst FONT_FAMILY = '\"Twemoji Mozilla\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",' +\n  '\"Noto Color Emoji\",\"EmojiOne Color\",\"Android Emoji\",sans-serif';\n\n/* istanbul ignore next */\nconst DEFAULT_CATEGORY_SORTING = (a, b) => a < b ? -1 : a > b ? 1 : 0;\n\n// Test if an emoji is supported by rendering it to canvas and checking that the color is not black\n\nconst getTextFeature = (text, color) => {\n  const canvas = document.createElement('canvas');\n  canvas.width = canvas.height = 1;\n\n  const ctx = canvas.getContext('2d');\n  ctx.textBaseline = 'top';\n  ctx.font = `100px ${FONT_FAMILY}`;\n  ctx.fillStyle = color;\n  ctx.scale(0.01, 0.01);\n  ctx.fillText(text, 0, 0);\n\n  return ctx.getImageData(0, 0, 1, 1).data\n};\n\nconst compareFeatures = (feature1, feature2) => {\n  const feature1Str = [...feature1].join(',');\n  const feature2Str = [...feature2].join(',');\n  // This is RGBA, so for 0,0,0, we are checking that the first RGB is not all zeroes.\n  // Most of the time when unsupported this is 0,0,0,0, but on Chrome on Mac it is\n  // 0,0,0,61 - there is a transparency here.\n  return feature1Str === feature2Str && !feature1Str.startsWith('0,0,0,')\n};\n\nfunction testColorEmojiSupported (text) {\n  // Render white and black and then compare them to each other and ensure they're the same\n  // color, and neither one is black. This shows that the emoji was rendered in color.\n  const feature1 = getTextFeature(text, '#000');\n  const feature2 = getTextFeature(text, '#fff');\n  return feature1 && feature2 && compareFeatures(feature1, feature2)\n}\n\n// rather than check every emoji ever, which would be expensive, just check some representatives from the\n\nfunction determineEmojiSupportLevel () {\n  const entries = Object.entries(versionsAndTestEmoji);\n  try {\n    // start with latest emoji and work backwards\n    for (const [emoji, version] of entries) {\n      if (testColorEmojiSupported(emoji)) {\n        return version\n      }\n    }\n  } catch (e) { // canvas error\n  } finally {\n  }\n  // In case of an error, be generous and just assume all emoji are supported (e.g. for canvas errors\n  // due to anti-fingerprinting add-ons). Better to show some gray boxes than nothing at all.\n  return entries[0][1] // first one in the list is the most recent version\n}\n\n// Check which emojis we know for sure aren't supported, based on Unicode version level\nconst emojiSupportLevelPromise = new Promise(resolve => (\n  rIC(() => (\n    resolve(determineEmojiSupportLevel()) // delay so ideally this can run while IDB is first populating\n  ))\n));\n// determine which emojis containing ZWJ (zero width joiner) characters\n// are supported (rendered as one glyph) rather than unsupported (rendered as two or more glyphs)\nconst supportedZwjEmojis = new Map();\n\nconst VARIATION_SELECTOR = '\\ufe0f';\nconst SKINTONE_MODIFIER = '\\ud83c';\nconst ZWJ = '\\u200d';\nconst LIGHT_SKIN_TONE = 0x1F3FB;\nconst LIGHT_SKIN_TONE_MODIFIER = 0xdffb;\n\n// TODO: this is a naive implementation, we can improve it later\n// It's only used for the skintone picker, so as long as people don't customize with\n// really exotic emoji then it should work fine\nfunction applySkinTone (str, skinTone) {\n  if (skinTone === 0) {\n    return str\n  }\n  const zwjIndex = str.indexOf(ZWJ);\n  if (zwjIndex !== -1) {\n    return str.substring(0, zwjIndex) +\n      String.fromCodePoint(LIGHT_SKIN_TONE + skinTone - 1) +\n      str.substring(zwjIndex)\n  }\n  if (str.endsWith(VARIATION_SELECTOR)) {\n    str = str.substring(0, str.length - 1);\n  }\n  return str + SKINTONE_MODIFIER + String.fromCodePoint(LIGHT_SKIN_TONE_MODIFIER + skinTone - 1)\n}\n\nfunction halt (event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\n// Implementation left/right or up/down navigation, circling back when you\n// reach the start/end of the list\nfunction incrementOrDecrement (decrement, val, arr) {\n  val += (decrement ? -1 : 1);\n  if (val < 0) {\n    val = arr.length - 1;\n  } else if (val >= arr.length) {\n    val = 0;\n  }\n  return val\n}\n\n// like lodash's uniqBy but much smaller\nfunction uniqBy (arr, func) {\n  const set = new Set();\n  const res = [];\n  for (const item of arr) {\n    const key = func(item);\n    if (!set.has(key)) {\n      set.add(key);\n      res.push(item);\n    }\n  }\n  return res\n}\n\n// We don't need all the data on every emoji, and there are specific things we need\n// for the UI, so build a \"view model\" from the emoji object we got from the database\n\nfunction summarizeEmojisForUI (emojis, emojiSupportLevel) {\n  const toSimpleSkinsMap = skins => {\n    const res = {};\n    for (const skin of skins) {\n      // ignore arrays like [1, 2] with multiple skin tones\n      // also ignore variants that are in an unsupported emoji version\n      // (these do exist - variants from a different version than their base emoji)\n      if (typeof skin.tone === 'number' && skin.version <= emojiSupportLevel) {\n        res[skin.tone] = skin.unicode;\n      }\n    }\n    return res\n  };\n\n  return emojis.map(({ unicode, skins, shortcodes, url, name, category }) => ({\n    unicode,\n    name,\n    shortcodes,\n    url,\n    category,\n    id: unicode || name,\n    skins: skins && toSimpleSkinsMap(skins),\n    title: (shortcodes || []).join(', ')\n  }))\n}\n\n// import rAF from one place so that the bundle size is a bit smaller\nconst rAF = requestAnimationFrame;\n\n// Svelte action to calculate the width of an element and auto-update\n\nlet resizeObserverSupported = typeof ResizeObserver === 'function';\n\nfunction calculateWidth (node, onUpdate) {\n  let resizeObserver;\n  if (resizeObserverSupported) {\n    resizeObserver = new ResizeObserver(entries => (\n      onUpdate(entries[0].contentRect.width)\n    ));\n    resizeObserver.observe(node);\n  } else { // just set the width once, don't bother trying to track it\n    rAF(() => (\n      onUpdate(node.getBoundingClientRect().width)\n    ));\n  }\n\n  // cleanup function (called on destroy)\n  return {\n    destroy () {\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n    }\n  }\n}\n\n// get the width of the text inside of a DOM node, via https://stackoverflow.com/a/59525891/680742\nfunction calculateTextWidth (node) {\n  /* istanbul ignore else */\n  {\n    const range = document.createRange();\n    range.selectNode(node.firstChild);\n    return range.getBoundingClientRect().width\n  }\n}\n\nlet baselineEmojiWidth;\n\nfunction checkZwjSupport (zwjEmojisToCheck, baselineEmoji, emojiToDomNode) {\n  for (const emoji of zwjEmojisToCheck) {\n    const domNode = emojiToDomNode(emoji);\n    const emojiWidth = calculateTextWidth(domNode);\n    if (typeof baselineEmojiWidth === 'undefined') { // calculate the baseline emoji width only once\n      baselineEmojiWidth = calculateTextWidth(baselineEmoji);\n    }\n    // On Windows, some supported emoji are ~50% bigger than the baseline emoji, but what we really want to guard\n    // against are the ones that are 2x the size, because those are truly broken (person with red hair = person with\n    // floating red wig, black cat = cat with black square, polar bear = bear with snowflake, etc.)\n    // So here we set the threshold at 1.8 times the size of the baseline emoji.\n    const supported = emojiWidth / 1.8 < baselineEmojiWidth;\n    supportedZwjEmojis.set(emoji.unicode, supported);\n  }\n}\n\n// Measure after style/layout are complete\n\nconst requestPostAnimationFrame = callback => {\n  rAF(() => {\n    setTimeout(callback);\n  });\n};\n\n// like lodash's uniq\n\nfunction uniq (arr) {\n  return uniqBy(arr, _ => _)\n}\n\n/* src/picker/components/Picker/Picker.svelte generated by Svelte v3.49.0 */\n\nconst { Map: Map_1 } = globals;\n\nfunction get_each_context(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[63] = list[i];\n\tchild_ctx[65] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_1(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[66] = list[i];\n\tchild_ctx[65] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_2(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[63] = list[i];\n\tchild_ctx[65] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_3(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[69] = list[i];\n\treturn child_ctx;\n}\n\nfunction get_each_context_4(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[72] = list[i];\n\tchild_ctx[65] = i;\n\treturn child_ctx;\n}\n\n// (43:38) {#each skinTones as skinTone, i (skinTone)}\nfunction create_each_block_4(key_1, ctx) {\n\tlet div;\n\tlet t_value = /*skinTone*/ ctx[72] + \"\";\n\tlet t;\n\tlet div_id_value;\n\tlet div_class_value;\n\tlet div_aria_selected_value;\n\tlet div_title_value;\n\tlet div_aria_label_value;\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"id\", div_id_value = \"skintone-\" + /*i*/ ctx[65]);\n\n\t\t\tattr(div, \"class\", div_class_value = \"emoji hide-focus \" + (/*i*/ ctx[65] === /*activeSkinTone*/ ctx[20]\n\t\t\t? 'active'\n\t\t\t: ''));\n\n\t\t\tattr(div, \"aria-selected\", div_aria_selected_value = /*i*/ ctx[65] === /*activeSkinTone*/ ctx[20]);\n\t\t\tattr(div, \"role\", \"option\");\n\t\t\tattr(div, \"title\", div_title_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[65]]);\n\t\t\tattr(div, \"tabindex\", \"-1\");\n\t\t\tattr(div, \"aria-label\", div_aria_label_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[65]]);\n\t\t\tthis.first = div;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty[0] & /*skinTones*/ 512 && t_value !== (t_value = /*skinTone*/ ctx[72] + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*skinTones*/ 512 && div_id_value !== (div_id_value = \"skintone-\" + /*i*/ ctx[65])) {\n\t\t\t\tattr(div, \"id\", div_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone*/ 1049088 && div_class_value !== (div_class_value = \"emoji hide-focus \" + (/*i*/ ctx[65] === /*activeSkinTone*/ ctx[20]\n\t\t\t? 'active'\n\t\t\t: ''))) {\n\t\t\t\tattr(div, \"class\", div_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone*/ 1049088 && div_aria_selected_value !== (div_aria_selected_value = /*i*/ ctx[65] === /*activeSkinTone*/ ctx[20])) {\n\t\t\t\tattr(div, \"aria-selected\", div_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, skinTones*/ 513 && div_title_value !== (div_title_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[65]])) {\n\t\t\t\tattr(div, \"title\", div_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, skinTones*/ 513 && div_aria_label_value !== (div_aria_label_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[65]])) {\n\t\t\t\tattr(div, \"aria-label\", div_aria_label_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\n// (53:33) {#each groups as group (group.id)}\nfunction create_each_block_3(key_1, ctx) {\n\tlet button;\n\tlet div;\n\tlet t_value = /*group*/ ctx[69].emoji + \"\";\n\tlet t;\n\tlet button_aria_controls_value;\n\tlet button_aria_label_value;\n\tlet button_aria_selected_value;\n\tlet button_title_value;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction click_handler() {\n\t\treturn /*click_handler*/ ctx[49](/*group*/ ctx[69]);\n\t}\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"class\", \"nav-emoji emoji\");\n\t\t\tattr(button, \"role\", \"tab\");\n\t\t\tattr(button, \"class\", \"nav-button\");\n\t\t\tattr(button, \"aria-controls\", button_aria_controls_value = \"tab-\" + /*group*/ ctx[69].id);\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[69].name]);\n\t\t\tattr(button, \"aria-selected\", button_aria_selected_value = !/*searchMode*/ ctx[4] && /*currentGroup*/ ctx[13].id === /*group*/ ctx[69].id);\n\t\t\tattr(button, \"title\", button_title_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[69].name]);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, div);\n\t\t\tappend(div, t);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(button, \"click\", click_handler);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty[0] & /*groups*/ 4096 && t_value !== (t_value = /*group*/ ctx[69].emoji + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*groups*/ 4096 && button_aria_controls_value !== (button_aria_controls_value = \"tab-\" + /*group*/ ctx[69].id)) {\n\t\t\t\tattr(button, \"aria-controls\", button_aria_controls_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, groups*/ 4097 && button_aria_label_value !== (button_aria_label_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[69].name])) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentGroup, groups*/ 12304 && button_aria_selected_value !== (button_aria_selected_value = !/*searchMode*/ ctx[4] && /*currentGroup*/ ctx[13].id === /*group*/ ctx[69].id)) {\n\t\t\t\tattr(button, \"aria-selected\", button_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, groups*/ 4097 && button_title_value !== (button_title_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[69].name])) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (93:100) {:else}\nfunction create_else_block_1(ctx) {\n\tlet img;\n\tlet img_src_value;\n\n\treturn {\n\t\tc() {\n\t\t\timg = element(\"img\");\n\t\t\tattr(img, \"class\", \"custom-emoji\");\n\t\t\tif (!src_url_equal(img.src, img_src_value = /*emoji*/ ctx[63].url)) attr(img, \"src\", img_src_value);\n\t\t\tattr(img, \"alt\", \"\");\n\t\t\tattr(img, \"loading\", \"lazy\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, img, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && !src_url_equal(img.src, img_src_value = /*emoji*/ ctx[63].url)) {\n\t\t\t\tattr(img, \"src\", img_src_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(img);\n\t\t}\n\t};\n}\n\n// (93:40) {#if emoji.unicode}\nfunction create_if_block_1(ctx) {\n\tlet t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[63], /*currentSkinTone*/ ctx[8]) + \"\";\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tt = text(t_value);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, t, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories, currentSkinTone*/ 33024 && t_value !== (t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[63], /*currentSkinTone*/ ctx[8]) + \"\")) set_data(t, t_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(t);\n\t\t}\n\t};\n}\n\n// (88:53) {#each emojiWithCategory.emojis as emoji, i (emoji.id)}\nfunction create_each_block_2(key_1, ctx) {\n\tlet button;\n\tlet button_role_value;\n\tlet button_aria_selected_value;\n\tlet button_aria_label_value;\n\tlet button_title_value;\n\tlet button_class_value;\n\tlet button_id_value;\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*emoji*/ ctx[63].unicode) return create_if_block_1;\n\t\treturn create_else_block_1;\n\t}\n\n\tlet current_block_type = select_block_type(ctx);\n\tlet if_block = current_block_type(ctx);\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tif_block.c();\n\t\t\tattr(button, \"role\", button_role_value = /*searchMode*/ ctx[4] ? 'option' : 'menuitem');\n\n\t\t\tattr(button, \"aria-selected\", button_aria_selected_value = /*searchMode*/ ctx[4]\n\t\t\t? /*i*/ ctx[65] == /*activeSearchItem*/ ctx[5]\n\t\t\t: '');\n\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[63], /*currentSkinTone*/ ctx[8]));\n\t\t\tattr(button, \"title\", button_title_value = /*emoji*/ ctx[63].title);\n\n\t\t\tattr(button, \"class\", button_class_value = \"emoji \" + (/*searchMode*/ ctx[4] && /*i*/ ctx[65] === /*activeSearchItem*/ ctx[5]\n\t\t\t? 'active'\n\t\t\t: ''));\n\n\t\t\tattr(button, \"id\", button_id_value = \"emo-\" + /*emoji*/ ctx[63].id);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tif_block.m(button, null);\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\n\t\t\tif (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {\n\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = current_block_type(ctx);\n\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(button, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 16 && button_role_value !== (button_role_value = /*searchMode*/ ctx[4] ? 'option' : 'menuitem')) {\n\t\t\t\tattr(button, \"role\", button_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem*/ 32816 && button_aria_selected_value !== (button_aria_selected_value = /*searchMode*/ ctx[4]\n\t\t\t? /*i*/ ctx[65] == /*activeSearchItem*/ ctx[5]\n\t\t\t: '')) {\n\t\t\t\tattr(button, \"aria-selected\", button_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories, currentSkinTone*/ 33024 && button_aria_label_value !== (button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[63], /*currentSkinTone*/ ctx[8]))) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && button_title_value !== (button_title_value = /*emoji*/ ctx[63].title)) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem*/ 32816 && button_class_value !== (button_class_value = \"emoji \" + (/*searchMode*/ ctx[4] && /*i*/ ctx[65] === /*activeSearchItem*/ ctx[5]\n\t\t\t? 'active'\n\t\t\t: ''))) {\n\t\t\t\tattr(button, \"class\", button_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && button_id_value !== (button_id_value = \"emo-\" + /*emoji*/ ctx[63].id)) {\n\t\t\t\tattr(button, \"id\", button_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tif_block.d();\n\t\t}\n\t};\n}\n\n// (69:36) {#each currentEmojisWithCategories as emojiWithCategory, i (emojiWithCategory.category)}\nfunction create_each_block_1(key_1, ctx) {\n\tlet div0;\n\n\tlet t_value = (/*searchMode*/ ctx[4]\n\t? /*i18n*/ ctx[0].searchResultsLabel\n\t: /*emojiWithCategory*/ ctx[66].category\n\t\t? /*emojiWithCategory*/ ctx[66].category\n\t\t: /*currentEmojisWithCategories*/ ctx[15].length > 1\n\t\t\t? /*i18n*/ ctx[0].categories.custom\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name]) + \"\";\n\n\tlet t;\n\tlet div0_id_value;\n\tlet div0_class_value;\n\tlet div1;\n\tlet each_blocks = [];\n\tlet each_1_lookup = new Map_1();\n\tlet div1_role_value;\n\tlet div1_aria_labelledby_value;\n\tlet div1_id_value;\n\tlet each_value_2 = /*emojiWithCategory*/ ctx[66].emojis;\n\tconst get_key = ctx => /*emoji*/ ctx[63].id;\n\n\tfor (let i = 0; i < each_value_2.length; i += 1) {\n\t\tlet child_ctx = get_each_context_2(ctx, each_value_2, i);\n\t\tlet key = get_key(child_ctx);\n\t\teach_1_lookup.set(key, each_blocks[i] = create_each_block_2(key, child_ctx));\n\t}\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tdiv0 = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tdiv1 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(div0, \"id\", div0_id_value = \"menu-label-\" + /*i*/ ctx[65]);\n\n\t\t\tattr(div0, \"class\", div0_class_value = \"category \" + (/*currentEmojisWithCategories*/ ctx[15].length === 1 && /*currentEmojisWithCategories*/ ctx[15][0].category === ''\n\t\t\t? 'gone'\n\t\t\t: ''));\n\n\t\t\tattr(div0, \"aria-hidden\", \"true\");\n\t\t\tattr(div1, \"class\", \"emoji-menu\");\n\t\t\tattr(div1, \"role\", div1_role_value = /*searchMode*/ ctx[4] ? 'listbox' : 'menu');\n\t\t\tattr(div1, \"aria-labelledby\", div1_aria_labelledby_value = \"menu-label-\" + /*i*/ ctx[65]);\n\t\t\tattr(div1, \"id\", div1_id_value = /*searchMode*/ ctx[4] ? 'search-results' : '');\n\t\t\tthis.first = div0;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div0, anchor);\n\t\t\tappend(div0, t);\n\t\t\tinsert(target, div1, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div1, null);\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\n\t\t\tif (dirty[0] & /*searchMode, i18n, currentEmojisWithCategories, currentGroup*/ 40977 && t_value !== (t_value = (/*searchMode*/ ctx[4]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*emojiWithCategory*/ ctx[66].category\n\t\t\t\t? /*emojiWithCategory*/ ctx[66].category\n\t\t\t\t: /*currentEmojisWithCategories*/ ctx[15].length > 1\n\t\t\t\t\t? /*i18n*/ ctx[0].categories.custom\n\t\t\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name]) + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && div0_id_value !== (div0_id_value = \"menu-label-\" + /*i*/ ctx[65])) {\n\t\t\t\tattr(div0, \"id\", div0_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && div0_class_value !== (div0_class_value = \"category \" + (/*currentEmojisWithCategories*/ ctx[15].length === 1 && /*currentEmojisWithCategories*/ ctx[15][0].category === ''\n\t\t\t? 'gone'\n\t\t\t: ''))) {\n\t\t\t\tattr(div0, \"class\", div0_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem, labelWithSkin, currentSkinTone, unicodeWithSkin*/ 402686256) {\n\t\t\t\teach_value_2 = /*emojiWithCategory*/ ctx[66].emojis;\n\t\t\t\teach_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx, each_value_2, each_1_lookup, div1, destroy_block, create_each_block_2, null, get_each_context_2);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 16 && div1_role_value !== (div1_role_value = /*searchMode*/ ctx[4] ? 'listbox' : 'menu')) {\n\t\t\t\tattr(div1, \"role\", div1_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && div1_aria_labelledby_value !== (div1_aria_labelledby_value = \"menu-label-\" + /*i*/ ctx[65])) {\n\t\t\t\tattr(div1, \"aria-labelledby\", div1_aria_labelledby_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 16 && div1_id_value !== (div1_id_value = /*searchMode*/ ctx[4] ? 'search-results' : '')) {\n\t\t\t\tattr(div1, \"id\", div1_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div0);\n\t\t\tif (detaching) detach(div1);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].d();\n\t\t\t}\n\t\t}\n\t};\n}\n\n// (102:94) {:else}\nfunction create_else_block(ctx) {\n\tlet img;\n\tlet img_src_value;\n\n\treturn {\n\t\tc() {\n\t\t\timg = element(\"img\");\n\t\t\tattr(img, \"class\", \"custom-emoji\");\n\t\t\tif (!src_url_equal(img.src, img_src_value = /*emoji*/ ctx[63].url)) attr(img, \"src\", img_src_value);\n\t\t\tattr(img, \"alt\", \"\");\n\t\t\tattr(img, \"loading\", \"lazy\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, img, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1024 && !src_url_equal(img.src, img_src_value = /*emoji*/ ctx[63].url)) {\n\t\t\t\tattr(img, \"src\", img_src_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(img);\n\t\t}\n\t};\n}\n\n// (102:34) {#if emoji.unicode}\nfunction create_if_block(ctx) {\n\tlet t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[63], /*currentSkinTone*/ ctx[8]) + \"\";\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tt = text(t_value);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, t, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentFavorites, currentSkinTone*/ 1280 && t_value !== (t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[63], /*currentSkinTone*/ ctx[8]) + \"\")) set_data(t, t_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(t);\n\t\t}\n\t};\n}\n\n// (98:102) {#each currentFavorites as emoji, i (emoji.id)}\nfunction create_each_block(key_1, ctx) {\n\tlet button;\n\tlet button_aria_label_value;\n\tlet button_title_value;\n\tlet button_id_value;\n\n\tfunction select_block_type_1(ctx, dirty) {\n\t\tif (/*emoji*/ ctx[63].unicode) return create_if_block;\n\t\treturn create_else_block;\n\t}\n\n\tlet current_block_type = select_block_type_1(ctx);\n\tlet if_block = current_block_type(ctx);\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tif_block.c();\n\t\t\tattr(button, \"role\", \"menuitem\");\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[63], /*currentSkinTone*/ ctx[8]));\n\t\t\tattr(button, \"title\", button_title_value = /*emoji*/ ctx[63].title);\n\t\t\tattr(button, \"class\", \"emoji\");\n\t\t\tattr(button, \"id\", button_id_value = \"fav-\" + /*emoji*/ ctx[63].id);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tif_block.m(button, null);\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\n\t\t\tif (current_block_type === (current_block_type = select_block_type_1(ctx)) && if_block) {\n\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = current_block_type(ctx);\n\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(button, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites, currentSkinTone*/ 1280 && button_aria_label_value !== (button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[63], /*currentSkinTone*/ ctx[8]))) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1024 && button_title_value !== (button_title_value = /*emoji*/ ctx[63].title)) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1024 && button_id_value !== (button_id_value = \"fav-\" + /*emoji*/ ctx[63].id)) {\n\t\t\t\tattr(button, \"id\", button_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tif_block.d();\n\t\t}\n\t};\n}\n\nfunction create_fragment(ctx) {\n\tlet section;\n\tlet div0;\n\tlet div4;\n\tlet div1;\n\tlet input;\n\tlet input_placeholder_value;\n\tlet input_aria_expanded_value;\n\tlet input_aria_activedescendant_value;\n\tlet label;\n\tlet t0_value = /*i18n*/ ctx[0].searchLabel + \"\";\n\tlet t0;\n\tlet span0;\n\tlet t1_value = /*i18n*/ ctx[0].searchDescription + \"\";\n\tlet t1;\n\tlet div2;\n\tlet button0;\n\tlet t2;\n\tlet button0_class_value;\n\tlet div2_class_value;\n\tlet span1;\n\tlet t3_value = /*i18n*/ ctx[0].skinToneDescription + \"\";\n\tlet t3;\n\tlet div3;\n\tlet each_blocks_3 = [];\n\tlet each0_lookup = new Map_1();\n\tlet div3_class_value;\n\tlet div3_aria_label_value;\n\tlet div3_aria_activedescendant_value;\n\tlet div3_aria_hidden_value;\n\tlet div5;\n\tlet each_blocks_2 = [];\n\tlet each1_lookup = new Map_1();\n\tlet div5_aria_label_value;\n\tlet div7;\n\tlet div6;\n\tlet div8;\n\tlet t4;\n\tlet div8_class_value;\n\tlet div10;\n\tlet div9;\n\tlet each_blocks_1 = [];\n\tlet each2_lookup = new Map_1();\n\tlet div10_class_value;\n\tlet div10_role_value;\n\tlet div10_aria_label_value;\n\tlet div10_id_value;\n\tlet div11;\n\tlet each_blocks = [];\n\tlet each3_lookup = new Map_1();\n\tlet div11_class_value;\n\tlet div11_aria_label_value;\n\tlet button1;\n\tlet section_aria_label_value;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value_4 = /*skinTones*/ ctx[9];\n\tconst get_key = ctx => /*skinTone*/ ctx[72];\n\n\tfor (let i = 0; i < each_value_4.length; i += 1) {\n\t\tlet child_ctx = get_each_context_4(ctx, each_value_4, i);\n\t\tlet key = get_key(child_ctx);\n\t\teach0_lookup.set(key, each_blocks_3[i] = create_each_block_4(key, child_ctx));\n\t}\n\n\tlet each_value_3 = /*groups*/ ctx[12];\n\tconst get_key_1 = ctx => /*group*/ ctx[69].id;\n\n\tfor (let i = 0; i < each_value_3.length; i += 1) {\n\t\tlet child_ctx = get_each_context_3(ctx, each_value_3, i);\n\t\tlet key = get_key_1(child_ctx);\n\t\teach1_lookup.set(key, each_blocks_2[i] = create_each_block_3(key, child_ctx));\n\t}\n\n\tlet each_value_1 = /*currentEmojisWithCategories*/ ctx[15];\n\tconst get_key_2 = ctx => /*emojiWithCategory*/ ctx[66].category;\n\n\tfor (let i = 0; i < each_value_1.length; i += 1) {\n\t\tlet child_ctx = get_each_context_1(ctx, each_value_1, i);\n\t\tlet key = get_key_2(child_ctx);\n\t\teach2_lookup.set(key, each_blocks_1[i] = create_each_block_1(key, child_ctx));\n\t}\n\n\tlet each_value = /*currentFavorites*/ ctx[10];\n\tconst get_key_3 = ctx => /*emoji*/ ctx[63].id;\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\tlet child_ctx = get_each_context(ctx, each_value, i);\n\t\tlet key = get_key_3(child_ctx);\n\t\teach3_lookup.set(key, each_blocks[i] = create_each_block(key, child_ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tdiv0 = element(\"div\");\n\t\t\tdiv4 = element(\"div\");\n\t\t\tdiv1 = element(\"div\");\n\t\t\tinput = element(\"input\");\n\t\t\tlabel = element(\"label\");\n\t\t\tt0 = text(t0_value);\n\t\t\tspan0 = element(\"span\");\n\t\t\tt1 = text(t1_value);\n\t\t\tdiv2 = element(\"div\");\n\t\t\tbutton0 = element(\"button\");\n\t\t\tt2 = text(/*skinToneButtonText*/ ctx[21]);\n\t\t\tspan1 = element(\"span\");\n\t\t\tt3 = text(t3_value);\n\t\t\tdiv3 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].c();\n\t\t\t}\n\n\t\t\tdiv5 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].c();\n\t\t\t}\n\n\t\t\tdiv7 = element(\"div\");\n\t\t\tdiv6 = element(\"div\");\n\t\t\tdiv8 = element(\"div\");\n\t\t\tt4 = text(/*message*/ ctx[18]);\n\t\t\tdiv10 = element(\"div\");\n\t\t\tdiv9 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].c();\n\t\t\t}\n\n\t\t\tdiv11 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tbutton1 = element(\"button\");\n\t\t\tbutton1.textContent = \"😀\";\n\t\t\tattr(div0, \"class\", \"pad-top\");\n\t\t\tattr(input, \"id\", \"search\");\n\t\t\tattr(input, \"class\", \"search\");\n\t\t\tattr(input, \"type\", \"search\");\n\t\t\tattr(input, \"role\", \"combobox\");\n\t\t\tattr(input, \"enterkeyhint\", \"search\");\n\t\t\tattr(input, \"placeholder\", input_placeholder_value = /*i18n*/ ctx[0].searchLabel);\n\t\t\tattr(input, \"autocapitalize\", \"none\");\n\t\t\tattr(input, \"autocomplete\", \"off\");\n\t\t\tattr(input, \"spellcheck\", \"true\");\n\t\t\tattr(input, \"aria-expanded\", input_aria_expanded_value = !!(/*searchMode*/ ctx[4] && /*currentEmojis*/ ctx[1].length));\n\t\t\tattr(input, \"aria-controls\", \"search-results\");\n\t\t\tattr(input, \"aria-describedby\", \"search-description\");\n\t\t\tattr(input, \"aria-autocomplete\", \"list\");\n\n\t\t\tattr(input, \"aria-activedescendant\", input_aria_activedescendant_value = /*activeSearchItemId*/ ctx[26]\n\t\t\t? `emo-${/*activeSearchItemId*/ ctx[26]}`\n\t\t\t: '');\n\n\t\t\tattr(label, \"class\", \"sr-only\");\n\t\t\tattr(label, \"for\", \"search\");\n\t\t\tattr(span0, \"id\", \"search-description\");\n\t\t\tattr(span0, \"class\", \"sr-only\");\n\t\t\tattr(div1, \"class\", \"search-wrapper\");\n\t\t\tattr(button0, \"id\", \"skintone-button\");\n\t\t\tattr(button0, \"class\", button0_class_value = \"emoji \" + (/*skinTonePickerExpanded*/ ctx[6] ? 'hide-focus' : ''));\n\t\t\tattr(button0, \"aria-label\", /*skinToneButtonLabel*/ ctx[23]);\n\t\t\tattr(button0, \"title\", /*skinToneButtonLabel*/ ctx[23]);\n\t\t\tattr(button0, \"aria-describedby\", \"skintone-description\");\n\t\t\tattr(button0, \"aria-haspopup\", \"listbox\");\n\t\t\tattr(button0, \"aria-expanded\", /*skinTonePickerExpanded*/ ctx[6]);\n\t\t\tattr(button0, \"aria-controls\", \"skintone-list\");\n\n\t\t\tattr(div2, \"class\", div2_class_value = \"skintone-button-wrapper \" + (/*skinTonePickerExpandedAfterAnimation*/ ctx[19]\n\t\t\t? 'expanded'\n\t\t\t: ''));\n\n\t\t\tattr(span1, \"id\", \"skintone-description\");\n\t\t\tattr(span1, \"class\", \"sr-only\");\n\t\t\tattr(div3, \"id\", \"skintone-list\");\n\n\t\t\tattr(div3, \"class\", div3_class_value = \"skintone-list \" + (/*skinTonePickerExpanded*/ ctx[6]\n\t\t\t? ''\n\t\t\t: 'hidden no-animate'));\n\n\t\t\tset_style(div3, \"transform\", \"translateY(\" + (/*skinTonePickerExpanded*/ ctx[6]\n\t\t\t? 0\n\t\t\t: 'calc(-1 * var(--num-skintones) * var(--total-emoji-size))') + \")\");\n\n\t\t\tattr(div3, \"role\", \"listbox\");\n\t\t\tattr(div3, \"aria-label\", div3_aria_label_value = /*i18n*/ ctx[0].skinTonesLabel);\n\t\t\tattr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value = \"skintone-\" + /*activeSkinTone*/ ctx[20]);\n\t\t\tattr(div3, \"aria-hidden\", div3_aria_hidden_value = !/*skinTonePickerExpanded*/ ctx[6]);\n\t\t\tattr(div4, \"class\", \"search-row\");\n\t\t\tattr(div5, \"class\", \"nav\");\n\t\t\tattr(div5, \"role\", \"tablist\");\n\t\t\tset_style(div5, \"grid-template-columns\", \"repeat(\" + /*groups*/ ctx[12].length + \", 1fr)\");\n\t\t\tattr(div5, \"aria-label\", div5_aria_label_value = /*i18n*/ ctx[0].categoriesLabel);\n\t\t\tattr(div6, \"class\", \"indicator\");\n\t\t\tset_style(div6, \"transform\", \"translateX(\" + (/*isRtl*/ ctx[24] ? -1 : 1) * /*currentGroupIndex*/ ctx[11] * 100 + \"%)\");\n\t\t\tattr(div7, \"class\", \"indicator-wrapper\");\n\t\t\tattr(div8, \"class\", div8_class_value = \"message \" + (/*message*/ ctx[18] ? '' : 'gone'));\n\t\t\tattr(div8, \"role\", \"alert\");\n\t\t\tattr(div8, \"aria-live\", \"polite\");\n\n\t\t\tattr(div10, \"class\", div10_class_value = \"tabpanel \" + (!/*databaseLoaded*/ ctx[14] || /*message*/ ctx[18]\n\t\t\t? 'gone'\n\t\t\t: ''));\n\n\t\t\tattr(div10, \"role\", div10_role_value = /*searchMode*/ ctx[4] ? 'region' : 'tabpanel');\n\n\t\t\tattr(div10, \"aria-label\", div10_aria_label_value = /*searchMode*/ ctx[4]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name]);\n\n\t\t\tattr(div10, \"id\", div10_id_value = /*searchMode*/ ctx[4]\n\t\t\t? ''\n\t\t\t: `tab-${/*currentGroup*/ ctx[13].id}`);\n\n\t\t\tattr(div10, \"tabindex\", \"0\");\n\t\t\tattr(div11, \"class\", div11_class_value = \"favorites emoji-menu \" + (/*message*/ ctx[18] ? 'gone' : ''));\n\t\t\tattr(div11, \"role\", \"menu\");\n\t\t\tattr(div11, \"aria-label\", div11_aria_label_value = /*i18n*/ ctx[0].favoritesLabel);\n\t\t\tset_style(div11, \"padding-inline-end\", /*scrollbarWidth*/ ctx[25] + \"px\");\n\t\t\tattr(button1, \"aria-hidden\", \"true\");\n\t\t\tattr(button1, \"tabindex\", \"-1\");\n\t\t\tattr(button1, \"class\", \"abs-pos hidden emoji\");\n\t\t\tattr(section, \"class\", \"picker\");\n\t\t\tattr(section, \"aria-label\", section_aria_label_value = /*i18n*/ ctx[0].regionLabel);\n\t\t\tattr(section, \"style\", /*pickerStyle*/ ctx[22]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, div0);\n\t\t\tappend(section, div4);\n\t\t\tappend(div4, div1);\n\t\t\tappend(div1, input);\n\t\t\tset_input_value(input, /*rawSearchText*/ ctx[2]);\n\t\t\tappend(div1, label);\n\t\t\tappend(label, t0);\n\t\t\tappend(div1, span0);\n\t\t\tappend(span0, t1);\n\t\t\tappend(div4, div2);\n\t\t\tappend(div2, button0);\n\t\t\tappend(button0, t2);\n\t\t\tappend(div4, span1);\n\t\t\tappend(span1, t3);\n\t\t\tappend(div4, div3);\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].m(div3, null);\n\t\t\t}\n\n\t\t\t/*div3_binding*/ ctx[48](div3);\n\t\t\tappend(section, div5);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].m(div5, null);\n\t\t\t}\n\n\t\t\tappend(section, div7);\n\t\t\tappend(div7, div6);\n\t\t\tappend(section, div8);\n\t\t\tappend(div8, t4);\n\t\t\tappend(section, div10);\n\t\t\tappend(div10, div9);\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].m(div9, null);\n\t\t\t}\n\n\t\t\t/*div10_binding*/ ctx[50](div10);\n\t\t\tappend(section, div11);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div11, null);\n\t\t\t}\n\n\t\t\tappend(section, button1);\n\t\t\t/*button1_binding*/ ctx[51](button1);\n\t\t\t/*section_binding*/ ctx[52](section);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(input, \"input\", /*input_input_handler*/ ctx[47]),\n\t\t\t\t\tlisten(input, \"keydown\", /*onSearchKeydown*/ ctx[30]),\n\t\t\t\t\tlisten(button0, \"click\", /*onClickSkinToneButton*/ ctx[35]),\n\t\t\t\t\tlisten(div3, \"focusout\", /*onSkinToneOptionsFocusOut*/ ctx[38]),\n\t\t\t\t\tlisten(div3, \"click\", /*onSkinToneOptionsClick*/ ctx[34]),\n\t\t\t\t\tlisten(div3, \"keydown\", /*onSkinToneOptionsKeydown*/ ctx[36]),\n\t\t\t\t\tlisten(div3, \"keyup\", /*onSkinToneOptionsKeyup*/ ctx[37]),\n\t\t\t\t\tlisten(div5, \"keydown\", /*onNavKeydown*/ ctx[32]),\n\t\t\t\t\taction_destroyer(/*calculateEmojiGridStyle*/ ctx[29].call(null, div9)),\n\t\t\t\t\tlisten(div10, \"click\", /*onEmojiClick*/ ctx[33]),\n\t\t\t\t\tlisten(div11, \"click\", /*onEmojiClick*/ ctx[33])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*i18n*/ 1 && input_placeholder_value !== (input_placeholder_value = /*i18n*/ ctx[0].searchLabel)) {\n\t\t\t\tattr(input, \"placeholder\", input_placeholder_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojis*/ 18 && input_aria_expanded_value !== (input_aria_expanded_value = !!(/*searchMode*/ ctx[4] && /*currentEmojis*/ ctx[1].length))) {\n\t\t\t\tattr(input, \"aria-expanded\", input_aria_expanded_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*activeSearchItemId*/ 67108864 && input_aria_activedescendant_value !== (input_aria_activedescendant_value = /*activeSearchItemId*/ ctx[26]\n\t\t\t? `emo-${/*activeSearchItemId*/ ctx[26]}`\n\t\t\t: '')) {\n\t\t\t\tattr(input, \"aria-activedescendant\", input_aria_activedescendant_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*rawSearchText*/ 4) {\n\t\t\t\tset_input_value(input, /*rawSearchText*/ ctx[2]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t0_value !== (t0_value = /*i18n*/ ctx[0].searchLabel + \"\")) set_data(t0, t0_value);\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t1_value !== (t1_value = /*i18n*/ ctx[0].searchDescription + \"\")) set_data(t1, t1_value);\n\t\t\tif (dirty[0] & /*skinToneButtonText*/ 2097152) set_data(t2, /*skinToneButtonText*/ ctx[21]);\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 64 && button0_class_value !== (button0_class_value = \"emoji \" + (/*skinTonePickerExpanded*/ ctx[6] ? 'hide-focus' : ''))) {\n\t\t\t\tattr(button0, \"class\", button0_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinToneButtonLabel*/ 8388608) {\n\t\t\t\tattr(button0, \"aria-label\", /*skinToneButtonLabel*/ ctx[23]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinToneButtonLabel*/ 8388608) {\n\t\t\t\tattr(button0, \"title\", /*skinToneButtonLabel*/ ctx[23]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 64) {\n\t\t\t\tattr(button0, \"aria-expanded\", /*skinTonePickerExpanded*/ ctx[6]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpandedAfterAnimation*/ 524288 && div2_class_value !== (div2_class_value = \"skintone-button-wrapper \" + (/*skinTonePickerExpandedAfterAnimation*/ ctx[19]\n\t\t\t? 'expanded'\n\t\t\t: ''))) {\n\t\t\t\tattr(div2, \"class\", div2_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t3_value !== (t3_value = /*i18n*/ ctx[0].skinToneDescription + \"\")) set_data(t3, t3_value);\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone, i18n*/ 1049089) {\n\t\t\t\teach_value_4 = /*skinTones*/ ctx[9];\n\t\t\t\teach_blocks_3 = update_keyed_each(each_blocks_3, dirty, get_key, 1, ctx, each_value_4, each0_lookup, div3, destroy_block, create_each_block_4, null, get_each_context_4);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 64 && div3_class_value !== (div3_class_value = \"skintone-list \" + (/*skinTonePickerExpanded*/ ctx[6]\n\t\t\t? ''\n\t\t\t: 'hidden no-animate'))) {\n\t\t\t\tattr(div3, \"class\", div3_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 64) {\n\t\t\t\tset_style(div3, \"transform\", \"translateY(\" + (/*skinTonePickerExpanded*/ ctx[6]\n\t\t\t\t? 0\n\t\t\t\t: 'calc(-1 * var(--num-skintones) * var(--total-emoji-size))') + \")\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div3_aria_label_value !== (div3_aria_label_value = /*i18n*/ ctx[0].skinTonesLabel)) {\n\t\t\t\tattr(div3, \"aria-label\", div3_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*activeSkinTone*/ 1048576 && div3_aria_activedescendant_value !== (div3_aria_activedescendant_value = \"skintone-\" + /*activeSkinTone*/ ctx[20])) {\n\t\t\t\tattr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 64 && div3_aria_hidden_value !== (div3_aria_hidden_value = !/*skinTonePickerExpanded*/ ctx[6])) {\n\t\t\t\tattr(div3, \"aria-hidden\", div3_aria_hidden_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*groups, i18n, searchMode, currentGroup*/ 12305 | dirty[1] & /*onNavClick*/ 1) {\n\t\t\t\teach_value_3 = /*groups*/ ctx[12];\n\t\t\t\teach_blocks_2 = update_keyed_each(each_blocks_2, dirty, get_key_1, 1, ctx, each_value_3, each1_lookup, div5, destroy_block, create_each_block_3, null, get_each_context_3);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*groups*/ 4096) {\n\t\t\t\tset_style(div5, \"grid-template-columns\", \"repeat(\" + /*groups*/ ctx[12].length + \", 1fr)\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div5_aria_label_value !== (div5_aria_label_value = /*i18n*/ ctx[0].categoriesLabel)) {\n\t\t\t\tattr(div5, \"aria-label\", div5_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*isRtl, currentGroupIndex*/ 16779264) {\n\t\t\t\tset_style(div6, \"transform\", \"translateX(\" + (/*isRtl*/ ctx[24] ? -1 : 1) * /*currentGroupIndex*/ ctx[11] * 100 + \"%)\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*message*/ 262144) set_data(t4, /*message*/ ctx[18]);\n\n\t\t\tif (dirty[0] & /*message*/ 262144 && div8_class_value !== (div8_class_value = \"message \" + (/*message*/ ctx[18] ? '' : 'gone'))) {\n\t\t\t\tattr(div8, \"class\", div8_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem, labelWithSkin, currentSkinTone, unicodeWithSkin, i18n, currentGroup*/ 402694449) {\n\t\t\t\teach_value_1 = /*currentEmojisWithCategories*/ ctx[15];\n\t\t\t\teach_blocks_1 = update_keyed_each(each_blocks_1, dirty, get_key_2, 1, ctx, each_value_1, each2_lookup, div9, destroy_block, create_each_block_1, null, get_each_context_1);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*databaseLoaded, message*/ 278528 && div10_class_value !== (div10_class_value = \"tabpanel \" + (!/*databaseLoaded*/ ctx[14] || /*message*/ ctx[18]\n\t\t\t? 'gone'\n\t\t\t: ''))) {\n\t\t\t\tattr(div10, \"class\", div10_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 16 && div10_role_value !== (div10_role_value = /*searchMode*/ ctx[4] ? 'region' : 'tabpanel')) {\n\t\t\t\tattr(div10, \"role\", div10_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, i18n, currentGroup*/ 8209 && div10_aria_label_value !== (div10_aria_label_value = /*searchMode*/ ctx[4]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name])) {\n\t\t\t\tattr(div10, \"aria-label\", div10_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentGroup*/ 8208 && div10_id_value !== (div10_id_value = /*searchMode*/ ctx[4]\n\t\t\t? ''\n\t\t\t: `tab-${/*currentGroup*/ ctx[13].id}`)) {\n\t\t\t\tattr(div10, \"id\", div10_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*labelWithSkin, currentFavorites, currentSkinTone, unicodeWithSkin*/ 402654464) {\n\t\t\t\teach_value = /*currentFavorites*/ ctx[10];\n\t\t\t\teach_blocks = update_keyed_each(each_blocks, dirty, get_key_3, 1, ctx, each_value, each3_lookup, div11, destroy_block, create_each_block, null, get_each_context);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*message*/ 262144 && div11_class_value !== (div11_class_value = \"favorites emoji-menu \" + (/*message*/ ctx[18] ? 'gone' : ''))) {\n\t\t\t\tattr(div11, \"class\", div11_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div11_aria_label_value !== (div11_aria_label_value = /*i18n*/ ctx[0].favoritesLabel)) {\n\t\t\t\tattr(div11, \"aria-label\", div11_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*scrollbarWidth*/ 33554432) {\n\t\t\t\tset_style(div11, \"padding-inline-end\", /*scrollbarWidth*/ ctx[25] + \"px\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && section_aria_label_value !== (section_aria_label_value = /*i18n*/ ctx[0].regionLabel)) {\n\t\t\t\tattr(section, \"aria-label\", section_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*pickerStyle*/ 4194304) {\n\t\t\t\tattr(section, \"style\", /*pickerStyle*/ ctx[22]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].d();\n\t\t\t}\n\n\t\t\t/*div3_binding*/ ctx[48](null);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].d();\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].d();\n\t\t\t}\n\n\t\t\t/*div10_binding*/ ctx[50](null);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].d();\n\t\t\t}\n\n\t\t\t/*button1_binding*/ ctx[51](null);\n\t\t\t/*section_binding*/ ctx[52](null);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction instance($$self, $$props, $$invalidate) {\n\tlet { skinToneEmoji } = $$props;\n\tlet { i18n } = $$props;\n\tlet { database } = $$props;\n\tlet { customEmoji } = $$props;\n\tlet { customCategorySorting } = $$props;\n\n\t// private\n\tlet initialLoad = true;\n\n\tlet currentEmojis = [];\n\tlet currentEmojisWithCategories = []; // eslint-disable-line no-unused-vars\n\tlet rawSearchText = '';\n\tlet searchText = '';\n\tlet rootElement;\n\tlet baselineEmoji;\n\tlet tabpanelElement;\n\tlet searchMode = false; // eslint-disable-line no-unused-vars\n\tlet activeSearchItem = -1;\n\tlet message; // eslint-disable-line no-unused-vars\n\tlet skinTonePickerExpanded = false;\n\tlet skinTonePickerExpandedAfterAnimation = false; // eslint-disable-line no-unused-vars\n\tlet skinToneDropdown;\n\tlet currentSkinTone = 0;\n\tlet activeSkinTone = 0;\n\tlet skinToneButtonText; // eslint-disable-line no-unused-vars\n\tlet pickerStyle; // eslint-disable-line no-unused-vars\n\tlet skinToneButtonLabel = ''; // eslint-disable-line no-unused-vars\n\tlet skinTones = [];\n\tlet currentFavorites = []; // eslint-disable-line no-unused-vars\n\tlet defaultFavoriteEmojis;\n\tlet numColumns = DEFAULT_NUM_COLUMNS;\n\tlet isRtl = false;\n\tlet scrollbarWidth = 0; // eslint-disable-line no-unused-vars\n\tlet currentGroupIndex = 0;\n\tlet groups$1 = groups;\n\tlet currentGroup;\n\tlet databaseLoaded = false; // eslint-disable-line no-unused-vars\n\tlet activeSearchItemId; // eslint-disable-line no-unused-vars\n\n\t//\n\t// Utils/helpers\n\t//\n\tconst focus = id => {\n\t\trootElement.getRootNode().getElementById(id).focus();\n\t};\n\n\t// fire a custom event that crosses the shadow boundary\n\tconst fireEvent = (name, detail) => {\n\t\trootElement.dispatchEvent(new CustomEvent(name, { detail, bubbles: true, composed: true }));\n\t};\n\n\t// eslint-disable-next-line no-unused-vars\n\tconst unicodeWithSkin = (emoji, currentSkinTone) => currentSkinTone && emoji.skins && emoji.skins[currentSkinTone] || emoji.unicode;\n\n\t// eslint-disable-next-line no-unused-vars\n\tconst labelWithSkin = (emoji, currentSkinTone) => uniq([\n\t\temoji.name || unicodeWithSkin(emoji, currentSkinTone),\n\t\t...emoji.shortcodes || []\n\t]).join(', ');\n\n\t// Detect a skintone option button\n\tconst isSkinToneOption = element => (/^skintone-/).test(element.id);\n\n\t//\n\t// Determine the emoji support level (in requestIdleCallback)\n\t//\n\temojiSupportLevelPromise.then(level => {\n\t\t// Can't actually test emoji support in Jest/JSDom, emoji never render in color in Cairo\n\t\t/* istanbul ignore next */\n\t\tif (!level) {\n\t\t\t$$invalidate(18, message = i18n.emojiUnsupportedMessage);\n\t\t}\n\t});\n\n\t//\n\t// Calculate the width of the emoji grid. This serves two purposes:\n\t// 1) Re-calculate the --num-columns var because it may have changed\n\t// 2) Re-calculate the scrollbar width because it may have changed\n\t//   (i.e. because the number of items changed)\n\t// 3) Re-calculate whether we're in RTL mode or not.\n\t//\n\t// The benefit of doing this in one place is to align with rAF/ResizeObserver\n\t// and do all the calculations in one go. RTL vs LTR is not strictly width-related,\n\t// but since we're already reading the style here, and since it's already aligned with\n\t// the rAF loop, this is the most appropriate place to do it perf-wise.\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction calculateEmojiGridStyle(node) {\n\t\treturn calculateWidth(node, width => {\n\t\t\t/* istanbul ignore next */\n\t\t\tif (\"production\" !== 'test') {\n\t\t\t\t// jsdom throws errors for this kind of fancy stuff\n\t\t\t\t// read all the style/layout calculations we need to make\n\t\t\t\tconst style = getComputedStyle(rootElement);\n\n\t\t\t\tconst newNumColumns = parseInt(style.getPropertyValue('--num-columns'), 10);\n\t\t\t\tconst newIsRtl = style.getPropertyValue('direction') === 'rtl';\n\t\t\t\tconst parentWidth = node.parentElement.getBoundingClientRect().width;\n\t\t\t\tconst newScrollbarWidth = parentWidth - width;\n\n\t\t\t\t// write to Svelte variables\n\t\t\t\t$$invalidate(46, numColumns = newNumColumns);\n\n\t\t\t\t$$invalidate(25, scrollbarWidth = newScrollbarWidth); // eslint-disable-line no-unused-vars\n\t\t\t\t$$invalidate(24, isRtl = newIsRtl); // eslint-disable-line no-unused-vars\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction checkZwjSupportAndUpdate(zwjEmojisToCheck) {\n\t\tconst rootNode = rootElement.getRootNode();\n\t\tconst emojiToDomNode = emoji => rootNode.getElementById(`emo-${emoji.id}`);\n\t\tcheckZwjSupport(zwjEmojisToCheck, baselineEmoji, emojiToDomNode);\n\n\t\t// force update\n\t\t$$invalidate(1, currentEmojis = currentEmojis); // eslint-disable-line no-self-assign\n\t}\n\n\tfunction isZwjSupported(emoji) {\n\t\treturn !emoji.unicode || !hasZwj(emoji) || supportedZwjEmojis.get(emoji.unicode);\n\t}\n\n\tasync function filterEmojisByVersion(emojis) {\n\t\tconst emojiSupportLevel = await emojiSupportLevelPromise;\n\n\t\t// !version corresponds to custom emoji\n\t\treturn emojis.filter(({ version }) => !version || version <= emojiSupportLevel);\n\t}\n\n\tasync function summarizeEmojis(emojis) {\n\t\treturn summarizeEmojisForUI(emojis, await emojiSupportLevelPromise);\n\t}\n\n\tasync function getEmojisByGroup(group) {\n\n\t\tif (typeof group === 'undefined') {\n\t\t\treturn [];\n\t\t}\n\n\t\t// -1 is custom emoji\n\t\tconst emoji = group === -1\n\t\t? customEmoji\n\t\t: await database.getEmojiByGroup(group);\n\n\t\treturn summarizeEmojis(await filterEmojisByVersion(emoji));\n\t}\n\n\tasync function getEmojisBySearchQuery(query) {\n\t\treturn summarizeEmojis(await filterEmojisByVersion(await database.getEmojiBySearchQuery(query)));\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSearchKeydown(event) {\n\t\tif (!searchMode || !currentEmojis.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst goToNextOrPrevious = previous => {\n\t\t\thalt(event);\n\t\t\t$$invalidate(5, activeSearchItem = incrementOrDecrement(previous, activeSearchItem, currentEmojis));\n\t\t};\n\n\t\tswitch (event.key) {\n\t\t\tcase 'ArrowDown':\n\t\t\t\treturn goToNextOrPrevious(false);\n\t\t\tcase 'ArrowUp':\n\t\t\t\treturn goToNextOrPrevious(true);\n\t\t\tcase 'Enter':\n\t\t\t\tif (activeSearchItem !== -1) {\n\t\t\t\t\thalt(event);\n\t\t\t\t\treturn clickEmoji(currentEmojis[activeSearchItem].id);\n\t\t\t\t} else if (currentEmojis.length) {\n\t\t\t\t\t$$invalidate(5, activeSearchItem = 0);\n\t\t\t\t}\n\t\t}\n\t}\n\n\t//\n\t// Handle user input on nav\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onNavClick(group) {\n\t\t$$invalidate(2, rawSearchText = '');\n\t\t$$invalidate(44, searchText = '');\n\t\t$$invalidate(5, activeSearchItem = -1);\n\t\t$$invalidate(11, currentGroupIndex = groups$1.findIndex(_ => _.id === group.id));\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onNavKeydown(event) {\n\t\tconst { target, key } = event;\n\n\t\tconst doFocus = el => {\n\t\t\tif (el) {\n\t\t\t\thalt(event);\n\t\t\t\tel.focus();\n\t\t\t}\n\t\t};\n\n\t\tswitch (key) {\n\t\t\tcase 'ArrowLeft':\n\t\t\t\treturn doFocus(target.previousSibling);\n\t\t\tcase 'ArrowRight':\n\t\t\t\treturn doFocus(target.nextSibling);\n\t\t\tcase 'Home':\n\t\t\t\treturn doFocus(target.parentElement.firstChild);\n\t\t\tcase 'End':\n\t\t\t\treturn doFocus(target.parentElement.lastChild);\n\t\t}\n\t}\n\n\t//\n\t// Handle user input on an emoji\n\t//\n\tasync function clickEmoji(unicodeOrName) {\n\t\tconst emoji = await database.getEmojiByUnicodeOrName(unicodeOrName);\n\t\tconst emojiSummary = [...currentEmojis, ...currentFavorites].find(_ => _.id === unicodeOrName);\n\t\tconst skinTonedUnicode = emojiSummary.unicode && unicodeWithSkin(emojiSummary, currentSkinTone);\n\t\tawait database.incrementFavoriteEmojiCount(unicodeOrName);\n\n\t\tfireEvent('emoji-click', {\n\t\t\temoji,\n\t\t\tskinTone: currentSkinTone,\n\t\t\t...skinTonedUnicode && { unicode: skinTonedUnicode },\n\t\t\t...emojiSummary.name && { name: emojiSummary.name }\n\t\t});\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onEmojiClick(event) {\n\t\tconst { target } = event;\n\n\t\tif (!target.classList.contains('emoji')) {\n\t\t\treturn;\n\t\t}\n\n\t\thalt(event);\n\t\tconst id = target.id.substring(4); // replace 'emo-' or 'fav-' prefix\n\n\t\t/* no await */\n\t\tclickEmoji(id);\n\t}\n\n\t//\n\t// Handle user input on the skintone picker\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onSkinToneOptionsClick(event) {\n\t\tconst { target } = event;\n\n\t\tif (!isSkinToneOption(target)) {\n\t\t\treturn;\n\t\t}\n\n\t\thalt(event);\n\t\tconst skinTone = parseInt(target.id.slice(9), 10); // remove 'skintone-' prefix\n\t\t$$invalidate(8, currentSkinTone = skinTone);\n\t\t$$invalidate(6, skinTonePickerExpanded = false);\n\t\tfocus('skintone-button');\n\t\tfireEvent('skin-tone-change', { skinTone });\n\n\t\t/* no await */\n\t\tdatabase.setPreferredSkinTone(skinTone);\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onClickSkinToneButton(event) {\n\t\t$$invalidate(6, skinTonePickerExpanded = !skinTonePickerExpanded);\n\t\t$$invalidate(20, activeSkinTone = currentSkinTone);\n\n\t\tif (skinTonePickerExpanded) {\n\t\t\thalt(event);\n\t\t\trAF(() => focus(`skintone-${activeSkinTone}`));\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSkinToneOptionsKeydown(event) {\n\t\tif (!skinTonePickerExpanded) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst changeActiveSkinTone = async nextSkinTone => {\n\t\t\thalt(event);\n\t\t\t$$invalidate(20, activeSkinTone = nextSkinTone);\n\t\t\tawait tick();\n\t\t\tfocus(`skintone-${activeSkinTone}`);\n\t\t};\n\n\t\tswitch (event.key) {\n\t\t\tcase 'ArrowUp':\n\t\t\t\treturn changeActiveSkinTone(incrementOrDecrement(true, activeSkinTone, skinTones));\n\t\t\tcase 'ArrowDown':\n\t\t\t\treturn changeActiveSkinTone(incrementOrDecrement(false, activeSkinTone, skinTones));\n\t\t\tcase 'Home':\n\t\t\t\treturn changeActiveSkinTone(0);\n\t\t\tcase 'End':\n\t\t\t\treturn changeActiveSkinTone(skinTones.length - 1);\n\t\t\tcase 'Enter':\n\t\t\t\t// enter on keydown, space on keyup. this is just how browsers work for buttons\n\t\t\t\t// https://lists.w3.org/Archives/Public/w3c-wai-ig/2019JanMar/0086.html\n\t\t\t\treturn onSkinToneOptionsClick(event);\n\t\t\tcase 'Escape':\n\t\t\t\thalt(event);\n\t\t\t\t$$invalidate(6, skinTonePickerExpanded = false);\n\t\t\t\treturn focus('skintone-button');\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSkinToneOptionsKeyup(event) {\n\t\tif (!skinTonePickerExpanded) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (event.key) {\n\t\t\tcase ' ':\n\t\t\t\t// enter on keydown, space on keyup. this is just how browsers work for buttons\n\t\t\t\t// https://lists.w3.org/Archives/Public/w3c-wai-ig/2019JanMar/0086.html\n\t\t\t\treturn onSkinToneOptionsClick(event);\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onSkinToneOptionsFocusOut(event) {\n\t\t// On blur outside of the skintone options, collapse the skintone picker.\n\t\t// Except if focus is just moving to another skintone option, e.g. pressing up/down to change focus\n\t\tconst { relatedTarget } = event;\n\n\t\tif (!relatedTarget || !isSkinToneOption(relatedTarget)) {\n\t\t\t$$invalidate(6, skinTonePickerExpanded = false);\n\t\t}\n\t}\n\n\tfunction input_input_handler() {\n\t\trawSearchText = this.value;\n\t\t$$invalidate(2, rawSearchText);\n\t}\n\n\tfunction div3_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\tskinToneDropdown = $$value;\n\t\t\t$$invalidate(7, skinToneDropdown);\n\t\t});\n\t}\n\n\tconst click_handler = group => onNavClick(group);\n\n\tfunction div10_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\ttabpanelElement = $$value;\n\t\t\t$$invalidate(3, tabpanelElement);\n\t\t});\n\t}\n\n\tfunction button1_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\tbaselineEmoji = $$value;\n\t\t\t$$invalidate(17, baselineEmoji);\n\t\t});\n\t}\n\n\tfunction section_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\trootElement = $$value;\n\t\t\t$$invalidate(16, rootElement);\n\t\t});\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('skinToneEmoji' in $$props) $$invalidate(40, skinToneEmoji = $$props.skinToneEmoji);\n\t\tif ('i18n' in $$props) $$invalidate(0, i18n = $$props.i18n);\n\t\tif ('database' in $$props) $$invalidate(39, database = $$props.database);\n\t\tif ('customEmoji' in $$props) $$invalidate(41, customEmoji = $$props.customEmoji);\n\t\tif ('customCategorySorting' in $$props) $$invalidate(42, customCategorySorting = $$props.customCategorySorting);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty[1] & /*customEmoji, database*/ 1280) {\n\t\t\t/* eslint-enable no-unused-vars */\n\t\t\t//\n\t\t\t// Set or update the customEmoji\n\t\t\t//\n\t\t\t{\n\t\t\t\tif (customEmoji && database) {\n\t\t\t\t\t$$invalidate(39, database.customEmoji = customEmoji, database);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*i18n*/ 1 | $$self.$$.dirty[1] & /*database*/ 256) {\n\t\t\t//\n\t\t\t// Set or update the database object\n\t\t\t//\n\t\t\t{\n\t\t\t\t// show a Loading message if it takes a long time, or show an error if there's a network/IDB error\n\t\t\t\tasync function handleDatabaseLoading() {\n\t\t\t\t\tlet showingLoadingMessage = false;\n\n\t\t\t\t\tconst timeoutHandle = setTimeout(\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tshowingLoadingMessage = true;\n\t\t\t\t\t\t\t$$invalidate(18, message = i18n.loadingMessage);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tTIMEOUT_BEFORE_LOADING_MESSAGE\n\t\t\t\t\t);\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait database.ready();\n\t\t\t\t\t\t$$invalidate(14, databaseLoaded = true); // eslint-disable-line no-unused-vars\n\t\t\t\t\t} catch(err) {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t$$invalidate(18, message = i18n.networkErrorMessage);\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tclearTimeout(timeoutHandle);\n\n\t\t\t\t\t\tif (showingLoadingMessage) {\n\t\t\t\t\t\t\t// Seems safer than checking the i18n string, which may change\n\t\t\t\t\t\t\tshowingLoadingMessage = false;\n\n\t\t\t\t\t\t\t$$invalidate(18, message = ''); // eslint-disable-line no-unused-vars\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (database) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\thandleDatabaseLoading();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups, currentGroupIndex*/ 6144 | $$self.$$.dirty[1] & /*customEmoji*/ 1024) {\n\t\t\t{\n\t\t\t\tif (customEmoji && customEmoji.length) {\n\t\t\t\t\t$$invalidate(12, groups$1 = [customGroup, ...groups]);\n\t\t\t\t} else if (groups$1 !== groups) {\n\t\t\t\t\tif (currentGroupIndex) {\n\t\t\t\t\t\t// If the current group is anything other than \"custom\" (which is first), decrement.\n\t\t\t\t\t\t// This fixes the odd case where you set customEmoji, then pick a category, then unset customEmoji\n\t\t\t\t\t\t$$invalidate(11, currentGroupIndex--, currentGroupIndex);\n\t\t\t\t\t}\n\n\t\t\t\t\t$$invalidate(12, groups$1 = groups);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*rawSearchText*/ 4) {\n\t\t\t/* eslint-enable no-unused-vars */\n\t\t\t//\n\t\t\t// Handle user input on the search input\n\t\t\t//\n\t\t\t{\n\t\t\t\trIC(() => {\n\t\t\t\t\t$$invalidate(44, searchText = (rawSearchText || '').trim()); // defer to avoid input delays, plus we can trim here\n\t\t\t\t\t$$invalidate(5, activeSearchItem = -1);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups, currentGroupIndex*/ 6144) {\n\t\t\t//\n\t\t\t// Update the current group based on the currentGroupIndex\n\t\t\t//\n\t\t\t$$invalidate(13, currentGroup = groups$1[currentGroupIndex]);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded, currentGroup*/ 24576 | $$self.$$.dirty[1] & /*searchText*/ 8192) {\n\t\t\t//\n\t\t\t// Set or update the currentEmojis. Check for invalid ZWJ renderings\n\t\t\t// (i.e. double emoji).\n\t\t\t//\n\t\t\t{\n\t\t\t\tasync function updateEmojis() {\n\n\t\t\t\t\tif (!databaseLoaded) {\n\t\t\t\t\t\t$$invalidate(1, currentEmojis = []);\n\t\t\t\t\t\t$$invalidate(4, searchMode = false);\n\t\t\t\t\t} else if (searchText.length >= MIN_SEARCH_TEXT_LENGTH) {\n\t\t\t\t\t\tconst currentSearchText = searchText;\n\t\t\t\t\t\tconst newEmojis = await getEmojisBySearchQuery(currentSearchText);\n\n\t\t\t\t\t\tif (currentSearchText === searchText) {\n\t\t\t\t\t\t\t// if the situation changes asynchronously, do not update\n\t\t\t\t\t\t\t$$invalidate(1, currentEmojis = newEmojis);\n\n\t\t\t\t\t\t\t$$invalidate(4, searchMode = true);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (currentGroup) {\n\t\t\t\t\t\tconst currentGroupId = currentGroup.id;\n\t\t\t\t\t\tconst newEmojis = await getEmojisByGroup(currentGroupId);\n\n\t\t\t\t\t\tif (currentGroupId === currentGroup.id) {\n\t\t\t\t\t\t\t// if the situation changes asynchronously, do not update\n\t\t\t\t\t\t\t$$invalidate(1, currentEmojis = newEmojis);\n\n\t\t\t\t\t\t\t$$invalidate(4, searchMode = false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* no await */\n\t\t\t\tupdateEmojis();\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups, searchMode*/ 4112) {\n\t\t\t//\n\t\t\t// Global styles for the entire picker\n\t\t\t//\n\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t$$invalidate(22, pickerStyle = `\n  --font-family: ${FONT_FAMILY};\n  --num-groups: ${groups$1.length}; \n  --indicator-opacity: ${searchMode ? 0 : 1}; \n  --num-skintones: ${NUM_SKIN_TONES};`);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded*/ 16384 | $$self.$$.dirty[1] & /*database*/ 256) {\n\t\t\t//\n\t\t\t// Set or update the preferred skin tone\n\t\t\t//\n\t\t\t{\n\t\t\t\tasync function updatePreferredSkinTone() {\n\t\t\t\t\tif (databaseLoaded) {\n\t\t\t\t\t\t$$invalidate(8, currentSkinTone = await database.getPreferredSkinTone());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* no await */\n\t\t\t\tupdatePreferredSkinTone();\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[1] & /*skinToneEmoji*/ 512) {\n\t\t\t$$invalidate(9, skinTones = Array(NUM_SKIN_TONES).fill().map((_, i) => applySkinTone(skinToneEmoji, i)));\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*skinTones, currentSkinTone*/ 768) {\n\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t$$invalidate(21, skinToneButtonText = skinTones[currentSkinTone]);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*i18n, currentSkinTone*/ 257) {\n\t\t\t$$invalidate(23, skinToneButtonLabel = i18n.skinToneLabel.replace('{skinTone}', i18n.skinTones[currentSkinTone]));\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded*/ 16384 | $$self.$$.dirty[1] & /*database*/ 256) {\n\t\t\t/* eslint-enable no-unused-vars */\n\t\t\t//\n\t\t\t// Set or update the favorites emojis\n\t\t\t//\n\t\t\t{\n\t\t\t\tasync function updateDefaultFavoriteEmojis() {\n\t\t\t\t\t$$invalidate(45, defaultFavoriteEmojis = (await Promise.all(MOST_COMMONLY_USED_EMOJI.map(unicode => database.getEmojiByUnicodeOrName(unicode)))).filter(Boolean)); // filter because in Jest tests we don't have all the emoji in the DB\n\t\t\t\t}\n\n\t\t\t\tif (databaseLoaded) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\tupdateDefaultFavoriteEmojis();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded*/ 16384 | $$self.$$.dirty[1] & /*database, numColumns, defaultFavoriteEmojis*/ 49408) {\n\t\t\t{\n\t\t\t\tasync function updateFavorites() {\n\t\t\t\t\tconst dbFavorites = await database.getTopFavoriteEmoji(numColumns);\n\t\t\t\t\tconst favorites = await summarizeEmojis(uniqBy([...dbFavorites, ...defaultFavoriteEmojis], _ => _.unicode || _.name).slice(0, numColumns));\n\t\t\t\t\t$$invalidate(10, currentFavorites = favorites);\n\t\t\t\t}\n\n\t\t\t\tif (databaseLoaded && defaultFavoriteEmojis) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\tupdateFavorites();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*currentEmojis, tabpanelElement*/ 10) {\n\t\t\t// Some emojis have their ligatures rendered as two or more consecutive emojis\n\t\t\t// We want to treat these the same as unsupported emojis, so we compare their\n\t\t\t// widths against the baseline widths and remove them as necessary\n\t\t\t{\n\t\t\t\tconst zwjEmojisToCheck = currentEmojis.filter(emoji => emoji.unicode).filter(emoji => hasZwj(emoji) && !supportedZwjEmojis.has(emoji.unicode)); // filter custom emoji\n\n\t\t\t\tif (zwjEmojisToCheck.length) {\n\t\t\t\t\t// render now, check their length later\n\t\t\t\t\trAF(() => checkZwjSupportAndUpdate(zwjEmojisToCheck));\n\t\t\t\t} else {\n\t\t\t\t\t$$invalidate(1, currentEmojis = currentEmojis.filter(isZwjSupported));\n\n\t\t\t\t\trAF(() => {\n\t\t\t\t\t\t// Avoid Svelte doing an invalidation on the \"setter\" here.\n\t\t\t\t\t\t// At best the invalidation is useless, at worst it can cause infinite loops:\n\t\t\t\t\t\t// https://github.com/nolanlawson/emoji-picker-element/pull/180\n\t\t\t\t\t\t// https://github.com/sveltejs/svelte/issues/6521\n\t\t\t\t\t\t// Also note tabpanelElement can be null if the element is disconnected\n\t\t\t\t\t\t// immediately after connected, hence `|| {}`\n\t\t\t\t\t\t(tabpanelElement || {}).scrollTop = 0; // reset scroll top to 0 when emojis change\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*currentEmojis, currentFavorites*/ 1026 | $$self.$$.dirty[1] & /*initialLoad*/ 4096) {\n\t\t\t{\n\t\t\t\t// consider initialLoad to be complete when the first tabpanel and favorites are rendered\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tif (\"production\" !== 'production' || false) {\n\t\t\t\t\tif (currentEmojis.length && currentFavorites.length && initialLoad) {\n\t\t\t\t\t\t$$invalidate(43, initialLoad = false);\n\t\t\t\t\t\trequestPostAnimationFrame(() => (void 0));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*searchMode, currentEmojis*/ 18 | $$self.$$.dirty[1] & /*customCategorySorting*/ 2048) {\n\t\t\t//\n\t\t\t// Derive currentEmojisWithCategories from currentEmojis. This is always done even if there\n\t\t\t// are no categories, because it's just easier to code the HTML this way.\n\t\t\t//\n\t\t\t{\n\t\t\t\tfunction calculateCurrentEmojisWithCategories() {\n\t\t\t\t\tif (searchMode) {\n\t\t\t\t\t\treturn [{ category: '', emojis: currentEmojis }];\n\t\t\t\t\t}\n\n\t\t\t\t\tconst categoriesToEmoji = new Map();\n\n\t\t\t\t\tfor (const emoji of currentEmojis) {\n\t\t\t\t\t\tconst category = emoji.category || '';\n\t\t\t\t\t\tlet emojis = categoriesToEmoji.get(category);\n\n\t\t\t\t\t\tif (!emojis) {\n\t\t\t\t\t\t\temojis = [];\n\t\t\t\t\t\t\tcategoriesToEmoji.set(category, emojis);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\temojis.push(emoji);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [...categoriesToEmoji.entries()].map(([category, emojis]) => ({ category, emojis })).sort((a, b) => customCategorySorting(a.category, b.category));\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\t$$invalidate(15, currentEmojisWithCategories = calculateCurrentEmojisWithCategories());\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*activeSearchItem, currentEmojis*/ 34) {\n\t\t\t//\n\t\t\t// Handle active search item (i.e. pressing up or down while searching)\n\t\t\t//\n\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t$$invalidate(26, activeSearchItemId = activeSearchItem !== -1 && currentEmojis[activeSearchItem].id);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*skinTonePickerExpanded, skinToneDropdown*/ 192) {\n\t\t\t// To make the animation nicer, change the z-index of the skintone picker button\n\t\t\t// *after* the animation has played. This makes it appear that the picker box\n\t\t\t// is expanding \"below\" the button\n\t\t\t{\n\t\t\t\tif (skinTonePickerExpanded) {\n\t\t\t\t\tskinToneDropdown.addEventListener(\n\t\t\t\t\t\t'transitionend',\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t$$invalidate(19, skinTonePickerExpandedAfterAnimation = true); // eslint-disable-line no-unused-vars\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ once: true }\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$$invalidate(19, skinTonePickerExpandedAfterAnimation = false); // eslint-disable-line no-unused-vars\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\ti18n,\n\t\tcurrentEmojis,\n\t\trawSearchText,\n\t\ttabpanelElement,\n\t\tsearchMode,\n\t\tactiveSearchItem,\n\t\tskinTonePickerExpanded,\n\t\tskinToneDropdown,\n\t\tcurrentSkinTone,\n\t\tskinTones,\n\t\tcurrentFavorites,\n\t\tcurrentGroupIndex,\n\t\tgroups$1,\n\t\tcurrentGroup,\n\t\tdatabaseLoaded,\n\t\tcurrentEmojisWithCategories,\n\t\trootElement,\n\t\tbaselineEmoji,\n\t\tmessage,\n\t\tskinTonePickerExpandedAfterAnimation,\n\t\tactiveSkinTone,\n\t\tskinToneButtonText,\n\t\tpickerStyle,\n\t\tskinToneButtonLabel,\n\t\tisRtl,\n\t\tscrollbarWidth,\n\t\tactiveSearchItemId,\n\t\tunicodeWithSkin,\n\t\tlabelWithSkin,\n\t\tcalculateEmojiGridStyle,\n\t\tonSearchKeydown,\n\t\tonNavClick,\n\t\tonNavKeydown,\n\t\tonEmojiClick,\n\t\tonSkinToneOptionsClick,\n\t\tonClickSkinToneButton,\n\t\tonSkinToneOptionsKeydown,\n\t\tonSkinToneOptionsKeyup,\n\t\tonSkinToneOptionsFocusOut,\n\t\tdatabase,\n\t\tskinToneEmoji,\n\t\tcustomEmoji,\n\t\tcustomCategorySorting,\n\t\tinitialLoad,\n\t\tsearchText,\n\t\tdefaultFavoriteEmojis,\n\t\tnumColumns,\n\t\tinput_input_handler,\n\t\tdiv3_binding,\n\t\tclick_handler,\n\t\tdiv10_binding,\n\t\tbutton1_binding,\n\t\tsection_binding\n\t];\n}\n\nclass Picker extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance,\n\t\t\tcreate_fragment,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tskinToneEmoji: 40,\n\t\t\t\ti18n: 0,\n\t\t\t\tdatabase: 39,\n\t\t\t\tcustomEmoji: 41,\n\t\t\t\tcustomCategorySorting: 42\n\t\t\t},\n\t\t\tnull,\n\t\t\t[-1, -1, -1]\n\t\t);\n\t}\n}\n\nconst DEFAULT_DATA_SOURCE = 'https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json';\nconst DEFAULT_LOCALE = 'en';\n\nvar enI18n = {\n  categoriesLabel: 'Categories',\n  emojiUnsupportedMessage: 'Your browser does not support color emoji.',\n  favoritesLabel: 'Favorites',\n  loadingMessage: 'Loading…',\n  networkErrorMessage: 'Could not load emoji.',\n  regionLabel: 'Emoji picker',\n  searchDescription: 'When search results are available, press up or down to select and enter to choose.',\n  searchLabel: 'Search',\n  searchResultsLabel: 'Search results',\n  skinToneDescription: 'When expanded, press up or down to select and enter to choose.',\n  skinToneLabel: 'Choose a skin tone (currently {skinTone})',\n  skinTonesLabel: 'Skin tones',\n  skinTones: [\n    'Default',\n    'Light',\n    'Medium-Light',\n    'Medium',\n    'Medium-Dark',\n    'Dark'\n  ],\n  categories: {\n    custom: 'Custom',\n    'smileys-emotion': 'Smileys and emoticons',\n    'people-body': 'People and body',\n    'animals-nature': 'Animals and nature',\n    'food-drink': 'Food and drink',\n    'travel-places': 'Travel and places',\n    activities: 'Activities',\n    objects: 'Objects',\n    symbols: 'Symbols',\n    flags: 'Flags'\n  }\n};\n\nconst PROPS = [\n  'customEmoji',\n  'customCategorySorting',\n  'database',\n  'dataSource',\n  'i18n',\n  'locale',\n  'skinToneEmoji'\n];\n\nclass PickerElement extends HTMLElement {\n  constructor (props) {\n    super();\n    this.attachShadow({ mode: 'open' });\n    const style = document.createElement('style');\n    style.textContent = \":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}\";\n    this.shadowRoot.appendChild(style);\n    this._ctx = {\n      // Set defaults\n      locale: DEFAULT_LOCALE,\n      dataSource: DEFAULT_DATA_SOURCE,\n      skinToneEmoji: DEFAULT_SKIN_TONE_EMOJI,\n      customCategorySorting: DEFAULT_CATEGORY_SORTING,\n      customEmoji: null,\n      i18n: enI18n,\n      ...props\n    };\n    // Handle properties set before the element was upgraded\n    for (const prop of PROPS) {\n      if (prop !== 'database' && Object.prototype.hasOwnProperty.call(this, prop)) {\n        this._ctx[prop] = this[prop];\n        delete this[prop];\n      }\n    }\n    this._dbFlush(); // wait for a flush before creating the db, in case the user calls e.g. a setter or setAttribute\n  }\n\n  connectedCallback () {\n    this._cmp = new Picker({\n      target: this.shadowRoot,\n      props: this._ctx\n    });\n  }\n\n  disconnectedCallback () {\n    this._cmp.$destroy();\n    this._cmp = undefined;\n\n    const { database } = this._ctx;\n    if (database) {\n      database.close()\n        // only happens if the database failed to load in the first place, so we don't care)\n        .catch(err => console.error(err));\n    }\n  }\n\n  static get observedAttributes () {\n    return ['locale', 'data-source', 'skin-tone-emoji'] // complex objects aren't supported, also use kebab-case\n  }\n\n  attributeChangedCallback (attrName, oldValue, newValue) {\n    // convert from kebab-case to camelcase\n    // see https://github.com/sveltejs/svelte/issues/3852#issuecomment-665037015\n    this._set(\n      attrName.replace(/-([a-z])/g, (_, up) => up.toUpperCase()),\n      newValue\n    );\n  }\n\n  _set (prop, newValue) {\n    this._ctx[prop] = newValue;\n    if (this._cmp) {\n      this._cmp.$set({ [prop]: newValue });\n    }\n    if (['locale', 'dataSource'].includes(prop)) {\n      this._dbFlush();\n    }\n  }\n\n  _dbCreate () {\n    const { locale, dataSource, database } = this._ctx;\n    // only create a new database if we really need to\n    if (!database || database.locale !== locale || database.dataSource !== dataSource) {\n      this._set('database', new Database({ locale, dataSource }));\n    }\n  }\n\n  // Update the Database in one microtask if the locale/dataSource change. We do one microtask\n  // so we don't create two Databases if e.g. both the locale and the dataSource change\n  _dbFlush () {\n    Promise.resolve().then(() => (\n      this._dbCreate()\n    ));\n  }\n}\n\nconst definitions = {};\n\nfor (const prop of PROPS) {\n  definitions[prop] = {\n    get () {\n      if (prop === 'database') {\n        // in rare cases, the microtask may not be flushed yet, so we need to instantiate the DB\n        // now if the user is asking for it\n        this._dbCreate();\n      }\n      return this._ctx[prop]\n    },\n    set (val) {\n      if (prop === 'database') {\n        throw new Error('database is read-only')\n      }\n      this._set(prop, val);\n    }\n  };\n}\n\nObject.defineProperties(PickerElement.prototype, definitions);\n\n/* istanbul ignore else */\nif (!customElements.get('emoji-picker')) { // if already defined, do nothing (e.g. same script imported twice)\n  customElements.define('emoji-picker', PickerElement);\n}\n\nexport { PickerElement as default };\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","current_component","src_url_equal","element_src","url","document","createElement","href","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","text","data","createTextNode","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","wholeText","set_input_value","input","set_style","key","important","style","removeProperty","setProperty","set_current_component","component","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","add_render_callback","push","seen_callbacks","Set","flushidx","saved_component","length","update","$$","pop","i","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","globals","window","globalThis","global","destroy_block","block","lookup","d","delete","update_keyed_each","old_blocks","get_key","dynamic","list","destroy","create_each_block","next","get_context","o","n","old_indexes","new_blocks","new_lookup","Map","deltas","child_ctx","get","c","set","Math","abs","will_move","did_move","local","transition_in","m","first","new_block","old_block","new_key","old_key","init","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_mount","on_destroy","on_disconnect","context","callbacks","skip_bound","root","ready","ret","rest","fill","make_dirty","customElement","new_on_destroy","map","filter","mount_component","undefined","SvelteComponent","$destroy","detaching","destroy_component","this","$on","type","index","indexOf","splice","$set","$$props","obj","$$set","keys","allGroups","id","emoji","groups","slice","customGroup","rIC","requestIdleCallback","setTimeout","hasZwj","unicode","includes","versionsAndTestEmoji","MOST_COMMONLY_USED_EMOJI","FONT_FAMILY","DEFAULT_CATEGORY_SORTING","getTextFeature","color","canvas","width","height","getContext","textBaseline","font","fillStyle","scale","fillText","getImageData","testColorEmojiSupported","feature1","feature2","feature1Str","join","startsWith","compareFeatures","emojiSupportLevelPromise","entries","version","e","determineEmojiSupportLevel","supportedZwjEmojis","halt","preventDefault","stopPropagation","incrementOrDecrement","decrement","val","arr","uniqBy","func","res","item","rAF","requestAnimationFrame","baselineEmojiWidth","resizeObserverSupported","ResizeObserver","calculateTextWidth","range","createRange","selectNode","firstChild","getBoundingClientRect","Map_1","get_each_context","get_each_context_1","get_each_context_2","get_each_context_3","get_each_context_4","create_each_block_4","key_1","div","t","div_id_value","div_class_value","div_aria_selected_value","div_title_value","div_aria_label_value","t_value","skinTones","new_ctx","create_each_block_3","button","button_aria_controls_value","button_aria_label_value","button_aria_selected_value","button_title_value","mounted","dispose","click_handler","categories","create_else_block_1","img","img_src_value","src","create_if_block_1","create_each_block_2","button_role_value","button_class_value","button_id_value","select_block_type","current_block_type","if_block","title","create_each_block_1","div0","div0_id_value","div0_class_value","div1","div1_role_value","div1_aria_labelledby_value","div1_id_value","searchResultsLabel","category","custom","each_blocks","each_1_lookup","each_value_2","emojis","create_else_block","create_if_block","select_block_type_1","section","div4","input_placeholder_value","input_aria_expanded_value","input_aria_activedescendant_value","label","t0","span0","t1","div2","button0","t2","button0_class_value","div2_class_value","span1","t3","div3","div3_class_value","div3_aria_label_value","div3_aria_activedescendant_value","div3_aria_hidden_value","div5","div5_aria_label_value","div7","div6","div8","t4","div8_class_value","div10","div9","div10_class_value","div10_role_value","div10_aria_label_value","div10_id_value","div11","div11_class_value","div11_aria_label_value","button1","section_aria_label_value","t0_value","searchLabel","t1_value","searchDescription","t3_value","skinToneDescription","each_blocks_3","each0_lookup","each_blocks_2","each1_lookup","each_blocks_1","each2_lookup","each3_lookup","each_value_4","each_value_3","get_key_1","each_value_1","get_key_2","each_value","get_key_3","textContent","skinTonesLabel","categoriesLabel","favoritesLabel","regionLabel","action_result","call","$$self","$$invalidate","rootElement","baselineEmoji","tabpanelElement","message","skinToneDropdown","skinToneButtonText","pickerStyle","defaultFavoriteEmojis","currentGroup","activeSearchItemId","skinToneEmoji","i18n","database","customEmoji","customCategorySorting","currentEmojis","currentEmojisWithCategories","rawSearchText","searchText","searchMode","activeSearchItem","skinTonePickerExpanded","skinTonePickerExpandedAfterAnimation","currentSkinTone","activeSkinTone","skinToneButtonLabel","currentFavorites","numColumns","isRtl","scrollbarWidth","currentGroupIndex","groups$1","databaseLoaded","focus","getRootNode","getElementById","fireEvent","detail","dispatchEvent","CustomEvent","bubbles","composed","unicodeWithSkin","skins","isSkinToneOption","test","checkZwjSupportAndUpdate","zwjEmojisToCheck","rootNode","emojiToDomNode","emojiWidth","supported","checkZwjSupport","isZwjSupported","async","filterEmojisByVersion","emojiSupportLevel","summarizeEmojis","toSimpleSkinsMap","skin","tone","shortcodes","summarizeEmojisForUI","onNavClick","group","findIndex","_","clickEmoji","unicodeOrName","getEmojiByUnicodeOrName","emojiSummary","find","skinTonedUnicode","incrementFavoriteEmojiCount","skinTone","onSkinToneOptionsClick","parseInt","setPreferredSkinTone","level","emojiUnsupportedMessage","handleDatabaseLoading","showingLoadingMessage","timeoutHandle","loadingMessage","err","console","error","networkErrorMessage","clearTimeout","trim","updateEmojis","currentSearchText","newEmojis","query","getEmojiBySearchQuery","getEmojisBySearchQuery","currentGroupId","getEmojiByGroup","getEmojisByGroup","updatePreferredSkinTone","getPreferredSkinTone","Array","str","zwjIndex","substring","String","fromCodePoint","endsWith","applySkinTone","skinToneLabel","replace","updateDefaultFavoriteEmojis","all","Boolean","updateFavorites","dbFavorites","getTopFavoriteEmoji","favorites","scrollTop","calculateCurrentEmojisWithCategories","categoriesToEmoji","sort","once","uniq","onUpdate","resizeObserver","contentRect","observe","disconnect","calculateWidth","getComputedStyle","newNumColumns","getPropertyValue","newIsRtl","newScrollbarWidth","parentElement","goToNextOrPrevious","previous","doFocus","el","previousSibling","nextSibling","lastChild","classList","contains","changeActiveSkinTone","nextSkinTone","relatedTarget","$$value","Picker","constructor","super","enI18n","activities","objects","symbols","flags","PROPS","PickerElement","HTMLElement","attachShadow","mode","shadowRoot","_ctx","locale","dataSource","prop","prototype","hasOwnProperty","_dbFlush","connectedCallback","_cmp","disconnectedCallback","close","catch","observedAttributes","attributeChangedCallback","attrName","oldValue","newValue","_set","up","toUpperCase","_dbCreate","definitions","Error","defineProperties","customElements","define"],"sourceRoot":""}