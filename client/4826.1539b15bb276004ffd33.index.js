"use strict";(this.webpackChunksemaphore=this.webpackChunksemaphore||[]).push([[4826],{7655:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(4178),r=a(5984);function i(){setTimeout((()=>{this.set({shown:!0})}),700)}function s(e){var t,a,s,o,h,l;if((0,n.S1)(this,e),this._state=(0,n.f0)({shown:!1},e.data),this._intro=!0,document.getElementById("svelte-10e8c6q-style")||((t=(0,n.az)("style")).id="svelte-10e8c6q-style",t.textContent=".loading-page.svelte-10e8c6q{position:absolute;top:0;left:0;right:0;height:150px;display:flex;align-items:center;justify-content:center;z-index:50;transition:opacity 0.25s linear}",(0,n.R3)(document.head,t)),this._fragment=(a=this,s=this._state,l=new r.Z({root:a.root,store:a.store}),{c(){o=(0,n.az)("div"),l._fragment.c(),this.h()},l(e){o=(0,n.d$)(e,"DIV",{class:!0},!1);var t=(0,n.pI)(o);l._fragment.l(t),t.forEach(n.r2),this.h()},h(){o.className=h="loading-page "+(s.shown?"":"hidden")+" svelte-10e8c6q"},m(e,t){(0,n.$T)(e,o,t),l._mount(o,null)},p(e,t){e.shown&&h!==(h="loading-page "+(t.shown?"":"hidden")+" svelte-10e8c6q")&&(o.className=h)},d(e){e&&(0,n.r2)(o),l.destroy()}}),this.root._oncreate.push((()=>{i.call(this),this.fire("update",{changed:(0,n.lZ)({},this._state),current:this._state})})),e.target){var d=(0,n.pI)(e.target);e.hydrate?this._fragment.l(d):this._fragment.c(),d.forEach(n.r2),this._mount(e.target,e.anchor),(0,n.yl)(this)}}(0,n.f0)(s.prototype,n.uS);const o=s},7707:(e,t,a)=>{a.r(t),a.d(t,{default:()=>M});var n=a(4178),r=a(2192),i=a(1728),s=a(997),o=a(5764),h=a(1912);function l(e){var t,a,r,i,l,d,m,c,g,f,u,p,_,v,y,I,w;if((0,n.S1)(this,e),this._state=(0,n.f0)({},e.data),this._intro=!0,document.getElementById("svelte-10yaha1-style")||((t=(0,n.az)("style")).id="svelte-10yaha1-style",t.textContent=".not-logged-in-home.svelte-10yaha1{margin:10px}.not-logged-in-home.svelte-10yaha1 .banner.svelte-10yaha1{display:flex;align-items:center;margin:0 0 30px}.not-logged-in-home-svg{width:70px;height:70px;fill:var(--banner-fill);display:inline-block}.not-logged-in-home.svelte-10yaha1 h1.svelte-10yaha1{color:var(--banner-fill);display:inline-block;font-size:3em;margin:auto 15px}@media(max-width: 767px){.not-logged-in-home.svelte-10yaha1 h1.svelte-10yaha1{font-size:2.7em}}@media(max-width: 240px){.not-logged-in-home.svelte-10yaha1 h1.svelte-10yaha1{font-size:2.5em}}",(0,n.R3)(document.head,t)),this._fragment=(a=this,this._state,y=new h.Z({root:a.root,store:a.store,data:{className:"not-logged-in-home-svg",href:"#semaphore-logo"}}),I=new s.Z({root:a.root,store:a.store,slots:{default:(0,n.xJ)()}}),w=new o.Z({root:a.root,store:a.store,slots:{default:(0,n.xJ)()}}),{c(){r=(0,n.az)("div"),i=(0,n.az)("div"),y._fragment.c(),l=(0,n.rw)("\n        "),d=(0,n.az)("h1"),m=(0,n.rw)("Semaphore"),c=(0,n.rw)("\n      "),g=(0,n.az)("div"),f=(0,n.az)("noscript"),u=(0,n.rw)("\n        "),p=(0,n.az)("p"),_=(0,n.az)("a"),v=(0,n.rw)("Log in"),I._fragment.c(),w._fragment.c(),this.h()},l(e){r=(0,n.d$)(e,"DIV",{class:!0},!1);var t=(0,n.pI)(r);i=(0,n.d$)(t,"DIV",{class:!0},!1);var a=(0,n.pI)(i);y._fragment.l(a),l=(0,n.M4)(a,"\n        "),d=(0,n.d$)(a,"H1",{class:!0},!1);var s=(0,n.pI)(d);m=(0,n.M4)(s,"Semaphore"),s.forEach(n.r2),a.forEach(n.r2),c=(0,n.M4)(t,"\n      "),g=(0,n.d$)(t,"DIV",{},!1);var o=(0,n.pI)(g);f=(0,n.az)("noscript"),u=(0,n.M4)(o,"\n        "),p=(0,n.d$)(o,"P",{style:!0},!1);var h=(0,n.pI)(p);_=(0,n.d$)(h,"A",{class:!0,rel:!0,href:!0},!1);var z=(0,n.pI)(_);v=(0,n.M4)(z,"Log in"),z.forEach(n.r2),h.forEach(n.r2),o.forEach(n.r2),t.forEach(n.r2),I._fragment.l(e),w._fragment.l(e),this.h()},h(){d.className="svelte-10yaha1",i.className="banner svelte-10yaha1",_.className="button primary",_.rel="prefetch",_.href="/settings/instances/add",(0,n.A_)(p,"text-align","right"),r.className="not-logged-in-home svelte-10yaha1"},m(e,t){(0,n.R3)(I._slotted.default,r),(0,n.R3)(r,i),y._mount(i,null),(0,n.R3)(i,l),(0,n.R3)(i,d),(0,n.R3)(d,m),(0,n.R3)(r,c),(0,n.R3)(r,g),(0,n.R3)(g,f),f.insertAdjacentHTML("beforebegin",'<p> Semaphore is a web client for <a rel="noopener" target="_blank" href="https://joinmastodon.org">Mastodon</a>, designed for speed and simplicity. </p> <p> Get started by logging in to an instance: </p>'),(0,n.R3)(g,u),(0,n.R3)(g,p),(0,n.R3)(p,_),(0,n.R3)(_,v),I._mount(w._slotted.default,null),w._mount(e,t)},p:n.ZT,d(e){y.destroy(),I.destroy(),w.destroy(e)}}),e.target){var z=(0,n.pI)(e.target);e.hydrate?this._fragment.l(z):this._fragment.c(),z.forEach(n.r2),this._mount(e.target,e.anchor),(0,n.yl)(this)}}(0,n.f0)(l.prototype,n.uS);const d=l;var m=a(5277),c=a(212),g=a(7655);var f=a(4948);async function u(){const[e]=await Promise.all([Promise.all([a.e(2936),a.e(1277),a.e(7727),a.e(4285),a.e(7323),a.e(1095),a.e(2644),a.e(7553)]).then(a.bind(a,2644)).then((e=>e.default)),(0,f.L)()]);this.set({composeBox:e})}function p(e,t){var a,r=t.composeBox;function i(t){var a={realm:t.realm,hidden:t.hidden};return{root:e.root,store:e.store,data:a}}if(r)var s=new r(i(t));return{c(){s&&s._fragment.c(),a=(0,n.Yr)()},l(e){s&&s._fragment.l(e),a=(0,n.Yr)()},m(e,t){s&&s._mount(e,t),(0,n.$T)(e,a,t)},p(e,t){var n={};e.realm&&(n.realm=t.realm),e.hidden&&(n.hidden=t.hidden),r!==(r=t.composeBox)?(s&&s.destroy(),r?((s=new r(i(t)))._fragment.c(),s._mount(a.parentNode,a)):s=null):r&&s._set(n)},d(e){e&&(0,n.r2)(a),s&&s.destroy(e)}}}function _(e){var t,a,r,i;if((0,n.S1)(this,e),this._state=(0,n.f0)({composeBox:void 0},e.data),this._intro=!0,this._fragment=(t=this,a=this._state,i=a.composeBox&&p(t,a),{c(){i&&i.c(),r=(0,n.Yr)()},l(e){i&&i.l(e),r=(0,n.Yr)()},m(e,t){i&&i.m(e,t),(0,n.$T)(e,r,t)},p(e,a){a.composeBox?i?i.p(e,a):((i=p(t,a)).c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(e){i&&i.d(e),e&&(0,n.r2)(r)}}),this.root._oncreate.push((()=>{u.call(this),this.fire("update",{changed:(0,n.lZ)({},this._state),current:this._state})})),e.target){var s=(0,n.pI)(e.target);e.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(n.r2),this._mount(e.target,e.anchor),(0,n.yl)(this)}}(0,n.f0)(_.prototype,n.uS);const v=_;var y=a(6633);function I(){this.store.set({timelineInitialized:!1,timelinePreinitialized:!1})}function w(e,t){var a=new g.Z({root:e.root,store:e.store});return{c(){a._fragment.c()},l(e){a._fragment.l(e)},m(e,t){a._mount(e,t)},d(e){a.destroy(e)}}}function z(e,t){var a=new g.Z({root:e.root,store:e.store});return{c(){a._fragment.c()},l(e){a._fragment.l(e)},m(e,t){a._mount(e,t)},d(e){a.destroy(e)}}}function $(e){var t,a,r,i,s,o,h,l,d,g,f,u,p,_,y,$,b,x;if((0,n.S1)(this,e),this.store=m.h,this._state=(0,n.f0)(this.store._init(["timelineInitialized","timelinePreinitialized","currentInstance"]),e.data),this.store._add(this,["timelineInitialized","timelinePreinitialized","currentInstance"]),this._recompute({$timelineInitialized:1,$timelinePreinitialized:1,$currentInstance:1},this._state),this._intro=!0,this._handlers.destroy=[n.iT],document.getElementById("svelte-65re5u-style")||((t=(0,n.az)("style")).id="svelte-65re5u-style",t.textContent=".timeline-home-page.svelte-65re5u,.timeline-home-anchor-container.svelte-65re5u{position:relative}.timeline-home-reveal-container.svelte-65re5u{transition:opacity 0.2s linear}",(0,n.R3)(document.head,t)),this._fragment=(a=this,r=this._state,_=r.hidePage&&w(a),y={realm:"home",hidden:r.hidePage},$=new v({root:a.root,store:a.store,data:y}),b=!r.hidePage&&r.hideTimeline&&z(a),x=new c.Z({root:a.root,store:a.store,data:{timeline:"home"}}),{c(){i=(0,n.az)("h1"),s=(0,n.rw)(r.headingLabel),o=(0,n.rw)("\n"),h=(0,n.az)("div"),_&&_.c(),l=(0,n.rw)("\n  "),$._fragment.c(),d=(0,n.rw)("\n  "),g=(0,n.az)("div"),b&&b.c(),f=(0,n.rw)("\n    "),u=(0,n.az)("div"),x._fragment.c(),this.h()},l(e){i=(0,n.d$)(e,"H1",{class:!0},!1);var t=(0,n.pI)(i);s=(0,n.M4)(t,r.headingLabel),t.forEach(n.r2),o=(0,n.M4)(e,"\n"),h=(0,n.d$)(e,"DIV",{class:!0,"aria-busy":!0},!1);var a=(0,n.pI)(h);_&&_.l(a),l=(0,n.M4)(a,"\n  "),$._fragment.l(a),d=(0,n.M4)(a,"\n  "),g=(0,n.d$)(a,"DIV",{class:!0},!1);var m=(0,n.pI)(g);b&&b.l(m),f=(0,n.M4)(m,"\n    "),u=(0,n.d$)(m,"DIV",{class:!0},!1);var c=(0,n.pI)(u);x._fragment.l(c),c.forEach(n.r2),m.forEach(n.r2),a.forEach(n.r2),this.h()},h(){i.className="sr-only",u.className=p="timeline-home-reveal-container "+(r.hideTimeline?"hidden":"")+" svelte-65re5u",g.className="timeline-home-anchor-container svelte-65re5u",h.className="timeline-home-page svelte-65re5u",(0,n.P$)(h,"aria-busy",r.hideTimeline)},m(e,t){(0,n.$T)(e,i,t),(0,n.R3)(i,s),(0,n.$T)(e,o,t),(0,n.$T)(e,h,t),_&&_.m(h,null),(0,n.R3)(h,l),$._mount(h,null),(0,n.R3)(h,d),(0,n.R3)(h,g),b&&b.m(g,null),(0,n.R3)(g,f),(0,n.R3)(g,u),x._mount(u,null)},p(e,t){e.headingLabel&&(0,n.a_)(s,t.headingLabel),t.hidePage?_||((_=w(a)).c(),_.m(h,l)):_&&(_.d(1),_=null);var r={};e.hidePage&&(r.hidden=t.hidePage),$._set(r),!t.hidePage&&t.hideTimeline?b||((b=z(a)).c(),b.m(g,f)):b&&(b.d(1),b=null),e.hideTimeline&&p!==(p="timeline-home-reveal-container "+(t.hideTimeline?"hidden":"")+" svelte-65re5u")&&(u.className=p),e.hideTimeline&&(0,n.P$)(h,"aria-busy",t.hideTimeline)},d(e){e&&((0,n.r2)(i),(0,n.r2)(o),(0,n.r2)(h)),_&&_.d(),$.destroy(),b&&b.d(),x.destroy()}}),this.root._oncreate.push((()=>{I.call(this),this.fire("update",{changed:(0,n.lZ)({},this._state),current:this._state})})),e.target){var T=(0,n.pI)(e.target);e.hydrate?this._fragment.l(T):this._fragment.c(),T.forEach(n.r2),this._mount(e.target,e.anchor),(0,n.yl)(this)}}(0,n.f0)($.prototype,n.uS),$.prototype._recompute=function(e,t){(e.$timelineInitialized||e.$timelinePreinitialized)&&this._differs(t.hidePage,t.hidePage=function({$timelineInitialized:e,$timelinePreinitialized:t}){return!e&&!t}(t))&&(e.hidePage=!0),e.$timelineInitialized&&this._differs(t.hideTimeline,t.hideTimeline=function({$timelineInitialized:e}){return!e}(t))&&(e.hideTimeline=!0),e.$currentInstance&&this._differs(t.headingLabel,t.headingLabel=function({$currentInstance:e}){return(0,y.A)(["Home on ",["instance"]],{instance:e})}(t))&&(e.headingLabel=!0)};const b=$;var x=a(1372),T=a(3973);var P={observe:x.N7};async function R(){!function(){const e=new URLSearchParams(location.search),t=e.get("accessToken"),a=e.get("instanceName");if(!t||!a)return;const{loggedInInstances:n,loggedInInstancesInOrder:r}=m.h.get();n[a]={access_token:t},r.includes(a)||r.push(a),m.h.set({currentInstance:a,loggedInInstances:n,loggedInInstancesInOrder:r}),m.h.save(),(0,T.E9)("/")}()}function E(e,t){var a=new d({root:e.root,store:e.store});return{c(){a._fragment.c()},l(e){a._fragment.l(e)},m(e,t){a._mount(e,t)},d(e){a.destroy(e)}}}function N(e,t){var a=new b({root:e.root,store:e.store});return{c(){a._fragment.c()},l(e){a._fragment.l(e)},m(e,t){a._mount(e,t)},d(e){a.destroy(e)}}}function S(e){if((0,n.S1)(this,e),this.store=m.h,this._state=(0,n.f0)(this.store._init(["isUserLoggedIn"]),e.data),this.store._add(this,["isUserLoggedIn"]),this._intro=!0,this._handlers.destroy=[n.iT],this._fragment=function(e,t){var a;function r(e){return e.$isUserLoggedIn?N:E}var i=r(t),s=i(e,t);return{c(){s.c(),a=(0,n.Yr)()},l(e){s.l(e),a=(0,n.Yr)()},m(e,t){s.m(e,t),(0,n.$T)(e,a,t)},p(t,n){i!==(i=r(n))&&(s.d(1),(s=i(e,n)).c(),s.m(a.parentNode,a))},d(e){s.d(e),e&&(0,n.r2)(a)}}}(this,this._state),this.root._oncreate.push((()=>{R.call(this),this.fire("update",{changed:(0,n.lZ)({},this._state),current:this._state})})),e.target){var t=(0,n.pI)(e.target);e.hydrate?this._fragment.l(t):this._fragment.c(),t.forEach(n.r2),this._mount(e.target,e.anchor),(0,n.yl)(this)}}(0,n.f0)(S.prototype,n.uS),(0,n.f0)(S.prototype,P);const L=S;function Z(e){var t,a,s,o,h,l;if((0,n.S1)(this,e),this._state=(0,n.f0)({pageComponent:L},e.data),this._intro=!0,this._fragment=(t=this,a=this._state,o=new r.Z({root:t.root,store:t.store,data:{name:"Home"}}),h={pageComponent:a.pageComponent,params:a.params},l=new i.Z({root:t.root,store:t.store,data:h}),{c(){o._fragment.c(),s=(0,n.rw)("\n\n  "),l._fragment.c()},l(e){o._fragment.l(e),s=(0,n.M4)(e,"\n\n  "),l._fragment.l(e)},m(e,t){o._mount(e,t),(0,n.$T)(e,s,t),l._mount(e,t)},p(e,t){var a={};e.pageComponent&&(a.pageComponent=t.pageComponent),e.params&&(a.params=t.params),l._set(a)},d(e){o.destroy(e),e&&(0,n.r2)(s),l.destroy(e)}}),e.target){var d=(0,n.pI)(e.target);e.hydrate?this._fragment.l(d):this._fragment.c(),d.forEach(n.r2),this._mount(e.target,e.anchor),(0,n.yl)(this)}}(0,n.f0)(Z.prototype,n.uS);const M=Z}}]);
//# sourceMappingURL=4826.1539b15bb276004ffd33.index.js.map