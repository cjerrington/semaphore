(()=>{"use strict";var t={847:t=>{t.exports=function(t){function e(t,e,n,r){function o(e){"function"!=typeof self.postMessage?t.ports[0].postMessage(e):self.postMessage(e)}n?("undefined"!=typeof console&&"error"in console&&console.error("Worker caught an error:",n),o([e,{message:n.message}])):o([e,null,r])}self.addEventListener("message",(function(n){var r=n.data;if(Array.isArray(r)&&2===r.length){var o=r[0],s=r[1];"function"!=typeof t?e(n,o,new Error("Please pass a function into register().")):function(t,n,r,o){var s,a=function(e,n){try{return{res:e(n)}}catch(t){return{err:t}}}(n,o);a.err?e(t,r,a.err):!(s=a.res)||"object"!=typeof s&&"function"!=typeof s||"function"!=typeof s.then?e(t,r,null,a.res):a.res.then((function(n){e(t,r,null,n)}),(function(n){e(t,r,n)}))}(n,t,o,s)}}))}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,n),s.exports}(()=>{const t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],e=e=>{let n=0;for(let r=0;r<e.length;r++){const o=e[r];n=83*n+t.indexOf(o)}return n},r=t=>{let e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},o=t=>{let e=Math.max(0,Math.min(1,t));return e<=.0031308?Math.round(12.92*e*255+.5):Math.round(255*(1.055*Math.pow(e,1/2.4)-.055)+.5)},s=(t,e)=>(t<0?-1:1)*Math.pow(Math.abs(t),e);class a extends Error{constructor(t){super(t),this.name="ValidationError",this.message=t}}const c=t=>{if(!t||t.length<6)throw new a("The blurhash string must be at least 6 characters");const n=e(t[0]),r=Math.floor(n/9)+1,o=n%9+1;if(t.length!==4+2*o*r)throw new a(`blurhash length mismatch: length is ${t.length} but it should be ${4+2*o*r}`)},u=t=>{const e=t>>8&255,n=255&t;return[r(t>>16),r(e),r(n)]},l=(t,e)=>{const n=Math.floor(t/361),r=Math.floor(t/19)%19,o=t%19;return[s((n-9)/9,2)*e,s((r-9)/9,2)*e,s((o-9)/9,2)*e]},i=(t,n,r,s)=>{c(t),s|=1;const a=e(t[0]),i=Math.floor(a/9)+1,f=a%9+1,h=(e(t[1])+1)/166,g=new Array(f*i);for(let o=0;o<g.length;o++)if(0===o){const n=e(t.substring(2,6));g[o]=u(n)}else{const n=e(t.substring(4+2*o,6+2*o));g[o]=l(n,h*s)}const d=4*n,p=new Uint8ClampedArray(d*r);for(let e=0;e<r;e++)for(let t=0;t<n;t++){let s=0,a=0,c=0;for(let o=0;o<i;o++)for(let u=0;u<f;u++){const l=Math.cos(Math.PI*t*u/n)*Math.cos(Math.PI*e*o/r);let i=g[u+o*f];s+=i[0]*l,a+=i[1]*l,c+=i[2]*l}let u=o(s),l=o(a),h=o(c);p[4*t+0+e*d]=u,p[4*t+1+e*d]=l,p[4*t+2+e*d]=h,p[4*t+3+e*d]=255}return p};var f=n(847);const h=32;function g(t){let e,n;return()=>(n||(e=t(),n=!0),e)}const d=g((()=>/Chrome/.test(navigator.userAgent)));const p=g((()=>d()&&function(){try{return parseInt(navigator.userAgent.match(/Chrome\/(\d+)/)[1],10)||void 0}catch(t){return}}()<82))()||"function"!=typeof OffscreenCanvas?null:new OffscreenCanvas(h,h),M=p?p.getContext("2d"):null;f((async t=>{const e=i(t,h,h);if(!e)throw new Error("decode did not return any pixels");const n=new ImageData(e,h,h);if(p){M.putImageData(n,0,0);const t=await p.convertToBlob();return{decoded:URL.createObjectURL(t),imageData:null}}return{imageData:n,decoded:null}}))})()})();
//# sourceMappingURL=blurhash.ef9e7ca2b2b022bba07d.blurhash.js.map