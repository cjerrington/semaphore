"use strict";(this.webpackChunksemaphore=this.webpackChunksemaphore||[]).push([[2644],{8044:(t,e,s)=>{s.d(e,{Z:()=>m});var o=s(4178),a=s(8183),i=s(5277),r=s(1372),n=s(7686),l=s(658);const c=(0,n.g)(requestAnimationFrame);var u={observe:r.N7};function d(){const{lengthAsFraction:t}=this.get();this.set({lengthAsFractionDeferred:t}),this.observe("lengthAsFraction",(()=>{c((()=>{(0,a.B)("set lengthAsFractionDeferred");const{lengthAsFraction:t}=this.get();this.set({lengthAsFractionDeferred:t}),(0,a.s)("set lengthAsFractionDeferred"),requestAnimationFrame((()=>this.set({shouldAnimate:!0})))}))}),{init:!1})}function h(t){var e,s,a;if((0,o.S1)(this,t),this.store=i.h,this._state=(0,o.f0)((0,o.f0)(this.store._init(["reduceMotion"]),{shouldAnimate:!1,lengthAsFractionDeferred:0,style:""}),t.data),this.store._add(this,["reduceMotion"]),this._recompute({length:1,max:1,shouldAnimate:1,overLimit:1,$reduceMotion:1,style:1,lengthAsFractionDeferred:1},this._state),this._intro=!0,this._handlers.destroy=[o.iT],document.getElementById("svelte-18bfu03-style")||((e=(0,o.az)("style")).id="svelte-18bfu03-style",e.textContent=".length-gauge.svelte-18bfu03{height:2px;background:var(--main-theme-color);transform-origin:left}.length-gauge.should-animate.svelte-18bfu03{transition:transform 0.2s linear}.length-gauge.over-char-limit.svelte-18bfu03{background:var(--warning-color)}",(0,o.R3)(document.head,e)),this._fragment=(s=this._state,{c(){a=(0,o.az)("div"),this.h()},l(t){a=(0,o.d$)(t,"DIV",{class:!0,style:!0,"aria-hidden":!0},!1),(0,o.pI)(a).forEach(o.r2),this.h()},h(){a.className=s.computedClass+" svelte-18bfu03",a.style.cssText=s.computedStyle,(0,o.P$)(a,"aria-hidden","true")},m(t,e){(0,o.$T)(t,a,e)},p(t,e){t.computedClass&&(a.className=e.computedClass+" svelte-18bfu03"),t.computedStyle&&(a.style.cssText=e.computedStyle)},d(t){t&&(0,o.r2)(a)}}),this.root._oncreate.push((()=>{d.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),t.target){var r=(0,o.pI)(t.target);t.hydrate?this._fragment.l(r):this._fragment.c(),r.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(h.prototype,o.uS),(0,o.f0)(h.prototype,u),h.prototype._recompute=function(t,e){(t.length||t.max)&&this._differs(e.lengthAsFraction,e.lengthAsFraction=function({length:t,max:e}){const s=Math.round(Math.min(e,t)/e*100);return(s-s%2)/100}(e))&&(t.lengthAsFraction=!0),(t.shouldAnimate||t.overLimit||t.$reduceMotion)&&this._differs(e.computedClass,e.computedClass=function({shouldAnimate:t,overLimit:e,$reduceMotion:s}){return(0,l.q)("length-gauge",!s&&t&&"should-animate",e&&"over-char-limit")}(e))&&(t.computedClass=!0),(t.style||t.lengthAsFractionDeferred)&&this._differs(e.computedStyle,e.computedStyle=function({style:t,lengthAsFractionDeferred:e}){return`transform: scaleX(${e}); ${t}`}(e))&&(t.computedStyle=!0)};const m=h},9260:(t,e,s)=>{s.d(e,{Z:()=>d});var o=s(4178),a=s(8183),i=s(5277),r=s(1372);const n=(0,s(7686).g)(requestAnimationFrame);var l={observe:r.N7};function c(){const{lengthToDisplay:t}=this.get();this.set({lengthToDisplayDeferred:t}),this.observe("lengthToDisplay",(()=>{n((()=>{(0,a.B)("set lengthToDisplayDeferred");const{lengthToDisplay:t}=this.get();this.set({lengthToDisplayDeferred:t}),(0,a.s)("set lengthToDisplayDeferred")}))}),{init:!1})}function u(t){var e,s,a,r,n;if((0,o.S1)(this,t),this.store=i.h,this._state=(0,o.f0)({lengthToDisplayDeferred:0,style:""},t.data),this._recompute({length:1,max:1,lengthToDisplayDeferred:1},this._state),this._intro=!0,document.getElementById("svelte-rucd90-style")||((e=(0,o.az)("style")).id="svelte-rucd90-style",e.textContent=".length-indicator.svelte-rucd90{color:var(--length-indicator-color);font-size:1.3em}.length-indicator.over-char-limit.svelte-rucd90{color:var(--warning-color)}",(0,o.R3)(document.head,e)),this._fragment=(s=this._state,{c(){a=(0,o.az)("span"),r=(0,o.rw)(s.lengthToDisplayDeferred),this.h()},l(t){a=(0,o.d$)(t,"SPAN",{class:!0,"aria-live":!0,"aria-atomic":!0,style:!0},!1);var e=(0,o.pI)(a);r=(0,o.M4)(e,s.lengthToDisplayDeferred),e.forEach(o.r2),this.h()},h(){a.className=n="length-indicator "+(s.overLimit?"over-char-limit":"")+" svelte-rucd90",(0,o.P$)(a,"aria-live",s.lengthVerbosity),(0,o.P$)(a,"aria-atomic","true"),a.style.cssText=s.style},m(t,e){(0,o.$T)(t,a,e),(0,o.R3)(a,r)},p(t,e){t.lengthToDisplayDeferred&&(0,o.a_)(r,e.lengthToDisplayDeferred),t.overLimit&&n!==(n="length-indicator "+(e.overLimit?"over-char-limit":"")+" svelte-rucd90")&&(a.className=n),t.lengthVerbosity&&(0,o.P$)(a,"aria-live",e.lengthVerbosity),t.style&&(a.style.cssText=e.style)},d(t){t&&(0,o.r2)(a)}}),this.root._oncreate.push((()=>{c.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),t.target){var l=(0,o.pI)(t.target);t.hydrate?this._fragment.l(l):this._fragment.c(),l.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(u.prototype,o.uS),(0,o.f0)(u.prototype,l),u.prototype._recompute=function(t,e){(t.length||t.max)&&this._differs(e.lengthToDisplay,e.lengthToDisplay=function({length:t,max:e}){return e-t}(e))&&(t.lengthToDisplay=!0),t.lengthToDisplayDeferred&&this._differs(e.lengthVerbosity,e.lengthVerbosity=function({lengthToDisplayDeferred:t}){return t>10?"off":"polite"}(e))&&(t.lengthVerbosity=!0)};const d=u},2644:(t,e,s)=>{s.r(e),s.d(e,{default:()=>Ae});var o=s(4178),a=s(4437),i=s(5277);var r=s(9603);var n=s(689);var l=s(7376),c=s(6633);var u={async onEmojiClick(){const{realm:t}=this.get(),{currentInstance:e}=this.store.get(),[o]=await Promise.all([Promise.all([s.e(8289),s.e(3274),s.e(7539),s.e(7080),s.e(9418)]).then(s.bind(s,9418)).then((t=>t.default)),(0,l.Mj)(e)]);o(t)},onMediaClick(){this.refs.input.click()},async onFileChange(t){const{files:e}=t.target,{realm:s}=this.get();for(const o of e)await(0,r.m)(s,o)},async onPostPrivacyClick(){const{realm:t}=this.get();(await Promise.all([s.e(7539),s.e(7080),s.e(9499),s.e(7807)]).then(s.bind(s,7807)).then((t=>t.default)))(t)},onContentWarningClick(){const{realm:t}=this.get();!function(t){const e=i.h.getComposeData(t,"contentWarningShown"),s=i.h.getComposeData(t,"contentWarning"),o=!e;i.h.setComposeData(t,{contentWarning:o?s:"",contentWarningShown:o,sensitive:s&&o})}(t)},onPollClick(){const{poll:t,realm:e}=this.get();t&&t.options&&t.options.length?function(t){i.h.setComposeData(t,{poll:null})}(e):function(t){i.h.setComposeData(t,{poll:{options:["",""]}})}(e)}};function d(t){var e;if((0,o.S1)(this,t),this.store=i.h,this.refs={},this._state=(0,o.f0)((0,o.f0)(this.store._init(["uploadingMedia"]),{mediaAccept:n.ZG}),t.data),this.store._add(this,["uploadingMedia"]),this._recompute({postPrivacy:1},this._state),this._intro=!0,this._handlers.destroy=[o.iT],document.getElementById("svelte-1r2xfng-style")||((e=(0,o.az)("style")).id="svelte-1r2xfng-style",e.textContent=".compose-box-toolbar.svelte-1r2xfng{grid-area:toolbar;align-self:center}.compose-box-toolbar-items.svelte-1r2xfng{display:flex;align-items:center}@media(max-width: 320px){button.icon-button.compose-toolbar-button{padding-left:5px;padding-right:5px}}@media(max-width: 240px){button.icon-button.compose-toolbar-button .icon-button-svg{width:20px;height:20px}}",(0,o.R3)(document.head,e)),this._fragment=function(t,e){var s,i,r,n,l,c,u,d,h=new a.Z({root:t.root,store:t.store,data:{className:"compose-toolbar-button",label:"Insert emoji",href:"#fa-smile"}});h.on("click",(function(e){t.onEmojiClick()}));var m={className:"compose-toolbar-button",svgClassName:e.$uploadingMedia?"spin":"",label:"Add media (images, video, audio)",href:e.$uploadingMedia?"#fa-spinner":"#fa-camera",disabled:e.$uploadingMedia||4===e.media.length},p=new a.Z({root:t.root,store:t.store,data:m});p.on("click",(function(e){t.onMediaClick()}));var g={className:"compose-toolbar-button",label:"Add poll",pressedLabel:"Remove poll",href:"#fa-bar-chart",pressable:!0,pressed:e.poll&&e.poll.options&&e.poll.options.length},f=new a.Z({root:t.root,store:t.store,data:g});f.on("click",(function(e){t.onPollClick()}));var v={className:"compose-toolbar-button",label:e.postPrivacyLabel,href:e.postPrivacy.icon},y=new a.Z({root:t.root,store:t.store,data:v});y.on("click",(function(e){t.onPostPrivacyClick()}));var b={className:"compose-toolbar-button",label:"Add content warning",pressedLabel:"Remove content warning",href:"#fa-exclamation-triangle",pressable:!0,pressed:e.contentWarningShown},x=new a.Z({root:t.root,store:t.store,data:b});function _(e){t.onFileChange(e)}return x.on("click",(function(e){t.onContentWarningClick()})),{c(){s=(0,o.az)("div"),i=(0,o.az)("div"),h._fragment.c(),r=(0,o.rw)("\n    "),p._fragment.c(),n=(0,o.rw)("\n    "),f._fragment.c(),l=(0,o.rw)("\n    "),y._fragment.c(),c=(0,o.rw)("\n    "),x._fragment.c(),u=(0,o.rw)("\n  "),d=(0,o.az)("input"),this.h()},l(t){s=(0,o.d$)(t,"DIV",{class:!0},!1);var e=(0,o.pI)(s);i=(0,o.d$)(e,"DIV",{class:!0},!1);var a=(0,o.pI)(i);h._fragment.l(a),r=(0,o.M4)(a,"\n    "),p._fragment.l(a),n=(0,o.M4)(a,"\n    "),f._fragment.l(a),l=(0,o.M4)(a,"\n    "),y._fragment.l(a),c=(0,o.M4)(a,"\n    "),x._fragment.l(a),a.forEach(o.r2),u=(0,o.M4)(e,"\n  "),d=(0,o.d$)(e,"INPUT",{style:!0,type:!0,multiple:!0,accept:!0},!1),(0,o.pI)(d).forEach(o.r2),e.forEach(o.r2),this.h()},h(){i.className="compose-box-toolbar-items svelte-1r2xfng",(0,o.NH)(d,"change",_),(0,o.A_)(d,"display","none"),(0,o.P$)(d,"type","file"),d.multiple=!0,d.accept=e.mediaAccept,s.className="compose-box-toolbar svelte-1r2xfng"},m(e,a){(0,o.$T)(e,s,a),(0,o.R3)(s,i),h._mount(i,null),(0,o.R3)(i,r),p._mount(i,null),(0,o.R3)(i,n),f._mount(i,null),(0,o.R3)(i,l),y._mount(i,null),(0,o.R3)(i,c),x._mount(i,null),(0,o.R3)(s,u),(0,o.R3)(s,d),t.refs.input=d},p(t,e){var s={};t.$uploadingMedia&&(s.svgClassName=e.$uploadingMedia?"spin":""),t.$uploadingMedia&&(s.href=e.$uploadingMedia?"#fa-spinner":"#fa-camera"),(t.$uploadingMedia||t.media)&&(s.disabled=e.$uploadingMedia||4===e.media.length),p._set(s);var o={};t.poll&&(o.pressed=e.poll&&e.poll.options&&e.poll.options.length),f._set(o);var a={};t.postPrivacyLabel&&(a.label=e.postPrivacyLabel),t.postPrivacy&&(a.href=e.postPrivacy.icon),y._set(a);var i={};t.contentWarningShown&&(i.pressed=e.contentWarningShown),x._set(i),t.mediaAccept&&(d.accept=e.mediaAccept)},d(e){e&&(0,o.r2)(s),h.destroy(),p.destroy(),f.destroy(),y.destroy(),x.destroy(),(0,o.ys)(d,"change",_),t.refs.input===d&&(t.refs.input=null)}}}(this,this._state),t.target){var s=(0,o.pI)(t.target);t.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(d.prototype,o.uS),(0,o.f0)(d.prototype,u),d.prototype._recompute=function(t,e){t.postPrivacy&&this._differs(e.postPrivacyLabel,e.postPrivacyLabel=function({postPrivacy:t}){return(0,c.A)(["Adjust privacy (currently ",["label"],")"],{label:t.label})}(e))&&(t.postPrivacyLabel=!0)};const h=d;var m=s(8044);function p(t){var e,s,a,r;if((0,o.S1)(this,t),this.store=i.h,this._state=(0,o.f0)(this.store._init(["maxStatusChars"]),t.data),this.store._add(this,["maxStatusChars"]),this._intro=!0,this._handlers.destroy=[o.iT],this._fragment=(e=this,s=this._state,a={style:"grid-area: gauge; margin: 0 0 5px 5px;",length:s.length,overLimit:s.overLimit,max:s.$maxStatusChars},r=new m.Z({root:e.root,store:e.store,data:a}),{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var s={};t.length&&(s.length=e.length),t.overLimit&&(s.overLimit=e.overLimit),t.$maxStatusChars&&(s.max=e.$maxStatusChars),r._set(s)},d(t){r.destroy(t)}}),t.target){var n=(0,o.pI)(t.target);t.hydrate?this._fragment.l(n):this._fragment.c(),n.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(p.prototype,o.uS);const g=p;var f=s(9260);function v(t){var e,s,a,r;if((0,o.S1)(this,t),this.store=i.h,this._state=(0,o.f0)(this.store._init(["maxStatusChars"]),t.data),this.store._add(this,["maxStatusChars"]),this._intro=!0,this._handlers.destroy=[o.iT],this._fragment=(e=this,s=this._state,a={length:s.length,overLimit:s.overLimit,max:s.$maxStatusChars,style:"grid-area: length; justify-self: right; align-self: center;"},r=new f.Z({root:e.root,store:e.store,data:a}),{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var s={};t.length&&(s.length=e.length),t.overLimit&&(s.overLimit=e.overLimit),t.$maxStatusChars&&(s.max=e.$maxStatusChars),r._set(s)},d(t){r.destroy(t)}}),t.target){var n=(0,o.pI)(t.target);t.hydrate?this._fragment.l(n):this._fragment.c(),n.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(v.prototype,o.uS);const y=v;var b=s(3291),x=s(4124),_=s(4358),w=s(3973);var k={onClick(t){const{realm:e,dialogId:s,href:o}=this.get();"dialog"===e&&(t.preventDefault(),t.stopPropagation(),(0,_.j)("closeDialog",s),setTimeout((()=>{(0,w.E9)(o)})))}};function S(t){var e;if((0,o.S1)(this,t),this.store=i.h,this._state=(0,o.f0)(this.store._init(["currentVerifyCredentials","isVeryTinyMobileSize"]),t.data),this.store._add(this,["currentVerifyCredentials","isVeryTinyMobileSize"]),this._recompute({$currentVerifyCredentials:1,verifyCredentials:1,id:1,$isVeryTinyMobileSize:1},this._state),this._intro=!0,this._handlers.destroy=[o.iT],document.getElementById("svelte-12d3287-style")||((e=(0,o.az)("style")).id="svelte-12d3287-style",e.textContent=".compose-box-avatar.svelte-12d3287{grid-area:avatar;margin-right:15px}.compose-box-display-name.svelte-12d3287{color:var(--deemphasized-text-color);grid-area:name;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:1.1em;margin-left:5px;font-weight:600}.compose-box-display-name.svelte-12d3287,.compose-box-display-name.svelte-12d3287:hover,.compose-box-display-name.svelte-12d3287:visited{color:var(--body-text-color)}.compose-box-handle{grid-area:handle;color:var(--deemphasized-text-color);min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:1.1em;margin-left:5px}.not-loaded.svelte-12d3287{visibility:hidden}.loaded.svelte-12d3287{visibility:visible}@media(max-width: 767px){.compose-box-avatar.svelte-12d3287{margin-right:5px}}@media(max-width: 240px){.compose-box-avatar.svelte-12d3287{margin-right:0}}",(0,o.R3)(document.head,e)),this._fragment=function(t,e){var s,a,i,r,n,l,c,u,d,h,m,p="@"+e.verifyCredentials.acct,g={account:e.verifyCredentials,size:e.avatarSize},f=new b.Z({root:t.root,store:t.store,data:g});function v(e){t.onClick(e)}var y={account:e.verifyCredentials},_=new x.Z({root:t.root,store:t.store,data:y});function w(e){t.onClick(e)}return{c(){s=(0,o.az)("a"),f._fragment.c(),i=(0,o.rw)("\n"),r=(0,o.az)("a"),_._fragment.c(),c=(0,o.rw)("\n\n"),u=(0,o.az)("span"),d=(0,o.rw)(p),this.h()},l(t){s=(0,o.d$)(t,"A",{href:!0,rel:!0,class:!0,"aria-hidden":!0,tabindex:!0},!1);var e=(0,o.pI)(s);f._fragment.l(e),e.forEach(o.r2),i=(0,o.M4)(t,"\n"),r=(0,o.d$)(t,"A",{class:!0,href:!0,"aria-busy":!0,"aria-live":!0,rel:!0},!1);var a=(0,o.pI)(r);_._fragment.l(a),a.forEach(o.r2),c=(0,o.M4)(t,"\n\n"),u=(0,o.d$)(t,"SPAN",{class:!0,"aria-busy":!0,"aria-live":!0},!1);var n=(0,o.pI)(u);d=(0,o.M4)(n,p),n.forEach(o.r2),this.h()},h(){(0,o.NH)(s,"click",v),s.href=e.href,s.rel="prefetch",s.className=a="compose-box-avatar "+(e.loaded?"loaded":"not-loaded")+" svelte-12d3287",(0,o.P$)(s,"aria-hidden","true"),s.tabIndex="-1",(0,o.NH)(r,"click",w),r.className=n="compose-box-display-name "+(e.loaded?"loaded":"not-loaded")+" svelte-12d3287",r.href=e.href,(0,o.P$)(r,"aria-busy",l=!e.loaded),(0,o.P$)(r,"aria-live","off"),r.rel="prefetch",u.className=h="compose-box-handle "+(e.loaded?"loaded":"not-loaded")+" svelte-12d3287",(0,o.P$)(u,"aria-busy",m=!e.loaded),(0,o.P$)(u,"aria-live","off")},m(t,e){(0,o.$T)(t,s,e),f._mount(s,null),(0,o.$T)(t,i,e),(0,o.$T)(t,r,e),_._mount(r,null),(0,o.$T)(t,c,e),(0,o.$T)(t,u,e),(0,o.R3)(u,d)},p(t,e){var i={};t.verifyCredentials&&(i.account=e.verifyCredentials),t.avatarSize&&(i.size=e.avatarSize),f._set(i),t.href&&(s.href=e.href),t.loaded&&a!==(a="compose-box-avatar "+(e.loaded?"loaded":"not-loaded")+" svelte-12d3287")&&(s.className=a);var c={};t.verifyCredentials&&(c.account=e.verifyCredentials),_._set(c),t.loaded&&n!==(n="compose-box-display-name "+(e.loaded?"loaded":"not-loaded")+" svelte-12d3287")&&(r.className=n),t.href&&(r.href=e.href),t.loaded&&l!==(l=!e.loaded)&&(0,o.P$)(r,"aria-busy",l),t.verifyCredentials&&p!==(p="@"+e.verifyCredentials.acct)&&(0,o.a_)(d,p),t.loaded&&h!==(h="compose-box-handle "+(e.loaded?"loaded":"not-loaded")+" svelte-12d3287")&&(u.className=h),t.loaded&&m!==(m=!e.loaded)&&(0,o.P$)(u,"aria-busy",m)},d(t){t&&(0,o.r2)(s),f.destroy(),(0,o.ys)(s,"click",v),t&&((0,o.r2)(i),(0,o.r2)(r)),_.destroy(),(0,o.ys)(r,"click",w),t&&((0,o.r2)(c),(0,o.r2)(u))}}}(this,this._state),t.target){var s=(0,o.pI)(t.target);t.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(S.prototype,o.uS),(0,o.f0)(S.prototype,k),S.prototype._recompute=function(t,e){t.$currentVerifyCredentials&&(this._differs(e.loaded,e.loaded=function({$currentVerifyCredentials:t}){return!!t}(e))&&(t.loaded=!0),this._differs(e.verifyCredentials,e.verifyCredentials=function({$currentVerifyCredentials:t}){return t||{display_name:"",acct:"",avatar:n.Pf,avatar_static:n.Pf}}(e))&&(t.verifyCredentials=!0)),t.verifyCredentials&&this._differs(e.id,e.id=function({verifyCredentials:t}){return t&&t.id}(e))&&(t.id=!0),t.id&&this._differs(e.href,e.href=function({id:t}){return t?`/accounts/${t}`:"#"}(e))&&(t.href=!0),t.$isVeryTinyMobileSize&&this._differs(e.avatarSize,e.avatarSize=function({$isVeryTinyMobileSize:t}){return t?"extra-small":"small"}(e))&&(t.avatarSize=!0)};const $=S;var I=s(4831),z=s(9970),F=s(8183),D=s(7041);const T=t=>t.unicode?t.unicode:`:${t.shortcodes[0]}:`,C=t=>`#${t.name}`,E=t=>`@${t.acct}`;async function A(t,e,s,o){const{currentInstance:a}=i.h.get(),r=i.h.getComposeData(t,"text"),n=`${r.substring(0,s)}${e} ${r.substring(o)}`;i.h.setComposeData(t,{text:n}),i.h.setForAutosuggest(a,t,{autosuggestSearchResults:[]})}async function N(t,e){const{composeSelectionStart:s,autosuggestSearchText:o,autosuggestSelected:a,autosuggestSearchResults:r}=i.h.get(),n=r[a],l=s-o.length,c=s;await A(t,e(n),l,c)}function P(t){const{currentComposeRealm:e,composeSelectionStart:s,autosuggestSearchText:o}=i.h.get(),a=s-o.length,r=s;t.acct?async function(t,e,s,o){await A(t,E(e),s,o)}(e,t,a,r):t.shortcodes?async function(t,e,s,o){await A(t,T(e),s,o)}(e,t,a,r):async function(t,e,s,o){await A(t,C(e),s,o)}(e,t,a,r)}var R=s(1372),M=s(85),L=s(101),j=s(7686);const W=(0,s(8978).I)((()=>"undefined"!=typeof webkitIndexedDB)),q=(0,j.g)(z.F);var B={observe:R.N7,setupSyncFromStore(){const t=this.refs.textarea;let e=!0;this.observe("text",(s=>{const{rawText:o}=this.get();if(o!==s){let a;if(!e){const{selectionStart:e,selectionEnd:i}=t;e>0&&e===i&&(a=s.length-o.length+e)}this.set({rawText:s}),"number"==typeof a&&a>0&&(t.selectionStart=t.selectionEnd=a),(0,F.B)("autosize.update()"),I.i.update(t),(0,F.s)("autosize.update()")}if(e){e=!1;const{autoFocus:s}=this.get();if(s){const{realm:e}=this.get();"dialog"===e?t.setAttribute("autofocus",!0):requestAnimationFrame((()=>t.focus({preventScroll:!0})))}}}))},setupSyncToStore(){const{realm:t}=this.get();this.observe("rawText",(e=>{q((()=>{(0,F.B)("updateComposeTextInStore"),this.store.setComposeData(t,{text:e}),this.store.save(),(0,F.s)("updateComposeTextInStore")}))}),{init:!1})},setupAutosize(){const t=this.refs.textarea;(0,L.b)((()=>{(0,F.B)("autosize()"),(0,I.i)(t),(0,F.s)("autosize()")}))},teardownAutosize(){(0,F.B)("autosize.destroy()"),I.i.destroy(this.refs.textarea),(0,F.s)("autosize.destroy()")},onBlur(){requestAnimationFrame((()=>{this.store.setForCurrentAutosuggest({composeFocused:!1})}))},onFocus(){(0,z.F)((()=>{const{realm:t}=this.get();this.store.set({currentComposeRealm:t}),this.store.setForCurrentAutosuggest({composeFocused:!0})}))},onSelectionChange(t){(0,z.F)((()=>{this.store.setForCurrentAutosuggest({composeSelectionStart:t})}))},onKeydown(t){const{keyCode:e}=t,s=t.getModifierState("Control")||t.getModifierState("Meta");switch(e){case 9:this.clickSelectedAutosuggestion(t);break;case 13:!this.clickSelectedAutosuggestion(t)&&s&&this.fire("postAction");break;case 38:this.incrementAutosuggestSelected(-1,t);break;case 40:this.incrementAutosuggestSelected(1,t);break;case 27:this.clearAutosuggestions(t)}},clickSelectedAutosuggestion(t){const{autosuggestShown:e,autosuggestType:s}=this.store.get();if(!e)return!1;t.preventDefault(),t.stopPropagation();return(async()=>{const{realm:t}=this.get();this.store.setForCurrentAutosuggest({autosuggestSelecting:!0}),"account"===s?await async function(t){return N(t,E)}(t):"hashtag"===s?await async function(t){return N(t,C)}(t):await async function(t){return N(t,T)}(t),this.store.setForCurrentAutosuggest({autosuggestSelecting:!1})})(),!0},incrementAutosuggestSelected(t,e){let{autosuggestShown:s,autosuggestSelected:o,autosuggestSearchResults:a}=this.store.get();s&&(o+=t,o>=0?o%=a.length:o=a.length+o,this.store.setForCurrentAutosuggest({autosuggestSelected:o}),e.preventDefault(),e.stopPropagation())},clearAutosuggestions(t){const{autosuggestShown:e}=this.store.get();e&&(this.store.setForCurrentAutosuggest({autosuggestSearchResults:[],autosuggestSelected:0}),t.preventDefault(),t.stopPropagation())},setupResize(){(0,_.on)("resizeComposeInput",this,(t=>{t===this.get().realm&&I.i.update(this.refs.textarea)}))},setCursorIfNecessary(){const{realm:t}=this.get();W()&&"dialog"!==t&&"home"!==t&&requestAnimationFrame((()=>{this.refs.textarea.selectionStart=this.refs.textarea.value.length}))}};function V(){this.setupSyncFromStore(),this.setupSyncToStore(),this.setupAutosize(),this.setupResize(),this.setCursorIfNecessary()}function Z(){this.teardownAutosize()}function O(t){var e;if((0,o.S1)(this,t),this.store=i.h,this.refs={},this._state=(0,o.f0)((0,o.f0)(this.store._init(["autosuggestData_composeFocused","currentInstance","autosuggestShown","autosuggestData_autosuggestSelected"]),{rawText:""}),t.data),this.store._add(this,["autosuggestData_composeFocused","currentInstance","autosuggestShown","autosuggestData_autosuggestSelected"]),this._recompute({$autosuggestData_composeFocused:1,$currentInstance:1,realm:1,$autosuggestShown:1,composeFocused:1,$autosuggestData_autosuggestSelected:1,autosuggestSelected:1,autosuggestShownForThisInput:1},this._state),this._intro=!0,this._handlers.destroy=[Z,o.iT],document.getElementById("svelte-jk36in-style")||((e=(0,o.az)("style")).id="svelte-jk36in-style",e.textContent=".compose-box-input.svelte-jk36in{grid-area:input;margin:10px 0 0 5px;padding:10px;border:1px solid var(--input-border);min-height:75px;resize:none;overflow:hidden;word-wrap:break-word;font-size:1.2em;width:calc(100% - 5px)}.compose-box-input-realm-dialog.svelte-jk36in{max-height:40vh;overflow-y:auto}@media(max-width: 767px){.compose-box-input-realm-dialog.svelte-jk36in{max-height:30vh}}@media(max-width: 479px){.compose-box-input-realm-dialog.svelte-jk36in{max-height:20vh}}",(0,o.R3)(document.head,e)),this._fragment=function(t,e){var s,a,i,r,n,l,c,u,d,h,m,p,g,f,v=!1;function y(){v=!0,t.set({rawText:s.value}),v=!1}function b(e){t.onFocus()}function x(e){t.onBlur()}function _(e){t.onKeydown(e)}return{c(){s=(0,o.az)("textarea"),c=(0,o.rw)("\n"),u=(0,o.az)("label"),d=(0,o.rw)("What's on your mind?"),m=(0,o.rw)("\n"),p=(0,o.az)("span"),g=(0,o.rw)("When autocomplete results are available, press up or down arrows and enter to select."),this.h()},l(t){s=(0,o.d$)(t,"TEXTAREA",{id:!0,class:!0,placeholder:!0,"aria-describedby":!0,"aria-owns":!0,"aria-expanded":!0,"aria-autocomplete":!0,"aria-activedescendant":!0},!1),(0,o.pI)(s).forEach(o.r2),c=(0,o.M4)(t,"\n"),u=(0,o.d$)(t,"LABEL",{for:!0,class:!0},!1);var e=(0,o.pI)(u);d=(0,o.M4)(e,"What's on your mind?"),e.forEach(o.r2),m=(0,o.M4)(t,"\n"),p=(0,o.d$)(t,"SPAN",{id:!0,class:!0},!1);var a=(0,o.pI)(p);g=(0,o.M4)(a,"When autocomplete results are available, press up or down arrows and enter to select."),a.forEach(o.r2),this.h()},h(){(0,o.NH)(s,"input",y),(0,o.NH)(s,"focus",b),(0,o.NH)(s,"blur",x),a=D.j3.call(t,s,(function(e){t.onSelectionChange(e)})),(0,o.NH)(s,"keydown",_),s.id=i="the-compose-box-input-"+e.realm,s.className=r="compose-box-input compose-box-input-realm-"+e.realm+" svelte-jk36in",s.placeholder="What's on your mind?",(0,o.P$)(s,"aria-describedby",n="compose-box-input-description-"+e.realm),(0,o.P$)(s,"aria-owns",l="compose-autosuggest-list-"+e.realm),(0,o.P$)(s,"aria-expanded",e.autosuggestShownForThisInput),(0,o.P$)(s,"aria-autocomplete","both"),(0,o.P$)(s,"aria-activedescendant",e.activeDescendant),u.htmlFor=h="the-compose-box-input-"+e.realm,u.className="sr-only",p.id=f="compose-box-input-description-"+e.realm,p.className="sr-only"},m(a,i){(0,o.$T)(a,s,i),t.refs.textarea=s,s.value=e.rawText,(0,o.$T)(a,c,i),(0,o.$T)(a,u,i),(0,o.R3)(u,d),(0,o.$T)(a,m,i),(0,o.$T)(a,p,i),(0,o.R3)(p,g)},p(t,e){!v&&t.rawText&&(s.value=e.rawText),t.realm&&i!==(i="the-compose-box-input-"+e.realm)&&(s.id=i),t.realm&&r!==(r="compose-box-input compose-box-input-realm-"+e.realm+" svelte-jk36in")&&(s.className=r),t.realm&&n!==(n="compose-box-input-description-"+e.realm)&&(0,o.P$)(s,"aria-describedby",n),t.realm&&l!==(l="compose-autosuggest-list-"+e.realm)&&(0,o.P$)(s,"aria-owns",l),t.autosuggestShownForThisInput&&(0,o.P$)(s,"aria-expanded",e.autosuggestShownForThisInput),t.activeDescendant&&(0,o.P$)(s,"aria-activedescendant",e.activeDescendant),t.realm&&h!==(h="the-compose-box-input-"+e.realm)&&(u.htmlFor=h),t.realm&&f!==(f="compose-box-input-description-"+e.realm)&&(p.id=f)},d(e){e&&(0,o.r2)(s),(0,o.ys)(s,"input",y),(0,o.ys)(s,"focus",b),(0,o.ys)(s,"blur",x),a.destroy(),(0,o.ys)(s,"keydown",_),t.refs.textarea===s&&(t.refs.textarea=null),e&&((0,o.r2)(c),(0,o.r2)(u),(0,o.r2)(m),(0,o.r2)(p))}}}(this,this._state),this.root._oncreate.push((()=>{V.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),t.target){var s=(0,o.pI)(t.target);t.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(O.prototype,o.uS),(0,o.f0)(O.prototype,B),O.prototype._recompute=function(t,e){(t.$autosuggestData_composeFocused||t.$currentInstance||t.realm)&&this._differs(e.composeFocused,e.composeFocused=function({$autosuggestData_composeFocused:t,$currentInstance:e,realm:s}){return(0,M.U2)(t,[e,s],!1)}(e))&&(t.composeFocused=!0),(t.$autosuggestShown||t.composeFocused)&&this._differs(e.autosuggestShownForThisInput,e.autosuggestShownForThisInput=function({$autosuggestShown:t,composeFocused:e}){return!(!t||!e)}(e))&&(t.autosuggestShownForThisInput=!0),(t.$autosuggestData_autosuggestSelected||t.$currentInstance||t.realm)&&this._differs(e.autosuggestSelected,e.autosuggestSelected=function({$autosuggestData_autosuggestSelected:t,$currentInstance:e,realm:s}){return(0,M.U2)(t,[e,s],0)}(e))&&(t.autosuggestSelected=!0),(t.autosuggestSelected||t.autosuggestShownForThisInput||t.realm)&&this._differs(e.activeDescendant,e.activeDescendant=function({autosuggestSelected:t,autosuggestShownForThisInput:e,realm:s}){return e?`compose-autosuggest-active-item-${s}-${t}`:void 0}(e))&&(t.activeDescendant=!0)};const U=O;var H=s(1912);function K(t){var e;if((0,o.S1)(this,t),this.store=i.h,this._state=(0,o.f0)(this.store._init(["postingStatus"]),t.data),this.store._add(this,["postingStatus"]),this._recompute({$postingStatus:1,overLimit:1},this._state),this._intro=!0,this._handlers.destroy=[o.iT],document.getElementById("svelte-1gztkkv-style")||((e=(0,o.az)("style")).id="svelte-1gztkkv-style",e.textContent=".compose-box-button-halo.svelte-1gztkkv{border-radius:2px;margin:5px 15px 15px 5px;pointer-events:auto}.compose-box-button-halo-sticky.svelte-1gztkkv{background-color:var(--compose-button-halo)}.compose-box-button.svelte-1gztkkv{grid-area:button;justify-self:right;text-transform:uppercase;position:relative;margin:5px;pointer-events:auto}.compose-box-button-spinner.svelte-1gztkkv,.compose-box-button-compose.svelte-1gztkkv{position:absolute;display:flex;justify-content:center;align-items:center;z-index:10;top:0;bottom:0;left:0;right:0}.compose-box-button-svg{width:24px;height:24px;fill:var(--button-primary-text)}@media(max-width: 767px){.compose-box-button-halo.svelte-1gztkkv{margin:5px}.compose-box-button.svelte-1gztkkv{margin:5px}}",(0,o.R3)(document.head,e)),this._fragment=function(t,e){var s,a,i,r,n,l,c,u,d,h,m,p,g={className:"compose-box-button-svg "+(e.$postingStatus?"spin":"hidden"),href:"#fa-spinner"},f=new H.Z({root:t.root,store:t.store,data:g}),v=new H.Z({root:t.root,store:t.store,data:{className:"compose-box-button-svg",href:"#fa-pencil"}});function y(e){t.fire("click",e)}return{c(){s=(0,o.az)("div"),a=(0,o.az)("button"),i=(0,o.az)("span"),r=(0,o.rw)("Toot!"),l=(0,o.rw)("\n    "),c=(0,o.az)("div"),f._fragment.c(),u=(0,o.rw)("\n\n    "),d=(0,o.az)("div"),v._fragment.c(),this.h()},l(t){s=(0,o.d$)(t,"DIV",{class:!0},!1);var e=(0,o.pI)(s);a=(0,o.d$)(e,"BUTTON",{class:!0,disabled:!0,"aria-label":!0},!1);var n=(0,o.pI)(a);i=(0,o.d$)(n,"SPAN",{class:!0},!1);var h=(0,o.pI)(i);r=(0,o.M4)(h,"Toot!"),h.forEach(o.r2),l=(0,o.M4)(n,"\n    "),c=(0,o.d$)(n,"DIV",{class:!0,"aria-hidden":!0},!1);var m=(0,o.pI)(c);f._fragment.l(m),m.forEach(o.r2),u=(0,o.M4)(n,"\n\n    "),d=(0,o.d$)(n,"DIV",{class:!0,"aria-hidden":!0},!1);var p=(0,o.pI)(d);v._fragment.l(p),p.forEach(o.r2),n.forEach(o.r2),e.forEach(o.r2),this.h()},h(){i.className=n=e.$postingStatus||e.sticky?"hidden":"",c.className="compose-box-button-spinner svelte-1gztkkv",(0,o.P$)(c,"aria-hidden","true"),d.className=h="compose-box-button-compose "+(e.sticky?"":"hidden")+" svelte-1gztkkv",(0,o.P$)(d,"aria-hidden","true"),(0,o.NH)(a,"click",y),a.className="primary compose-box-button svelte-1gztkkv",a.disabled=e.disabled,(0,o.P$)(a,"aria-label",m=e.sticky?"Compose toot":"Toot!"),s.className=p="compose-box-button-halo "+(e.sticky?"compose-box-button-halo-sticky":"")+" svelte-1gztkkv"},m(t,e){(0,o.$T)(t,s,e),(0,o.R3)(s,a),(0,o.R3)(a,i),(0,o.R3)(i,r),(0,o.R3)(a,l),(0,o.R3)(a,c),f._mount(c,null),(0,o.R3)(a,u),(0,o.R3)(a,d),v._mount(d,null)},p(t,e){(t.$postingStatus||t.sticky)&&n!==(n=e.$postingStatus||e.sticky?"hidden":"")&&(i.className=n);var r={};t.$postingStatus&&(r.className="compose-box-button-svg "+(e.$postingStatus?"spin":"hidden")),f._set(r),t.sticky&&h!==(h="compose-box-button-compose "+(e.sticky?"":"hidden")+" svelte-1gztkkv")&&(d.className=h),t.disabled&&(a.disabled=e.disabled),t.sticky&&m!==(m=e.sticky?"Compose toot":"Toot!")&&(0,o.P$)(a,"aria-label",m),t.sticky&&p!==(p="compose-box-button-halo "+(e.sticky?"compose-box-button-halo-sticky":"")+" svelte-1gztkkv")&&(s.className=p)},d(t){t&&(0,o.r2)(s),f.destroy(),v.destroy(),(0,o.ys)(a,"click",y)}}}(this,this._state),t.target){var s=(0,o.pI)(t.target);t.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(K.prototype,o.uS),K.prototype._recompute=function(t,e){(t.$postingStatus||t.overLimit)&&this._differs(e.disabled,e.disabled=function({$postingStatus:t,overLimit:e}){return t||e}(e))&&(t.disabled=!0)};const X=K;var Y=s(7553),G=s(658);var J={observe:R.N7,onClickButton(){const{sticky:t}=this.get();t?this.showDialog():this.fire("postAction")},async showDialog(){(await(0,Y.B)())()},setupIntersectionObservers(){const{showSticky:t}=this.get();if(!t)return;const e=this.refs.sentinel;this.__stickyObserver=new IntersectionObserver((t=>this.onObserve(t))),this.__stickyObserver.observe(e),this.observe("timelineInitialized",(t=>{t&&!this.__oneShotObserver&&(this.__oneShotObserver=new IntersectionObserver((t=>{this.onObserve(t),this.__oneShotObserver.disconnect(),this.__oneShotObserver=null})),this.__oneShotObserver.observe(e))}),{init:!1})},onObserve(t){this.set({sticky:!t[0].isIntersecting})},teardownIntersectionObservers(){this.__stickyObserver&&(this.__stickyObserver.disconnect(),this.__stickyObserver=null),this.__oneShotObserver&&(this.__oneShotObserver.disconnect(),this.__oneShotObserver=null)}};function Q(){this.setupIntersectionObservers()}function tt(){this.teardownIntersectionObservers()}function et(t){var e,s,a,r,n,l,c,u;if((0,o.S1)(this,t),this.store=i.h,this.refs={},this._state=(0,o.f0)((0,o.f0)(this.store._init(["timelineInitialized"]),{sticky:!1}),t.data),this.store._add(this,["timelineInitialized"]),this._recompute({$timelineInitialized:1,showSticky:1,hideAndFadeIn:1},this._state),this._intro=!0,this._handlers.destroy=[tt,o.iT],document.getElementById("svelte-153o6ei-style")||((e=(0,o.az)("style")).id="svelte-153o6ei-style",e.textContent=".compose-box-button-wrapper.svelte-153o6ei{width:-moz-fit-content;width:fit-content;margin-left:auto;display:flex;justify-content:flex-end}.compose-box-button-sticky.svelte-153o6ei{position:-webkit-sticky;position:sticky}.compose-box-button-sticky, .compose-box-button-fixed{z-index:5000;top:calc(var(--fab-gap-top))}",(0,o.R3)(document.head,e)),this._fragment=(s=this,a=this._state,c={overLimit:a.overLimit,sticky:a.sticky},(u=new X({root:s.root,store:s.store,data:c})).on("click",(function(t){s.onClickButton()})),{c(){r=(0,o.az)("div"),n=(0,o.rw)("\n"),l=(0,o.az)("div"),u._fragment.c(),this.h()},l(t){r=(0,o.d$)(t,"DIV",{class:!0},!1),(0,o.pI)(r).forEach(o.r2),n=(0,o.M4)(t,"\n"),l=(0,o.d$)(t,"DIV",{class:!0},!1);var e=(0,o.pI)(l);u._fragment.l(e),e.forEach(o.r2),this.h()},h(){r.className="compose-box-button-sentinel",l.className=a.computedClass+" svelte-153o6ei"},m(t,e){(0,o.$T)(t,r,e),s.refs.sentinel=r,(0,o.$T)(t,n,e),(0,o.$T)(t,l,e),u._mount(l,null),s.refs.wrapper=l},p(t,e){var s={};t.overLimit&&(s.overLimit=e.overLimit),t.sticky&&(s.sticky=e.sticky),u._set(s),t.computedClass&&(l.className=e.computedClass+" svelte-153o6ei")},d(t){t&&(0,o.r2)(r),s.refs.sentinel===r&&(s.refs.sentinel=null),t&&((0,o.r2)(n),(0,o.r2)(l)),u.destroy(),s.refs.wrapper===l&&(s.refs.wrapper=null)}}),this.root._oncreate.push((()=>{Q.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),t.target){var d=(0,o.pI)(t.target);t.hydrate?this._fragment.l(d):this._fragment.c(),d.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(et.prototype,o.uS),(0,o.f0)(et.prototype,J),et.prototype._recompute=function(t,e){t.$timelineInitialized&&this._differs(e.timelineInitialized,e.timelineInitialized=function({$timelineInitialized:t}){return t}(e))&&(t.timelineInitialized=!0),(t.showSticky||t.hideAndFadeIn)&&this._differs(e.computedClass,e.computedClass=function({showSticky:t,hideAndFadeIn:e}){return(0,G.q)("compose-box-button-wrapper",t&&"compose-box-button-sticky",e)}(e))&&(t.computedClass=!0)};const st=et;var ot=s(2755);const at=(0,j.g)(z.F),it=(0,j.g)(requestAnimationFrame);var rt={observe:R.N7,setupSyncFromStore(){this.observe("media",(t=>{t=t||[];const{index:e,rawText:s}=this.get(),o=(0,M.U2)(t,[e,"description"],"");s!==o&&(this.set({rawText:o}),it((()=>I.i.update(this.refs.textarea))));const a=(0,M.U2)(t,[e,"focusX"],0),i=(0,M.U2)(t,[e,"focusY"],0);this.set({focusX:a,focusY:i})}))},setupSyncToStore(){this.observe("rawText",(t=>{at((()=>{const{realm:e,index:s,media:o}=this.get();o[s].description!==t&&(o[s].description=t,this.store.setComposeData(e,{media:o}),this.store.save())}))}),{init:!1})},setupAutosize(){(0,I.i)(this.refs.textarea)},teardownAutosize(){I.i.destroy(this.refs.textarea)},onDeleteMedia(){const{realm:t,index:e}=this.get();(0,r.h)(t,e)},async onEdit(){const{realm:t,index:e,type:o}=this.get();(await Promise.all([s.e(7539),s.e(7080),s.e(135)]).then(s.bind(s,135)).then((t=>t.default)))(t,e,o)}};function nt(){this.setupSyncFromStore(),this.setupSyncToStore(),this.setupAutosize()}function lt(){this.teardownAutosize()}function ct(t){var e;if((0,o.S1)(this,t),this.store=i.h,this.refs={},this._state=(0,o.f0)({rawText:"",focusX:0,focusY:0},t.data),this._recompute({mediaItem:1,type:1,realm:1,focusX:1,focusY:1},this._state),this._intro=!0,this._handlers.destroy=[lt],document.getElementById("svelte-1k3h21g-style")||((e=(0,o.az)("style")).id="svelte-1k3h21g-style",e.textContent=".compose-media.svelte-1k3h21g{margin:0;padding:0;height:200px;overflow:hidden;flex-direction:column;position:relative;display:flex;background:var(--main-bg)}.compose-media.svelte-1k3h21g img.svelte-1k3h21g{object-fit:contain;flex:1;height:100%;width:100%}.compose-media-alt.svelte-1k3h21g{z-index:10;position:absolute;bottom:0;left:0;right:0;display:flex;justify-content:center}.compose-media-alt-input.svelte-1k3h21g{width:100%;font-size:1.2em;background:var(--alt-input-bg);color:var(--body-text-color);max-height:100px;border:1px solid var(--input-border);resize:none}.compose-media-alt-input.svelte-1k3h21g:focus{background:var(--main-bg)}.compose-media-buttons.svelte-1k3h21g{position:absolute;z-index:10;top:0;right:0;left:0;display:flex;justify-content:space-between;margin:2px}.compose-media-button.svelte-1k3h21g{padding:7px 10px 5px;background:var(--floating-button-bg);border:1px solid var(--button-border)}.compose-media-button.svelte-1k3h21g:hover{background:var(--floating-button-bg-hover)}.compose-media-button.svelte-1k3h21g:active{background:var(--floating-button-bg-active)}.compose-media-button-svg{fill:var(--button-text);width:18px;height:18px}.audio-preview.svelte-1k3h21g{background:var(--audio-bg)}.compose-media-realm-dialog.svelte-1k3h21g{max-height:20vh}@media(max-width: 767px){.compose-media-realm-dialog.svelte-1k3h21g{max-height:15vh}.compose-media-alt-input.svelte-1k3h21g{max-height:7vh}}@media(max-width: 320px){.compose-media-realm-dialog.svelte-1k3h21g .compose-media-alt-input.svelte-1k3h21g{display:none}}",(0,o.R3)(document.head,e)),this._fragment=function(t,e){var s,a,i,r,n,l,c,u,d,h,m,p,g,f,v,y,b,x=!1,_=new H.Z({root:t.root,store:t.store,data:{className:"compose-media-button-svg",href:"#fa-pencil"}});function w(e){t.onEdit()}var k=new H.Z({root:t.root,store:t.store,data:{className:"compose-media-button-svg",href:"#fa-times"}});function S(e){t.onDeleteMedia()}function $(){x=!0,t.set({rawText:m.value}),x=!1}return{c(){s=(0,o.az)("li"),a=(0,o.az)("img"),r=(0,o.rw)("\n  "),n=(0,o.az)("div"),l=(0,o.az)("button"),_._fragment.c(),c=(0,o.rw)("\n    "),u=(0,o.az)("button"),k._fragment.c(),d=(0,o.rw)("\n  "),h=(0,o.az)("div"),m=(0,o.az)("textarea"),g=(0,o.rw)("\n    "),f=(0,o.az)("label"),v=(0,o.rw)("Describe for visually impaired (image, video) or auditorily impaired (audio, video) people"),this.h()},l(t){s=(0,o.d$)(t,"LI",{class:!0,"aria-label":!0},!1);var e=(0,o.pI)(s);a=(0,o.d$)(e,"IMG",{alt:!0,class:!0,style:!0,src:!0,"aria-hidden":!0},!1),(0,o.pI)(a).forEach(o.r2),r=(0,o.M4)(e,"\n  "),n=(0,o.d$)(e,"DIV",{class:!0},!1);var i=(0,o.pI)(n);l=(0,o.d$)(i,"BUTTON",{class:!0,"aria-label":!0,title:!0},!1);var p=(0,o.pI)(l);_._fragment.l(p),p.forEach(o.r2),c=(0,o.M4)(i,"\n    "),u=(0,o.d$)(i,"BUTTON",{class:!0,"aria-label":!0,title:!0},!1);var y=(0,o.pI)(u);k._fragment.l(y),y.forEach(o.r2),i.forEach(o.r2),d=(0,o.M4)(e,"\n  "),h=(0,o.d$)(e,"DIV",{class:!0},!1);var b=(0,o.pI)(h);m=(0,o.d$)(b,"TEXTAREA",{id:!0,class:!0,placeholder:!0},!1),(0,o.pI)(m).forEach(o.r2),g=(0,o.M4)(b,"\n    "),f=(0,o.d$)(b,"LABEL",{for:!0,class:!0},!1);var x=(0,o.pI)(f);v=(0,o.M4)(x,"Describe for visually impaired (image, video) or auditorily impaired (audio, video) people"),x.forEach(o.r2),b.forEach(o.r2),e.forEach(o.r2),this.h()},h(){a.alt="",a.className=i=("audio"===e.type?"audio-preview":"")+" svelte-1k3h21g",(0,o.A_)(a,"object-position",e.objectPosition),a.src=e.previewSrc,(0,o.P$)(a,"aria-hidden","true"),(0,o.NH)(l,"click",w),l.className="compose-media-button compose-media-focal-button svelte-1k3h21g",(0,o.P$)(l,"aria-label","Edit"),l.title="Edit",(0,o.NH)(u,"click",S),u.className="compose-media-button compose-media-delete-button svelte-1k3h21g",(0,o.P$)(u,"aria-label","Delete"),u.title="Delete",n.className="compose-media-buttons svelte-1k3h21g",(0,o.NH)(m,"input",$),m.id=p="compose-media-input-"+e.uuid,m.className="compose-media-alt-input svelte-1k3h21g",m.placeholder="Description",f.htmlFor=y="compose-media-input-"+e.uuid,f.className="sr-only",h.className="compose-media-alt svelte-1k3h21g",s.className=b="compose-media compose-media-realm-"+e.realm+" svelte-1k3h21g",(0,o.P$)(s,"aria-label",e.shortName)},m(i,p){(0,o.$T)(i,s,p),(0,o.R3)(s,a),(0,o.R3)(s,r),(0,o.R3)(s,n),(0,o.R3)(n,l),_._mount(l,null),(0,o.R3)(n,c),(0,o.R3)(n,u),k._mount(u,null),(0,o.R3)(s,d),(0,o.R3)(s,h),(0,o.R3)(h,m),t.refs.textarea=m,m.value=e.rawText,(0,o.R3)(h,g),(0,o.R3)(h,f),(0,o.R3)(f,v)},p(t,e){t.type&&i!==(i=("audio"===e.type?"audio-preview":"")+" svelte-1k3h21g")&&(a.className=i),t.objectPosition&&(0,o.A_)(a,"object-position",e.objectPosition),t.previewSrc&&(a.src=e.previewSrc),!x&&t.rawText&&(m.value=e.rawText),t.uuid&&p!==(p="compose-media-input-"+e.uuid)&&(m.id=p),t.uuid&&y!==(y="compose-media-input-"+e.uuid)&&(f.htmlFor=y),t.realm&&b!==(b="compose-media compose-media-realm-"+e.realm+" svelte-1k3h21g")&&(s.className=b),t.shortName&&(0,o.P$)(s,"aria-label",e.shortName)},d(e){e&&(0,o.r2)(s),_.destroy(),(0,o.ys)(l,"click",w),k.destroy(),(0,o.ys)(u,"click",S),(0,o.ys)(m,"input",$),t.refs.textarea===m&&(t.refs.textarea=null)}}}(this,this._state),this.root._oncreate.push((()=>{nt.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),t.target){var s=(0,o.pI)(t.target);t.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(ct.prototype,o.uS),(0,o.f0)(ct.prototype,rt),ct.prototype._recompute=function(t,e){t.mediaItem&&(this._differs(e.type,e.type=function({mediaItem:t}){return t.data.type}(e))&&(t.type=!0),this._differs(e.shortName,e.shortName=function({mediaItem:t}){return(0,M.U2)(t,["file","name"])||(0,M.U2)(t,["description"])||"media"}(e))&&(t.shortName=!0)),(t.mediaItem||t.type)&&this._differs(e.previewSrc,e.previewSrc=function({mediaItem:t,type:e}){return"audio"===e?n.Pf:t.data.preview_url}(e))&&(t.previewSrc=!0),(t.realm||t.mediaItem)&&this._differs(e.uuid,e.uuid=function({realm:t,mediaItem:e}){return`${t}-${e.data.id}`}(e))&&(t.uuid=!0),(t.focusX||t.focusY)&&this._differs(e.objectPosition,e.objectPosition=function({focusX:t,focusY:e}){return t||e?`${(0,ot.i)(t)}% ${100-(0,ot.i)(e)}%`:"center center"}(e))&&(t.objectPosition=!0)};const ut=ct;function dt(t,e,s){const o=Object.create(t);return o.mediaItem=e[s],o.index=s,o}function ht(t,e){for(var s,a=e.media,i=[],r=0;r<a.length;r+=1)i[r]=mt(t,dt(e,a,r));return{c(){s=(0,o.az)("ul");for(var t=0;t<i.length;t+=1)i[t].c();this.h()},l(t){s=(0,o.d$)(t,"UL",{class:!0,"aria-label":!0,style:!0},!1);for(var e=(0,o.pI)(s),a=0;a<i.length;a+=1)i[a].l(e);e.forEach(o.r2),this.h()},h(){s.className="compose-media-container svelte-so82yb",(0,o.P$)(s,"aria-label","Media uploads"),(0,o.A_)(s,"grid-template-columns","repeat("+e.media.length+", 1fr)")},m(t,e){(0,o.$T)(t,s,e);for(var a=0;a<i.length;a+=1)i[a].m(s,null)},p(e,r){if(e.realm||e.media){a=r.media;for(var n=0;n<a.length;n+=1){const o=dt(r,a,n);i[n]?i[n].p(e,o):(i[n]=mt(t,o),i[n].c(),i[n].m(s,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=a.length}e.media&&(0,o.A_)(s,"grid-template-columns","repeat("+r.media.length+", 1fr)")},d(t){t&&(0,o.r2)(s),(0,o.kw)(i,t)}}}function mt(t,e){var s={realm:e.realm,mediaItem:e.mediaItem,index:e.index,media:e.media},o=new ut({root:t.root,store:t.store,data:s});return{c(){o._fragment.c()},l(t){o._fragment.l(t)},m(t,e){o._mount(t,e)},p(t,e){var s={};t.realm&&(s.realm=e.realm),t.media&&(s.mediaItem=e.mediaItem),t.media&&(s.media=e.media),o._set(s)},d(t){o.destroy(t)}}}function pt(t){var e,s,a,r,n;if((0,o.S1)(this,t),this.store=i.h,this._state=(0,o.f0)({},t.data),this._intro=!0,document.getElementById("svelte-so82yb-style")||((e=(0,o.az)("style")).id="svelte-so82yb-style",e.textContent=".compose-media-container.svelte-so82yb{grid-area:media;list-style:none;display:grid;grid-column-gap:5px;align-items:center;justify-content:center;margin:10px 0 0 0;background:var(--form-bg);padding:5px;border-radius:4px}",(0,o.R3)(document.head,e)),this._fragment=(s=this,a=this._state,n=a.media.length&&ht(s,a),{c(){n&&n.c(),r=(0,o.Yr)()},l(t){n&&n.l(t),r=(0,o.Yr)()},m(t,e){n&&n.m(t,e),(0,o.$T)(t,r,e)},p(t,e){e.media.length?n?n.p(t,e):((n=ht(s,e)).c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&(0,o.r2)(r)}}),t.target){var l=(0,o.pI)(t.target);t.hydrate?this._fragment.l(l):this._fragment.c(),l.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(pt.prototype,o.uS);const gt=pt,ft=(0,j.g)(z.F);var vt={observe:R.N7,setupSyncFromStore(){this.observe("contentWarning",(t=>{this.set({rawText:t})}))},setupSyncToStore(){const{realm:t}=this.get();this.observe("rawText",(e=>{ft((()=>{this.store.setComposeData(t,{sensitive:!!e,contentWarning:e}),this.store.save()}))}),{init:!1})}};function yt(){this.setupSyncFromStore(),this.setupSyncToStore()}function bt(t){var e;if((0,o.S1)(this,t),this.store=i.h,this._state=(0,o.f0)({rawText:""},t.data),this._intro=!0,document.getElementById("svelte-7v2gf8-style")||((e=(0,o.az)("style")).id="svelte-7v2gf8-style",e.textContent=".content-warning-input.svelte-7v2gf8{font-size:1.2em;margin:10px 0 0 5px;padding:10px;border:1px solid var(--input-border);width:calc(100% - 5px)}",(0,o.R3)(document.head,e)),this._fragment=function(t,e){var s,a=!1;function i(){a=!0,t.set({rawText:s.value}),a=!1}return{c(){s=(0,o.az)("input"),this.h()},l(t){s=(0,o.d$)(t,"INPUT",{class:!0,type:!0,placeholder:!0,"aria-label":!0},!1),(0,o.pI)(s).forEach(o.r2),this.h()},h(){(0,o.NH)(s,"input",i),s.className="content-warning-input svelte-7v2gf8",(0,o.P$)(s,"type","text"),s.placeholder="Content warning",(0,o.P$)(s,"aria-label","Content warning")},m(t,a){(0,o.$T)(t,s,a),s.value=e.rawText},p(t,e){!a&&t.rawText&&(s.value=e.rawText)},d(t){t&&(0,o.r2)(s),(0,o.ys)(s,"input",i)}}}(this,this._state),this.root._oncreate.push((()=>{yt.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),t.target){var s=(0,o.pI)(t.target);t.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(bt.prototype,o.uS),(0,o.f0)(bt.prototype,vt);const xt=bt;s(2984);var _t={async onFileDrop(t){const{files:e}=t,{realm:s}=this.get();for(const o of e)await(0,r.m)(s,o)}};function wt(){this.onFileDrop=this.onFileDrop.bind(this),this.refs.fileDrop.addEventListener("filedrop",this.onFileDrop)}function kt(){this.refs.fileDrop.removeEventListener("filedrop",this.onFileDRop)}function St(t){var e,s,a,i,r,l,c,u,d,h,m,p,g,f,v;if((0,o.S1)(this,t),this.refs={},this._state=(0,o.f0)({mediaAccept:n.ZG},t.data),this._intro=!0,this._handlers.destroy=[kt],this._slotted=t.slots||{},document.getElementById("svelte-gx8id0-style")||((e=(0,o.az)("style")).id="svelte-gx8id0-style",e.textContent=".file-drop.svelte-gx8id0{display:block;position:relative;max-width:100%;width:100%}.file-drop-info.svelte-gx8id0{display:none;pointer-events:none;position:absolute;top:0;bottom:0;left:0;right:0;z-index:6000;justify-content:center;align-items:center}.file-drop-info-text.svelte-gx8id0{font-size:1.2em;color:var(--button-text);padding:10px 20px;border:2px dashed var(--button-text);border-radius:6px}.file-drop-realm-dialog.svelte-gx8id0{max-height:100%;overflow-y:auto;overflow-x:hidden;scrollbar-width:none;-ms-overflow-style:none}.file-drop-realm-dialog.svelte-gx8id0::-webkit-scrollbar{display:none}.file-drop.drop-valid .file-drop-info, .file-drop.drop-invalid .file-drop-info{display:flex;background:var(--file-drop-mask)}.file-drop.drop-valid .file-drop-info-text-invalid, .file-drop.drop-invalid .file-drop-info-text-valid{display:none}",(0,o.R3)(document.head,e)),this._fragment=(s=this,a=this._state,v=s._slotted.default,{c(){i=(0,o.az)("file-drop"),r=(0,o.az)("div"),l=(0,o.az)("div"),c=(0,o.az)("span"),u=(0,o.rw)("Drop to upload"),d=(0,o.rw)("\n      "),h=(0,o.az)("span"),m=(0,o.rw)("Invalid file type"),p=(0,o.rw)("\n  "),this.h()},l(t){i=(0,o.d$)(t,"FILE-DROP",{multiple:!0,class:!0,accept:!0},!1);var e=(0,o.pI)(i);r=(0,o.d$)(e,"DIV",{class:!0},!1);var s=(0,o.pI)(r);l=(0,o.d$)(s,"DIV",{class:!0},!1);var a=(0,o.pI)(l);c=(0,o.d$)(a,"SPAN",{class:!0},!1);var n=(0,o.pI)(c);u=(0,o.M4)(n,"Drop to upload"),n.forEach(o.r2),d=(0,o.M4)(a,"\n      "),h=(0,o.d$)(a,"SPAN",{class:!0},!1);var g=(0,o.pI)(h);m=(0,o.M4)(g,"Invalid file type"),g.forEach(o.r2),a.forEach(o.r2),s.forEach(o.r2),p=(0,o.M4)(e,"\n  "),e.forEach(o.r2),this.h()},h(){c.className="file-drop-info-text-valid svelte-gx8id0",h.className="file-drop-info-text-invalid svelte-gx8id0",l.className="file-drop-info-text svelte-gx8id0",r.className="file-drop-info svelte-gx8id0",(0,o.E_)(i,"multiple",!0),i.className=f="file-drop file-drop-realm-"+a.realm+" svelte-gx8id0",(0,o.E_)(i,"accept",a.mediaAccept)},m(t,e){(0,o.$T)(t,i,e),(0,o.R3)(i,r),(0,o.R3)(r,l),(0,o.R3)(l,c),(0,o.R3)(c,u),(0,o.R3)(l,d),(0,o.R3)(l,h),(0,o.R3)(h,m),(0,o.R3)(i,p),v&&((0,o.R3)(i,g||(g=(0,o.Yr)())),(0,o.R3)(i,v)),s.refs.fileDrop=i},p(t,e){t.realm&&f!==(f="file-drop file-drop-realm-"+e.realm+" svelte-gx8id0")&&(i.className=f),t.mediaAccept&&(0,o.E_)(i,"accept",e.mediaAccept)},d(t){t&&(0,o.r2)(i),v&&(0,o.PD)(g,v),s.refs.fileDrop===i&&(s.refs.fileDrop=null)}}),this.root._oncreate.push((()=>{wt.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),t.target){var y=(0,o.pI)(t.target);t.hydrate?this._fragment.l(y):this._fragment.c(),y.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(St.prototype,o.uS),(0,o.f0)(St.prototype,_t);const $t=St;var It=s(9641);function zt({items:t,type:e,$omitEmojiInDisplayNames:s}){return t.map(((o,a)=>function(t,e,s,o){const a=o[s];let i;if("emoji"===t)i=a.name||[a.unicode].concat(a.shortcodes).join(", ");else if("hashtag"===t)i=`#${a.name}`;else{let t=a.display_name||a.username;const s=a.emojis||[];t=e&&(0,It.S)(t,s)||t,i=`${t} @${a.acct}`}return i}(e,s,a,t)))}var Ft={onClick(t,e){t.preventDefault(),t.stopPropagation(),this.fire("click",e)}};function Dt(t){const{component:e,ctx:s}=this._svelte;e.onClick(t,s.item)}function Tt(t,e,s){const o=Object.create(t);return o.item=e[s],o.i=s,o}function Ct(t,e){var s,a,i,r=e.item.shortcodes.map((t=>`:${t}:`)).join(" ");function n(t){return t.item.url?Pt:Nt}var l=n(e),c=l(t,e);return{c(){c.c(),s=(0,o.rw)("\n          "),a=(0,o.az)("span"),i=(0,o.rw)(r),this.h()},l(t){c.l(t),s=(0,o.M4)(t,"\n          "),a=(0,o.d$)(t,"SPAN",{class:!0},!1);var e=(0,o.pI)(a);i=(0,o.M4)(e,r),e.forEach(o.r2),this.h()},h(){a.className="compose-autosuggest-list-display-name compose-autosuggest-list-display-name-single svelte-1gtp2bc"},m(t,e){c.m(t,e),(0,o.$T)(t,s,e),(0,o.$T)(t,a,e),(0,o.R3)(a,i)},p(e,a){l===(l=n(a))&&c?c.p(e,a):(c.d(1),(c=l(t,a)).c(),c.m(s.parentNode,s)),e.items&&r!==(r=a.item.shortcodes.map((t=>`:${t}:`)).join(" "))&&(0,o.a_)(i,r)},d(t){c.d(t),t&&((0,o.r2)(s),(0,o.r2)(a))}}}function Et(t,e){var s,a,i,r=e.item.name,n=new H.Z({root:t.root,store:t.store,data:{href:"#fa-hashtag",ariaHidden:!0,className:"compose-autosuggest-list-item-icon"}});return{c(){n._fragment.c(),s=(0,o.rw)("\n          "),a=(0,o.az)("span"),i=(0,o.rw)(r),this.h()},l(t){n._fragment.l(t),s=(0,o.M4)(t,"\n          "),a=(0,o.d$)(t,"SPAN",{class:!0},!1);var e=(0,o.pI)(a);i=(0,o.M4)(e,r),e.forEach(o.r2),this.h()},h(){a.className="compose-autosuggest-list-display-name compose-autosuggest-list-display-name-single svelte-1gtp2bc"},m(t,e){n._mount(t,e),(0,o.$T)(t,s,e),(0,o.$T)(t,a,e),(0,o.R3)(a,i)},p(t,e){t.items&&r!==(r=e.item.name)&&(0,o.a_)(i,r)},d(t){n.destroy(t),t&&((0,o.r2)(s),(0,o.r2)(a))}}}function At(t,e){var s,a,i,r,n,l,c="@"+e.item.acct,u={size:e.$isVeryTinyMobileSize?"extra-small":"small",account:e.item},d=new b.Z({root:t.root,store:t.store,data:u}),h={account:e.item},m=new x.Z({root:t.root,store:t.store,data:h});return{c(){s=(0,o.az)("div"),d._fragment.c(),a=(0,o.rw)("\n          "),i=(0,o.az)("span"),m._fragment.c(),r=(0,o.rw)("\n          "),n=(0,o.az)("span"),l=(0,o.rw)(c),this.h()},l(t){s=(0,o.d$)(t,"DIV",{class:!0},!1);var e=(0,o.pI)(s);d._fragment.l(e),e.forEach(o.r2),a=(0,o.M4)(t,"\n          "),i=(0,o.d$)(t,"SPAN",{class:!0},!1);var u=(0,o.pI)(i);m._fragment.l(u),u.forEach(o.r2),r=(0,o.M4)(t,"\n          "),n=(0,o.d$)(t,"SPAN",{class:!0},!1);var h=(0,o.pI)(n);l=(0,o.M4)(h,c),h.forEach(o.r2),this.h()},h(){s.className="compose-autosuggest-list-item-avatar svelte-1gtp2bc",i.className="compose-autosuggest-list-display-name svelte-1gtp2bc",n.className="compose-autosuggest-list-username svelte-1gtp2bc"},m(t,e){(0,o.$T)(t,s,e),d._mount(s,null),(0,o.$T)(t,a,e),(0,o.$T)(t,i,e),m._mount(i,null),(0,o.$T)(t,r,e),(0,o.$T)(t,n,e),(0,o.R3)(n,l)},p(t,e){var s={};t.$isVeryTinyMobileSize&&(s.size=e.$isVeryTinyMobileSize?"extra-small":"small"),t.items&&(s.account=e.item),d._set(s);var a={};t.items&&(a.account=e.item),m._set(a),t.items&&c!==(c="@"+e.item.acct)&&(0,o.a_)(l,c)},d(t){t&&(0,o.r2)(s),d.destroy(),t&&((0,o.r2)(a),(0,o.r2)(i)),m.destroy(),t&&((0,o.r2)(r),(0,o.r2)(n))}}}function Nt(t,e){var s,a,i=e.item.unicode;return{c(){s=(0,o.az)("span"),a=(0,o.rw)(i),this.h()},l(t){s=(0,o.d$)(t,"SPAN",{class:!0},!1);var e=(0,o.pI)(s);a=(0,o.M4)(e,i),e.forEach(o.r2),this.h()},h(){s.className="compose-autosuggest-list-item-icon compose-autosuggest-list-item-native-emoji svelte-1gtp2bc"},m(t,e){(0,o.$T)(t,s,e),(0,o.R3)(s,a)},p(t,e){t.items&&i!==(i=e.item.unicode)&&(0,o.a_)(a,i)},d(t){t&&(0,o.r2)(s)}}}function Pt(t,e){var s,a;return{c(){s=(0,o.az)("img"),this.h()},l(t){s=(0,o.d$)(t,"IMG",{src:!0,class:!0,alt:!0,"aria-hidden":!0},!1),(0,o.pI)(s).forEach(o.r2),this.h()},h(){s.src=a=e.item.url,s.className="compose-autosuggest-list-item-icon svelte-1gtp2bc",s.alt="",(0,o.P$)(s,"aria-hidden","true")},m(t,e){(0,o.$T)(t,s,e)},p(t,e){t.items&&a!==(a=e.item.url)&&(s.src=a)},d(t){t&&(0,o.r2)(s)}}}function Rt(t,e,s){var a,i,r,n,l,c,u,d,h,m=s.ariaLabels[s.i];function p(t){return"account"===t.type?At:"hashtag"===t.type?Et:Ct}var g=p(s),f=g(t,s);return{key:e,first:null,c(){a=(0,o.az)("li"),i=(0,o.az)("span"),r=(0,o.rw)(m),n=(0,o.rw)("\n      "),l=(0,o.az)("div"),f.c(),c=(0,o.rw)("\n  "),this.h()},l(t){a=(0,o.d$)(t,"LI",{id:!0,class:!0,role:!0,"aria-selected":!0},!1);var e=(0,o.pI)(a);i=(0,o.d$)(e,"SPAN",{class:!0},!1);var s=(0,o.pI)(i);r=(0,o.M4)(s,m),s.forEach(o.r2),n=(0,o.M4)(e,"\n      "),l=(0,o.d$)(e,"DIV",{class:!0,"aria-hidden":!0},!1);var u=(0,o.pI)(l);f.l(u),u.forEach(o.r2),c=(0,o.M4)(e,"\n  "),e.forEach(o.r2),this.h()},h(){i.className="sr-only",l.className="compose-autosuggest-list-grid svelte-1gtp2bc",(0,o.P$)(l,"aria-hidden","true"),a._svelte={component:t,ctx:s},(0,o.NH)(a,"click",Dt),a.id=u="compose-autosuggest-active-item-"+s.realm+"-"+s.i,a.className=d="compose-autosuggest-list-item "+(s.i===s.selected?"selected":"")+" svelte-1gtp2bc",(0,o.P$)(a,"role","option"),(0,o.P$)(a,"aria-selected",h=s.i===s.selected),this.first=a},m(t,e){(0,o.$T)(t,a,e),(0,o.R3)(a,i),(0,o.R3)(i,r),(0,o.R3)(a,n),(0,o.R3)(a,l),f.m(l,null),(0,o.R3)(a,c)},p(e,i){s=i,(e.ariaLabels||e.items)&&m!==(m=s.ariaLabels[s.i])&&(0,o.a_)(r,m),g===(g=p(s))&&f?f.p(e,s):(f.d(1),(f=g(t,s)).c(),f.m(l,null)),a._svelte.ctx=s,(e.realm||e.items)&&u!==(u="compose-autosuggest-active-item-"+s.realm+"-"+s.i)&&(a.id=u),(e.items||e.selected)&&d!==(d="compose-autosuggest-list-item "+(s.i===s.selected?"selected":"")+" svelte-1gtp2bc")&&(a.className=d),(e.items||e.selected)&&h!==(h=s.i===s.selected)&&(0,o.P$)(a,"aria-selected",h)},d(t){t&&(0,o.r2)(a),f.d(),(0,o.ys)(a,"click",Dt)}}}function Mt(t){var e;if((0,o.S1)(this,t),this.store=i.h,this._state=(0,o.f0)(this.store._init(["omitEmojiInDisplayNames","isVeryTinyMobileSize"]),t.data),this.store._add(this,["omitEmojiInDisplayNames","isVeryTinyMobileSize"]),this._recompute({items:1,type:1,$omitEmojiInDisplayNames:1},this._state),this._intro=!0,this._handlers.destroy=[o.iT],document.getElementById("svelte-1gtp2bc-style")||((e=(0,o.az)("style")).id="svelte-1gtp2bc-style",e.textContent='.compose-autosuggest-list.svelte-1gtp2bc{list-style:none;width:100%;border-radius:2px;box-sizing:border-box;border:1px solid var(--compose-autosuggest-outline)}.compose-autosuggest-list-item.svelte-1gtp2bc{border-bottom:1px solid var(--compose-autosuggest-outline);display:flex;padding:10px;background:var(--settings-list-item-bg);margin:0;flex:1;cursor:pointer}.compose-autosuggest-list-item.svelte-1gtp2bc:last-child{border-bottom:none}.compose-autosuggest-list-grid.svelte-1gtp2bc{display:grid;width:100%;grid-template-areas:"icon     display-name"\n                         "icon     username";grid-template-columns:min-content 1fr;grid-column-gap:10px;grid-row-gap:5px}.compose-autosuggest-list-item-avatar{grid-area:icon}.compose-autosuggest-list-item-icon{grid-area:icon;width:48px;height:48px;object-fit:contain;fill:var(--deemphasized-text-color)}.compose-autosuggest-list-item-native-emoji.svelte-1gtp2bc{font-family:CountryFlagEmojiPolyfill, SemaphoreEmoji;font-size:32px;line-height:1;display:flex;justify-content:center;align-items:center}.compose-autosuggest-list-display-name.svelte-1gtp2bc{grid-area:display-name;font-size:1.1em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0;text-align:left}.compose-autosuggest-list-display-name-single.svelte-1gtp2bc{grid-row:1 / 3;align-self:center}.compose-autosuggest-list-username.svelte-1gtp2bc{grid-area:username;font-size:1em;color:var(--deemphasized-text-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:left}.compose-autosuggest-list-item.svelte-1gtp2bc:hover,.compose-autosuggest-list-item.selected.svelte-1gtp2bc{background:var(--compose-autosuggest-item-hover)}.compose-autosuggest-list-item.svelte-1gtp2bc:active{background:var(--compose-autosuggest-item-active)}@media(max-width: 320px){.compose-autosuggest-list-item.svelte-1gtp2bc{padding:5px}.compose-autosuggest-list-grid.svelte-1gtp2bc{grid-column-gap:5px}.compose-autosuggest-list-item-icon{width:24px;height:24px}.compose-autosuggest-list-item-native-emoji.svelte-1gtp2bc{font-size:18px}}',(0,o.R3)(document.head,e)),this._fragment=function(t,e){var s,a,i=[],r=(0,o.L7)(),n=e.items;const l=t=>t.item.shortcodes?`emoji-${t.item.unicode||t.item.name}`:t.item.id?`account-${t.item.id}`:`hashtag-${t.item.name}`;for(var c=0;c<n.length;c+=1){let s=Tt(e,n,c),o=l(s);i[c]=r[o]=Rt(t,o,s)}return{c(){for(s=(0,o.az)("ul"),c=0;c<i.length;c+=1)i[c].c();this.h()},l(t){s=(0,o.d$)(t,"UL",{id:!0,class:!0,role:!0},!1);var e=(0,o.pI)(s);for(c=0;c<i.length;c+=1)i[c].l(e);e.forEach(o.r2),this.h()},h(){s.id=a="compose-autosuggest-list-"+e.realm,s.className="compose-autosuggest-list svelte-1gtp2bc",(0,o.P$)(s,"role","listbox")},m(t,e){for((0,o.$T)(t,s,e),c=0;c<i.length;c+=1)i[c].m(s,null)},p(e,n){const c=n.items;i=(0,o.$q)(i,t,e,l,1,n,c,r,s,o.pp,Rt,"m",null,Tt),e.realm&&a!==(a="compose-autosuggest-list-"+n.realm)&&(s.id=a)},d(t){for(t&&(0,o.r2)(s),c=0;c<i.length;c+=1)i[c].d()}}}(this,this._state),t.target){var s=(0,o.pI)(t.target);t.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(Mt.prototype,o.uS),(0,o.f0)(Mt.prototype,Ft),Mt.prototype._recompute=function(t,e){(t.items||t.type||t.$omitEmojiInDisplayNames)&&this._differs(e.ariaLabels,e.ariaLabels=zt(e))&&(t.ariaLabels=!0)};const Lt=Mt;var jt={observe:R.N7,once:function(t,e){const s=this.on(t,(t=>{s.cancel(),e(t)}))},onClick(t){this.store.setForCurrentAutosuggest({autosuggestSelecting:!0}),this.fire("autosuggestItemSelected"),P(t)}};function Wt(){this._promiseChain=Promise.resolve(),this.observe("shouldBeShown",(t=>{this._promiseChain=this._promiseChain.then((()=>{if(!t)return Promise.race([new Promise((t=>setTimeout(t,200))),new Promise((t=>this.once("autosuggestItemSelected",t)))])})).then((()=>{this.set({shown:t}),this.store.setForCurrentAutosuggest({autosuggestSelecting:!1})}))}))}function qt(t){var e,s,a,r,n,l,c;if((0,o.S1)(this,t),this.store=i.h,this._state=(0,o.f0)((0,o.f0)(this.store._init(["autosuggestData_composeSelectionStart","currentInstance","autosuggestData_composeFocused","autosuggestData_autosuggestSearchResults","autosuggestData_autosuggestType","autosuggestData_autosuggestSelected","autosuggestShown"]),{shown:!1,top:0}),t.data),this.store._add(this,["autosuggestData_composeSelectionStart","currentInstance","autosuggestData_composeFocused","autosuggestData_autosuggestSearchResults","autosuggestData_autosuggestType","autosuggestData_autosuggestSelected","autosuggestShown"]),this._recompute({$autosuggestData_composeSelectionStart:1,$currentInstance:1,realm:1,$autosuggestData_composeFocused:1,$autosuggestData_autosuggestSearchResults:1,$autosuggestData_autosuggestType:1,$autosuggestData_autosuggestSelected:1,$autosuggestShown:1,composeFocused:1},this._state),this._intro=!0,this._handlers.destroy=[o.iT],document.getElementById("svelte-9dxfw1-style")||((e=(0,o.az)("style")).id="svelte-9dxfw1-style",e.textContent=".compose-autosuggest.svelte-9dxfw1{position:absolute;z-index:90;--autosuggest-input-left:0;--autosuggest-left-offset:5px;left:calc(var(--autosuggest-input-left) + var(--autosuggest-left-offset))}.compose-autosuggest.not-shown.svelte-9dxfw1{display:none}@media(min-width: 480px){.compose-autosuggest.svelte-9dxfw1{min-width:400px;max-width:calc(100% - 20px)}}@media(max-width: 479px){.compose-autosuggest.svelte-9dxfw1{--autosuggest-left-offset:10px;left:var(--autosuggest-left-offset);width:calc(100vw - (2 * var(--autosuggest-left-offset)))}}@media(max-width: 240px){.compose-autosuggest.svelte-9dxfw1{--autosuggest-left-offset:5px}.compose-autosuggest.is-dialog.svelte-9dxfw1{--autosuggest-left-offset:10px}}",(0,o.R3)(document.head,e)),this._fragment=(s=this,a=this._state,l={items:a.autosuggestSearchResults,type:a.autosuggestType,selected:a.autosuggestSelected,realm:a.realm},(c=new Lt({root:s.root,store:s.store,data:l})).on("click",(function(t){s.onClick(t)})),{c(){r=(0,o.az)("div"),c._fragment.c(),this.h()},l(t){r=(0,o.d$)(t,"DIV",{class:!0,style:!0},!1);var e=(0,o.pI)(r);c._fragment.l(e),e.forEach(o.r2),this.h()},h(){r.className=n="compose-autosuggest "+(a.shown?"":"not-shown")+" "+("dialog"===a.realm?"is-dialog":"")+" svelte-9dxfw1",(0,o.A_)(r,"top",a.top+"px"),(0,o.A_)(r,"--autosuggest-input-left",a.left+"px")},m(t,e){(0,o.$T)(t,r,e),c._mount(r,null)},p(t,e){var s={};t.autosuggestSearchResults&&(s.items=e.autosuggestSearchResults),t.autosuggestType&&(s.type=e.autosuggestType),t.autosuggestSelected&&(s.selected=e.autosuggestSelected),t.realm&&(s.realm=e.realm),c._set(s),(t.shown||t.realm)&&n!==(n="compose-autosuggest "+(e.shown?"":"not-shown")+" "+("dialog"===e.realm?"is-dialog":"")+" svelte-9dxfw1")&&(r.className=n),t.top&&(0,o.A_)(r,"top",e.top+"px"),t.left&&(0,o.A_)(r,"--autosuggest-input-left",e.left+"px")},d(t){t&&(0,o.r2)(r),c.destroy()}}),this.root._oncreate.push((()=>{Wt.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),t.target){var u=(0,o.pI)(t.target);t.hydrate?this._fragment.l(u):this._fragment.c(),u.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(qt.prototype,o.uS),(0,o.f0)(qt.prototype,jt),qt.prototype._recompute=function(t,e){(t.$autosuggestData_composeSelectionStart||t.$currentInstance||t.realm)&&this._differs(e.composeSelectionStart,e.composeSelectionStart=function({$autosuggestData_composeSelectionStart:t,$currentInstance:e,realm:s}){return(0,M.U2)(t,[e,s],0)}(e))&&(t.composeSelectionStart=!0),(t.$autosuggestData_composeFocused||t.$currentInstance||t.realm)&&this._differs(e.composeFocused,e.composeFocused=function({$autosuggestData_composeFocused:t,$currentInstance:e,realm:s}){return(0,M.U2)(t,[e,s],!1)}(e))&&(t.composeFocused=!0),(t.$autosuggestData_autosuggestSearchResults||t.$currentInstance||t.realm)&&this._differs(e.autosuggestSearchResults,e.autosuggestSearchResults=function({$autosuggestData_autosuggestSearchResults:t,$currentInstance:e,realm:s}){return(0,M.U2)(t,[e,s],[])}(e))&&(t.autosuggestSearchResults=!0),(t.$autosuggestData_autosuggestType||t.$currentInstance||t.realm)&&this._differs(e.autosuggestType,e.autosuggestType=function({$autosuggestData_autosuggestType:t,$currentInstance:e,realm:s}){return(0,M.U2)(t,[e,s])}(e))&&(t.autosuggestType=!0),(t.$autosuggestData_autosuggestSelected||t.$currentInstance||t.realm)&&(this._differs(e.autosuggestSelected,e.autosuggestSelected=function({$autosuggestData_autosuggestSelected:t,$currentInstance:e,realm:s}){return(0,M.U2)(t,[e,s],0)}(e))&&(t.autosuggestSelected=!0),this._differs(e.autosuggestSearchText,e.autosuggestSearchText=function({$autosuggestData_autosuggestSelected:t,$currentInstance:e,realm:s}){return(0,M.U2)(t,[e,s])}(e))&&(t.autosuggestSearchText=!0)),(t.$autosuggestShown||t.composeFocused)&&this._differs(e.shouldBeShown,e.shouldBeShown=function({$autosuggestShown:t,composeFocused:e}){return!(!t||!e)}(e))&&(t.shouldBeShown=!0)};const Bt=qt;var Vt=s(2213),Zt=s(900);const Ot=(0,j.g)(requestAnimationFrame);var Ut={observe:R.N7,setup(){const{realm:t,text:e,dialogId:s}=this.get();requestAnimationFrame((()=>{const o=`the-autosuggest-container-${t}`;if(this._element=document.getElementById(o),!this._element){this._element=document.createElement("div"),this._element.id=o;("dialog"===t?document.querySelector(".modal-dialog-contents"):document.body).appendChild(this._element)}(0,L.b)((()=>{const{left:o,top:a}=this.calculateLeftAndTop();this._autosuggest=new Bt({target:this._element,data:{realm:t,text:e,dialogId:s,left:o,top:a}}),this.observe("text",(t=>{this._autosuggest.set({text:t})}),{init:!1}),this.observe("shouldBeShown",(t=>{t&&this.onResize()})),(0,Zt.p)(this.onResize),(0,Vt.Sn)(this.onResize)}))}))},doResize(){const{shouldBeShown:t}=this.get();if(this._autosuggest&&t){const{left:t,top:e}=this.calculateLeftAndTop();this._autosuggest.set({left:t,top:e})}},calculateLeftAndTop(){const{anchor:t}=this.refs,{realm:e}=this.get(),{left:s,bottom:o}=t.getBoundingClientRect();return{left:s,top:o+("dialog"===e?0:(0,Vt.JX)().scrollTop)}}};function Ht(){const{dialogId:t}=this.get();this.onResize=()=>Ot((()=>this.doResize()));let e=!1;"dialog"===this.get().realm?(0,_.on)("dialogDidRender",this,(s=>{s!==t||e||(e=!0,this.setup())})):(e=!0,this.setup())}function Kt(){this._autosuggest&&(this._autosuggest.destroy(),this._autosuggest=null),this._element&&this._element.remove(),(0,Zt.D)(this.onResize),(0,Vt.KR)(this.onResize)}function Xt(t){var e,s,a;if((0,o.S1)(this,t),this.store=i.h,this.refs={},this._state=(0,o.f0)(this.store._init(["autosuggestData_composeFocused","currentInstance","autosuggestShown"]),t.data),this.store._add(this,["autosuggestData_composeFocused","currentInstance","autosuggestShown"]),this._recompute({$autosuggestData_composeFocused:1,$currentInstance:1,realm:1,$autosuggestShown:1,composeFocused:1},this._state),this._intro=!0,this._handlers.destroy=[Kt,o.iT],document.getElementById("svelte-1yc9zbr-style")||((e=(0,o.az)("style")).id="svelte-1yc9zbr-style",e.textContent=".compose-autosuggest-anchor-point.svelte-1yc9zbr{grid-area:autosuggest;width:100%;height:0}",(0,o.R3)(document.head,e)),this._fragment=(s=this,this._state,{c(){a=(0,o.az)("div"),this.h()},l(t){a=(0,o.d$)(t,"DIV",{class:!0},!1),(0,o.pI)(a).forEach(o.r2),this.h()},h(){a.className="compose-autosuggest-anchor-point svelte-1yc9zbr"},m(t,e){(0,o.$T)(t,a,e),s.refs.anchor=a},p:o.ZT,d(t){t&&(0,o.r2)(a),s.refs.anchor===a&&(s.refs.anchor=null)}}),this.root._oncreate.push((()=>{Ht.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),t.target){var r=(0,o.pI)(t.target);t.hydrate?this._fragment.l(r):this._fragment.c(),r.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(Xt.prototype,o.uS),(0,o.f0)(Xt.prototype,Ut),Xt.prototype._recompute=function(t,e){(t.$autosuggestData_composeFocused||t.$currentInstance||t.realm)&&this._differs(e.composeFocused,e.composeFocused=function({$autosuggestData_composeFocused:t,$currentInstance:e,realm:s}){return(0,M.U2)(t,[e,s],!1)}(e))&&(t.composeFocused=!0),(t.$autosuggestShown||t.composeFocused)&&this._differs(e.shouldBeShown,e.shouldBeShown=function({$autosuggestShown:t,composeFocused:e}){return!(!t||!e)}(e))&&(t.shouldBeShown=!0)};const Yt=Xt;var Gt=s(1095);const Jt=[{value:300,label:"5 minutes"},{value:1800,label:"30 minutes"},{value:3600,label:"1 hour"},{value:21600,label:"6 hours"},{value:86400,label:"1 day"},{value:259200,label:"3 days"},{value:604800,label:"7 days"}],Qt=86400;function te(t,e){for(let s=0;s<t.options.length;s++){document.getElementById(`poll-option-${e}-${s}`).value=t.options[s]}}var ee={onChange(t){(0,z.F)((()=>{const{realm:e}=this.get(),s=document.getElementById(`poll-option-${e}-${t}`),o=this.store.getComposeData(e,"poll");o.options[t]=s.value,this.store.setComposeData(e,{poll:o}),this.store.save()}))},onMultipleChange(){(0,z.F)((()=>{const{realm:t}=this.get(),e=document.getElementById(`poll-option-multiple-${t}`),s=this.store.getComposeData(t,"poll");s.multiple=!!e.checked,this.store.setComposeData(t,{poll:s}),this.store.save()}))},onDeleteClick(t){(0,z.F)((()=>{const{realm:e}=this.get(),s=this.store.getComposeData(e,"poll");s.options.splice(t,1),this.store.setComposeData(e,{poll:s}),this.store.save(),te(s,e)}))},onAddClick(){(0,z.F)((()=>{const{realm:t}=this.get(),e=this.store.getComposeData(t,"poll");4!==!e.options.length&&e.options.push(""),this.store.setComposeData(t,{poll:e}),this.store.save()}))},onExpiryChange(t){(0,z.F)((()=>{const{realm:e}=this.get(),{value:s}=t.target,o=this.store.getComposeData(e,"poll");o.expiry=parseInt(s,10),this.store.setComposeData(e,{poll:o}),this.store.save()}))}};function se(){const{realm:t}=this.get(),e=this.store.getComposeData(t,"poll");te(e,t),document.getElementById(`poll-option-multiple-${t}`).checked=!!e.multiple,this.set({pollExpiryDefaultValue:e.expiry||Qt})}function oe(t,e,s){const o=Object.create(t);return o.option=e[s],o.i=s,o}function ae(t){const{component:e,ctx:s}=this._svelte;e.onChange(s.i)}function ie(t,e,s){const o=Object.create(t);return o.option=e[s],o.i=s,o}function re(t,e){var s,i,r,n,l={label:(n=e.i,(0,c.A)(["Remove choice ",["index"]],{index:n+1})),href:"#fa-times",muted:!0},u=new a.Z({root:t.root,store:t.store,data:l});return u.on("click",(function(s){t.onDeleteClick(e.i)})),{c(){s=(0,o.az)("input"),r=(0,o.rw)("\n      "),u._fragment.c(),this.h()},l(t){s=(0,o.d$)(t,"INPUT",{id:!0,type:!0,maxlength:!0,placeholder:!0},!1),(0,o.pI)(s).forEach(o.r2),r=(0,o.M4)(t,"\n      "),u._fragment.l(t),this.h()},h(){s._svelte={component:t,ctx:e},(0,o.NH)(s,"change",ae),s.id=i="poll-option-"+e.realm+"-"+e.i,(0,o.P$)(s,"type","text"),s.maxLength="50",s.placeholder=function(t){return(0,c.A)(["Choice ",["index"]],{index:t+1})}(e.i)},m(t,e){(0,o.$T)(t,s,e),(0,o.$T)(t,r,e),u._mount(t,e)},p(t,o){e=o,s._svelte.ctx=e,t.realm&&i!==(i="poll-option-"+e.realm+"-"+e.i)&&(s.id=i)},d(t){t&&(0,o.r2)(s),(0,o.ys)(s,"change",ae),t&&(0,o.r2)(r),u.destroy(t)}}}function ne(t,e){var s,a,i,r,n,l,c=e.i+1;return{c(){s=(0,o.az)("label"),a=(0,o.rw)("Choice "),i=(0,o.rw)(c),r=(0,o.rw)("\n    "),this.h()},l(t){s=(0,o.d$)(t,"LABEL",{id:!0,class:!0,for:!0},!1);var e=(0,o.pI)(s);a=(0,o.M4)(e,"Choice "),i=(0,o.M4)(e,c),r=(0,o.M4)(e,"\n    "),e.forEach(o.r2),this.h()},h(){s.id=n="poll-option-label-"+e.realm+"-"+e.i,s.className="sr-only",s.htmlFor=l="poll-option-"+e.realm+"-"+e.i},m(t,e){(0,o.$T)(t,s,e),(0,o.R3)(s,a),(0,o.R3)(s,i),(0,o.R3)(s,r)},p(t,e){t.realm&&n!==(n="poll-option-label-"+e.realm+"-"+e.i)&&(s.id=n),t.realm&&l!==(l="poll-option-"+e.realm+"-"+e.i)&&(s.htmlFor=l)},d(t){t&&(0,o.r2)(s)}}}function le(t){var e;if((0,o.S1)(this,t),this.store=i.h,this._state=(0,o.f0)({pollExpiryOptions:Jt,pollExpiryDefaultValue:Qt},t.data),this._intro=!0,document.getElementById("svelte-1iat7bs-style")||((e=(0,o.az)("style")).id="svelte-1iat7bs-style",e.textContent=".compose-poll.svelte-1iat7bs{margin:10px 0 10px 5px;display:grid;grid-template-columns:minmax(0, max-content) max-content;grid-row-gap:10px;align-items:center}.poll-expiry-select{margin-left:10px}.multiple-choice-label.svelte-1iat7bs{margin-left:5px}@media(max-width: 767px){.poll-expiry-select{display:block;margin-left:0;margin-top:10px}.add-poll-choice-button{align-self:flex-start}}",(0,o.R3)(document.head,e)),this._fragment=function(t,e){for(var s,i,r,n,l,c,u,d,h,m,p,g,f=e.poll.options,v=[],y=0;y<f.length;y+=1)v[y]=re(t,ie(e,f,y));function b(e){t.onMultipleChange()}var x={className:"poll-expiry-select",options:e.pollExpiryOptions,defaultValue:e.pollExpiryDefaultValue,label:"Poll duration"},_=new Gt.Z({root:t.root,store:t.store,data:x});_.on("change",(function(e){t.onExpiryChange(e)}));var w={className:"add-poll-choice-button",label:"Add choice",href:"#fa-plus",muted:!0,disabled:4===e.poll.options.length},k=new a.Z({root:t.root,store:t.store,data:w});k.on("click",(function(e){t.onAddClick()}));var S=e.poll.options,$=[];for(y=0;y<S.length;y+=1)$[y]=ne(0,oe(e,S,y));return{c(){s=(0,o.az)("section");for(var t=0;t<v.length;t+=1)v[t].c();for(i=(0,o.rw)("\n  "),r=(0,o.az)("div"),n=(0,o.az)("input"),c=(0,o.rw)("\n    "),u=(0,o.az)("label"),d=(0,o.rw)("Multiple choice"),m=(0,o.rw)("\n    "),_._fragment.c(),p=(0,o.rw)("\n  "),k._fragment.c(),g=(0,o.rw)("\n  "),t=0;t<$.length;t+=1)$[t].c();this.h()},l(t){s=(0,o.d$)(t,"SECTION",{class:!0,"aria-label":!0},!1);for(var e=(0,o.pI)(s),a=0;a<v.length;a+=1)v[a].l(e);i=(0,o.M4)(e,"\n  "),r=(0,o.d$)(e,"DIV",{},!1);var l=(0,o.pI)(r);n=(0,o.d$)(l,"INPUT",{type:!0,id:!0},!1),(0,o.pI)(n).forEach(o.r2),c=(0,o.M4)(l,"\n    "),u=(0,o.d$)(l,"LABEL",{class:!0,for:!0},!1);var h=(0,o.pI)(u);for(d=(0,o.M4)(h,"Multiple choice"),h.forEach(o.r2),m=(0,o.M4)(l,"\n    "),_._fragment.l(l),l.forEach(o.r2),p=(0,o.M4)(e,"\n  "),k._fragment.l(e),g=(0,o.M4)(e,"\n  "),a=0;a<$.length;a+=1)$[a].l(e);e.forEach(o.r2),this.h()},h(){(0,o.NH)(n,"change",b),(0,o.P$)(n,"type","checkbox"),n.id=l="poll-option-multiple-"+e.realm,u.className="multiple-choice-label svelte-1iat7bs",u.htmlFor=h="poll-option-multiple-"+e.realm,s.className="compose-poll svelte-1iat7bs",(0,o.P$)(s,"aria-label","Create poll")},m(t,e){(0,o.$T)(t,s,e);for(var a=0;a<v.length;a+=1)v[a].m(s,null);for((0,o.R3)(s,i),(0,o.R3)(s,r),(0,o.R3)(r,n),(0,o.R3)(r,c),(0,o.R3)(r,u),(0,o.R3)(u,d),(0,o.R3)(r,m),_._mount(r,null),(0,o.R3)(s,p),k._mount(s,null),(0,o.R3)(s,g),a=0;a<$.length;a+=1)$[a].m(s,null)},p(e,o){if(e.realm||e.poll){f=o.poll.options;for(var a=0;a<f.length;a+=1){const r=ie(o,f,a);v[a]?v[a].p(e,r):(v[a]=re(t,r),v[a].c(),v[a].m(s,i))}for(;a<v.length;a+=1)v[a].d(1);v.length=f.length}e.realm&&l!==(l="poll-option-multiple-"+o.realm)&&(n.id=l),e.realm&&h!==(h="poll-option-multiple-"+o.realm)&&(u.htmlFor=h);var r={};e.pollExpiryOptions&&(r.options=o.pollExpiryOptions),e.pollExpiryDefaultValue&&(r.defaultValue=o.pollExpiryDefaultValue),_._set(r);var c={};if(e.poll&&(c.disabled=4===o.poll.options.length),k._set(c),e.realm||e.poll){for(S=o.poll.options,a=0;a<S.length;a+=1){const t=oe(o,S,a);$[a]?$[a].p(e,t):($[a]=ne(0,t),$[a].c(),$[a].m(s,null))}for(;a<$.length;a+=1)$[a].d(1);$.length=S.length}},d(t){t&&(0,o.r2)(s),(0,o.kw)(v,t),(0,o.ys)(n,"change",b),_.destroy(),k.destroy(),(0,o.kw)($,t)}}}(this,this._state),this.root._oncreate.push((()=>{se.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),t.target){var s=(0,o.pI)(t.target);t.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(le.prototype,o.uS),(0,o.f0)(le.prototype,ee);const ce=le;var ue={observe:R.N7,setupSyncToStore(){this.observe("rawChecked",(()=>{(0,z.F)((()=>{const{realm:t}=this.get(),{rawChecked:e}=this.get();this.store.getComposeData(t,"sensitive")!==e&&(this.store.setComposeData(t,{sensitive:e}),this.store.save())}))}),{init:!1})},setupSyncFromStore(){this.observe("sensitive",(t=>{this.set({rawChecked:t})}))}};function de(){this.setupSyncToStore(),this.setupSyncFromStore()}function he(t,e){var s,a,i,r,n,l,c;function u(){t.set({rawChecked:i.checked})}return{c(){s=(0,o.az)("div"),a=(0,o.az)("label"),i=(0,o.az)("input"),r=(0,o.rw)("\n      "),n=(0,o.az)("span"),l=(0,o.rw)("Mark media as sensitive"),this.h()},l(t){s=(0,o.d$)(t,"DIV",{class:!0},!1);var e=(0,o.pI)(s);a=(0,o.d$)(e,"LABEL",{class:!0},!1);var c=(0,o.pI)(a);i=(0,o.d$)(c,"INPUT",{type:!0,disabled:!0},!1),(0,o.pI)(i).forEach(o.r2),r=(0,o.M4)(c,"\n      "),n=(0,o.d$)(c,"SPAN",{class:!0},!1);var u=(0,o.pI)(n);l=(0,o.M4)(u,"Mark media as sensitive"),u.forEach(o.r2),c.forEach(o.r2),e.forEach(o.r2),this.h()},h(){(0,o.NH)(i,"change",u),(0,o.P$)(i,"type","checkbox"),i.disabled=e.disabled,n.className=c=(e.disabled?"compose-sensitive-span-disabled":"")+" svelte-1ppizof",a.className="svelte-1ppizof",s.className="compose-media-sensitive svelte-1ppizof"},m(t,c){(0,o.$T)(t,s,c),(0,o.R3)(s,a),(0,o.R3)(a,i),i.checked=e.rawChecked,(0,o.R3)(a,r),(0,o.R3)(a,n),(0,o.R3)(n,l)},p(t,e){t.rawChecked&&(i.checked=e.rawChecked),t.disabled&&(i.disabled=e.disabled),t.disabled&&c!==(c=(e.disabled?"compose-sensitive-span-disabled":"")+" svelte-1ppizof")&&(n.className=c)},d(t){t&&(0,o.r2)(s),(0,o.ys)(i,"change",u)}}}function me(t){var e,s,a,i,r;if((0,o.S1)(this,t),this._state=(0,o.f0)({rawChecked:!1},t.data),this._recompute({contentWarning:1,contentWarningShown:1},this._state),this._intro=!0,document.getElementById("svelte-1ppizof-style")||((e=(0,o.az)("style")).id="svelte-1ppizof-style",e.textContent=".compose-media-sensitive.svelte-1ppizof{grid-area:sensitive;margin-top:10px}label.svelte-1ppizof{padding:5px;display:flex;align-items:center;justify-content:flex-start}span.svelte-1ppizof{margin-left:5px}.compose-sensitive-span-disabled.svelte-1ppizof{color:var(--deemphasized-text-color)}@media(max-width: 767px){.compose-media-sensitive.svelte-1ppizof{margin-top:0}}@media(max-width: 320px){span.svelte-1ppizof{font-size:0.9em}}",(0,o.R3)(document.head,e)),this._fragment=(s=this,a=this._state,r=a.media.length&&he(s,a),{c(){r&&r.c(),i=(0,o.Yr)()},l(t){r&&r.l(t),i=(0,o.Yr)()},m(t,e){r&&r.m(t,e),(0,o.$T)(t,i,e)},p(t,e){e.media.length?r?r.p(t,e):((r=he(s,e)).c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},d(t){r&&r.d(t),t&&(0,o.r2)(i)}}),this.root._oncreate.push((()=>{de.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),t.target){var n=(0,o.pI)(t.target);t.hydrate?this._fragment.l(n):this._fragment.c(),n.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(me.prototype,o.uS),(0,o.f0)(me.prototype,ue),me.prototype._recompute=function(t,e){(t.contentWarning||t.contentWarningShown)&&this._differs(e.disabled,e.disabled=function({contentWarning:t,contentWarningShown:e}){return t&&e}(e))&&(t.disabled=!0)};const pe=me;var ge=s(1793),fe=s(5981),ve=s(2595);function ye(t,e){const{reduceMotion:s}=i.h.get();return s?{delay:0,duration:1,easing:t=>t,css:M.ZT}:(0,ve.Z)(t,e)}var be=s(7031),xe=s(2502),_e=s(1505),we=s(1162),ke=s(5358),Se=s(4285);const $e={direct:1,private:2,unlisted:3,public:4};var Ie={async doPostStatus(){const{aboutToPostStatus:t}=this.get(),{postingStatus:e}=this.store.get();t||e||(this.set({aboutToPostStatus:!0}),(0,z.F)((()=>{this.set({aboutToPostStatus:!1}),this.doPostStatusAfterDelay()})))},doPostStatusAfterDelay(){const{text:t,media:e,postPrivacyKey:s,contentWarning:o,realm:a,overLimit:r,inReplyToUuid:n,inReplyToId:l,poll:u,sensitive:d}=this.get(),h=e.map((t=>t.data.id)),m=e.map((t=>t.description)),p=e.map((t=>[t.focusX,t.focusY])),g=l||("home"===a||"dialog"===a?null:a);if(r||!t&&!e.length)return;const f=u&&u.options&&u.options.length;if(f&&(u.options.length<2||!u.options.every(Boolean)))return;!async function(t,e,s,o,a,r,n,l,u,d,h){const{currentInstance:m,accessToken:p,online:g}=i.h.get();if(!g)return void be.A.say("You cannot post while offline");e=e||"";const f=(o||[]).map(((t,e)=>({description:l&&l[e],focalPoint:h&&h[e]})));i.h.set({postingStatus:!0});try{await Promise.all(f.map((async({description:t,focalPoint:e},s)=>{if(t=t||"",(e=e||[0,0])[0]=e[0]||0,e[1]=e[1]||0,t||e[0]||e[1])return(0,ke._)(m,p,o[s],t,e)})));const l=await(0,xe.cf)(m,p,e,s,o,a,r,n,d,h);(0,_e.I)(m,"home",l),i.h.clearComposeData(t),(0,_.j)("postedStatus",t,u),(0,z.F)((()=>(o||[]).forEach((t=>we.F.deleteCachedMediaFile(t)))))}catch(v){console.error(v),be.A.say((0,c.A)(["Unable to post toot: ",["error"]],{error:v.message||""}))}finally{i.h.set({postingStatus:!1})}}(a,t,g,h,d,o,s,m,n,f&&{expires_in:(u.expiry||Qt).toString(),multiple:!!u.multiple,options:u.options},p)}};function ze(){const{realm:t,replySpoiler:e,replyVisibility:s}=this.get();"home"!==t&&"dialog"!==t&&async function(t){const{currentInstance:e}=i.h.get(),s=await we.F.getStatus(e,t),{currentVerifyCredentials:o}=i.h.get(),a=s.reblog||s;let r=[a.account].concat(a.mentions||[]).filter((t=>t.id!==o.id));r=(0,Se.mN)(r,(t=>t.id)),!i.h.getComposeData(t,"text")&&r.length&&i.h.setComposeData(t,{text:r.map((t=>`@${t.acct} `)).join("")})}(t),e&&function(t,e){const s=i.h.getComposeData(t,"contentWarning");void 0!==i.h.getComposeData(t,"contentWarningShown")||s||i.h.setComposeData(t,{contentWarning:e,contentWarningShown:!0})}(t,e),s&&function(t,e){if(void 0!==i.h.getComposeData(t,"postPrivacy"))return;const{currentVerifyCredentials:s}=i.h.get(),o=s.source.privacy,a=$e[e]<$e[o]?e:o;i.h.setComposeData(t,{postPrivacy:a})}(t,s)}function Fe(t,e){var s,a;return{c(){s=(0,o.az)("h2"),a=(0,o.rw)("Compose toot"),this.h()},l(t){s=(0,o.d$)(t,"H2",{class:!0},!1);var e=(0,o.pI)(s);a=(0,o.M4)(e,"Compose toot"),e.forEach(o.r2),this.h()},h(){s.className="sr-only"},m(t,e){(0,o.$T)(t,s,e),(0,o.R3)(s,a)},d(t){t&&(0,o.r2)(s)}}}function De(t,e){var s,a,i,r={realm:e.realm,contentWarning:e.contentWarning},n=new xt({root:t.root,store:t.store,data:r});return{c(){s=(0,o.az)("div"),n._fragment.c(),this.h()},l(t){s=(0,o.d$)(t,"DIV",{class:!0},!1);var e=(0,o.pI)(s);n._fragment.l(e),e.forEach(o.r2),this.h()},h(){s.className="compose-content-warning-wrapper svelte-qt47aq"},m(t,e){(0,o.$T)(t,s,e),n._mount(s,null),i=!0},p(t,e){var s={};t.realm&&(s.realm=e.realm),t.contentWarning&&(s.contentWarning=e.contentWarning),n._set(s)},i(e,r){i||(t.root._intro&&(a&&a.invalidate(),t.root._aftercreate.push((()=>{a||(a=(0,o.HS)(t,s,ye,{duration:333},!0)),a.run(1)}))),this.m(e,r))},o(e){i&&(a||(a=(0,o.HS)(t,s,ye,{duration:333},!1)),a.run(0,(()=>{e(),a=null})),i=!1)},d(t){t&&(0,o.r2)(s),n.destroy(),t&&a&&a.abort()}}}function Te(t,e){var s,a,i,r={realm:e.realm,poll:e.poll},n=new ce({root:t.root,store:t.store,data:r});return{c(){s=(0,o.az)("div"),n._fragment.c(),this.h()},l(t){s=(0,o.d$)(t,"DIV",{class:!0},!1);var e=(0,o.pI)(s);n._fragment.l(e),e.forEach(o.r2),this.h()},h(){s.className="compose-poll-wrapper svelte-qt47aq"},m(t,e){(0,o.$T)(t,s,e),n._mount(s,null),i=!0},p(t,e){var s={};t.realm&&(s.realm=e.realm),t.poll&&(s.poll=e.poll),n._set(s)},i(e,r){i||(t.root._intro&&(a&&a.invalidate(),t.root._aftercreate.push((()=>{a||(a=(0,o.HS)(t,s,ye,{duration:333},!0)),a.run(1)}))),this.m(e,r))},o(e){i&&(a||(a=(0,o.HS)(t,s,ye,{duration:333},!1)),a.run(0,(()=>{e(),a=null})),i=!1)},d(t){t&&(0,o.r2)(s),n.destroy(),t&&a&&a.abort()}}}function Ce(t,e){var s,a;return{c(){s=(0,o.az)("div"),this.h()},l(t){s=(0,o.d$)(t,"DIV",{class:!0},!1),(0,o.pI)(s).forEach(o.r2),this.h()},h(){s.className=a="compose-box-border-bottom "+e.hideAndFadeIn+" svelte-qt47aq"},m(t,e){(0,o.$T)(t,s,e)},p(t,e){t.hideAndFadeIn&&a!==(a="compose-box-border-bottom "+e.hideAndFadeIn+" svelte-qt47aq")&&(s.className=a)},d(t){t&&(0,o.r2)(s)}}}function Ee(t){var e;if((0,o.S1)(this,t),this.store=i.h,this._state=(0,o.f0)((0,o.f0)(this.store._init(["currentComposeData","currentVerifyCredentials","maxStatusChars"]),{size:void 0,isReply:!1,autoFocus:!1,hideBottomBorder:!1,hidden:!1,dialogId:void 0,aboutToPostStatus:!1}),t.data),this.store._add(this,["currentComposeData","currentVerifyCredentials","maxStatusChars"]),this._recompute({$currentComposeData:1,realm:1,composeData:1,text:1,contentWarning:1,textLength:1,contentWarningLength:1,contentWarningShown:1,length:1,$maxStatusChars:1,$currentVerifyCredentials:1,defaultPostPrivacyKey:1,overLimit:1,size:1,postPrivacyKey:1,isReply:1,hidden:1},this._state),this._intro=!0,this._handlers.destroy=[o.iT],document.getElementById("svelte-qt47aq-style")||((e=(0,o.az)("style")).id="svelte-qt47aq-style",e.textContent='.compose-box.svelte-qt47aq{border-radius:4px;padding:20px 20px 0 20px;display:grid;align-items:flex-start;grid-template-areas:"avatar name        handle      handle"\n      "avatar cw          cw          cw"\n      "avatar input       input       input"\n      "avatar gauge       gauge       gauge"\n      "avatar autosuggest autosuggest autosuggest"\n      "avatar poll        poll        poll"\n      "avatar toolbar     toolbar     length"\n      "avatar media       media       media"\n      "avatar sensitive   sensitive   sensitive";grid-template-columns:min-content minmax(0, max-content) 1fr 1fr;position:relative}.compose-box.direct-reply.svelte-qt47aq{background-color:var(--status-direct-background)}.compose-box-fade-in{transition:opacity 0.2s linear}.compose-box-border-bottom.svelte-qt47aq{height:1px;background:var(--main-border);width:100%}.compose-content-warning-wrapper.svelte-qt47aq{grid-area:cw}.compose-poll-wrapper.svelte-qt47aq{grid-area:poll}@media(max-width: 767px){.compose-box.svelte-qt47aq{padding:10px 10px 0 10px}.compose-box-realm-dialog.svelte-qt47aq{overflow-x:hidden}}@media(max-width: 240px){.compose-box.svelte-qt47aq{padding:10px 5px 0 5px}}',(0,o.R3)(document.head,e)),this._fragment=function(t,e){var s,a,i,r,n,l,c,u,d,m,p,f,v,b,x,_="home"===e.realm&&Fe(),w={realm:e.realm,dialogId:e.dialogId},k=new $({root:t.root,store:t.store,data:w}),S=e.contentWarningShown&&De(t,e),I={realm:e.realm,text:e.text,autoFocus:e.autoFocus},z=new U({root:t.root,store:t.store,data:I});z.on("postAction",(function(e){t.doPostStatus()}));var F={length:e.length,overLimit:e.overLimit},D=new g({root:t.root,store:t.store,data:F}),T={realm:e.realm,text:e.text,dialogId:e.dialogId},C=new Yt({root:t.root,store:t.store,data:T}),E=e.poll&&e.poll.options&&e.poll.options.length&&Te(t,e),A={realm:e.realm,postPrivacy:e.postPrivacy,media:e.media,contentWarningShown:e.contentWarningShown,text:e.text,poll:e.poll},N=new h({root:t.root,store:t.store,data:A}),P={length:e.length,overLimit:e.overLimit},R=new y({root:t.root,store:t.store,data:P}),M={realm:e.realm,media:e.media},L=new gt({root:t.root,store:t.store,data:M}),j={realm:e.realm,media:e.media,sensitive:e.sensitive,contentWarning:e.contentWarning,contentWarningShown:e.contentWarningShown},W=new pe({root:t.root,store:t.store,data:j}),q={realm:e.realm},B=new $t({root:t.root,store:t.store,slots:{default:(0,o.xJ)()},data:q}),V={showSticky:e.showSticky,overLimit:e.overLimit,hideAndFadeIn:e.hideAndFadeIn},Z=new st({root:t.root,store:t.store,data:V});Z.on("postAction",(function(e){t.doPostStatus()}));var O=!e.hideBottomBorder&&Ce(0,e);return{c(){_&&_.c(),s=(0,o.rw)("\n"),a=(0,o.az)("div"),k._fragment.c(),i=(0,o.rw)("\n    "),S&&S.c(),r=(0,o.rw)("\n    "),z._fragment.c(),n=(0,o.rw)("\n    "),D._fragment.c(),l=(0,o.rw)("\n    "),C._fragment.c(),c=(0,o.rw)("\n    "),E&&E.c(),u=(0,o.rw)("\n    "),N._fragment.c(),d=(0,o.rw)("\n    "),R._fragment.c(),m=(0,o.rw)("\n    "),L._fragment.c(),p=(0,o.rw)("\n    "),W._fragment.c(),B._fragment.c(),v=(0,o.rw)("\n"),Z._fragment.c(),b=(0,o.rw)("\n"),O&&O.c(),x=(0,o.Yr)(),this.h()},l(t){_&&_.l(t),s=(0,o.M4)(t,"\n"),a=(0,o.d$)(t,"DIV",{class:!0},!1);var e=(0,o.pI)(a);k._fragment.l(e),i=(0,o.M4)(e,"\n    "),S&&S.l(e),r=(0,o.M4)(e,"\n    "),z._fragment.l(e),n=(0,o.M4)(e,"\n    "),D._fragment.l(e),l=(0,o.M4)(e,"\n    "),C._fragment.l(e),c=(0,o.M4)(e,"\n    "),E&&E.l(e),u=(0,o.M4)(e,"\n    "),N._fragment.l(e),d=(0,o.M4)(e,"\n    "),R._fragment.l(e),m=(0,o.M4)(e,"\n    "),L._fragment.l(e),p=(0,o.M4)(e,"\n    "),W._fragment.l(e),e.forEach(o.r2),B._fragment.l(t),v=(0,o.M4)(t,"\n"),Z._fragment.l(t),b=(0,o.M4)(t,"\n"),O&&O.l(t),x=(0,o.Yr)(),this.h()},h(){a.className=f=e.computedClassName+" "+e.hideAndFadeIn+" svelte-qt47aq"},m(t,e){_&&_.m(t,e),(0,o.$T)(t,s,e),(0,o.R3)(B._slotted.default,a),k._mount(a,null),(0,o.R3)(a,i),S&&S.i(a,null),(0,o.R3)(a,r),z._mount(a,null),(0,o.R3)(a,n),D._mount(a,null),(0,o.R3)(a,l),C._mount(a,null),(0,o.R3)(a,c),E&&E.i(a,null),(0,o.R3)(a,u),N._mount(a,null),(0,o.R3)(a,d),R._mount(a,null),(0,o.R3)(a,m),L._mount(a,null),(0,o.R3)(a,p),W._mount(a,null),B._mount(t,e),(0,o.$T)(t,v,e),Z._mount(t,e),(0,o.$T)(t,b,e),O&&O.m(t,e),(0,o.$T)(t,x,e)},p(e,i){"home"===i.realm?_||((_=Fe()).c(),_.m(s.parentNode,s)):_&&(_.d(1),_=null);var n={};e.realm&&(n.realm=i.realm),e.dialogId&&(n.dialogId=i.dialogId),k._set(n),i.contentWarningShown?(S?S.p(e,i):(S=De(t,i))&&S.c(),S.i(a,r)):S&&((0,o.d8)(),S.o((function(){S.d(1),S=null})));var l={};e.realm&&(l.realm=i.realm),e.text&&(l.text=i.text),e.autoFocus&&(l.autoFocus=i.autoFocus),z._set(l);var c={};e.length&&(c.length=i.length),e.overLimit&&(c.overLimit=i.overLimit),D._set(c);var d={};e.realm&&(d.realm=i.realm),e.text&&(d.text=i.text),e.dialogId&&(d.dialogId=i.dialogId),C._set(d),i.poll&&i.poll.options&&i.poll.options.length?(E?E.p(e,i):(E=Te(t,i))&&E.c(),E.i(a,u)):E&&((0,o.d8)(),E.o((function(){E.d(1),E=null})));var h={};e.realm&&(h.realm=i.realm),e.postPrivacy&&(h.postPrivacy=i.postPrivacy),e.media&&(h.media=i.media),e.contentWarningShown&&(h.contentWarningShown=i.contentWarningShown),e.text&&(h.text=i.text),e.poll&&(h.poll=i.poll),N._set(h);var m={};e.length&&(m.length=i.length),e.overLimit&&(m.overLimit=i.overLimit),R._set(m);var p={};e.realm&&(p.realm=i.realm),e.media&&(p.media=i.media),L._set(p);var g={};e.realm&&(g.realm=i.realm),e.media&&(g.media=i.media),e.sensitive&&(g.sensitive=i.sensitive),e.contentWarning&&(g.contentWarning=i.contentWarning),e.contentWarningShown&&(g.contentWarningShown=i.contentWarningShown),W._set(g),(e.computedClassName||e.hideAndFadeIn)&&f!==(f=i.computedClassName+" "+i.hideAndFadeIn+" svelte-qt47aq")&&(a.className=f);var v={};e.realm&&(v.realm=i.realm),B._set(v);var y={};e.showSticky&&(y.showSticky=i.showSticky),e.overLimit&&(y.overLimit=i.overLimit),e.hideAndFadeIn&&(y.hideAndFadeIn=i.hideAndFadeIn),Z._set(y),i.hideBottomBorder?O&&(O.d(1),O=null):O?O.p(e,i):((O=Ce(0,i)).c(),O.m(x.parentNode,x))},d(t){_&&_.d(t),t&&(0,o.r2)(s),k.destroy(),S&&S.d(),z.destroy(),D.destroy(),C.destroy(),E&&E.d(),N.destroy(),R.destroy(),L.destroy(),W.destroy(),B.destroy(t),t&&(0,o.r2)(v),Z.destroy(t),t&&(0,o.r2)(b),O&&O.d(t),t&&(0,o.r2)(x)}}}(this,this._state),this.root._oncreate.push((()=>{ze.call(this),this.fire("update",{changed:(0,o.lZ)({},this._state),current:this._state})})),t.target){var s=(0,o.pI)(t.target);t.hydrate?this._fragment.l(s):this._fragment.c(),s.forEach(o.r2),this._mount(t.target,t.anchor),(0,o.yl)(this)}}(0,o.f0)(Ee.prototype,o.uS),(0,o.f0)(Ee.prototype,Ie),Ee.prototype._recompute=function(t,e){(t.$currentComposeData||t.realm)&&this._differs(e.composeData,e.composeData=function({$currentComposeData:t,realm:e}){return t[e]||{}}(e))&&(t.composeData=!0),t.composeData&&this._differs(e.text,e.text=function({composeData:t}){return t.text||""}(e))&&(t.text=!0),t.text&&this._differs(e.textLength,e.textLength=function({text:t}){return(0,ge.X)(t)}(e))&&(t.textLength=!0),t.composeData&&this._differs(e.contentWarning,e.contentWarning=function({composeData:t}){return t.contentWarning||""}(e))&&(t.contentWarning=!0),t.contentWarning&&this._differs(e.contentWarningLength,e.contentWarningLength=function({contentWarning:t}){return(0,ge.X)(t)}(e))&&(t.contentWarningLength=!0),t.composeData&&this._differs(e.contentWarningShown,e.contentWarningShown=function({composeData:t}){return t.contentWarningShown}(e))&&(t.contentWarningShown=!0),(t.textLength||t.contentWarningLength||t.contentWarningShown)&&this._differs(e.length,e.length=function({textLength:t,contentWarningLength:e,contentWarningShown:s}){return t+(s?e:0)}(e))&&(t.length=!0),(t.length||t.$maxStatusChars)&&this._differs(e.overLimit,e.overLimit=function({length:t,$maxStatusChars:e}){return t>e}(e))&&(t.overLimit=!0),t.$currentVerifyCredentials&&this._differs(e.defaultPostPrivacyKey,e.defaultPostPrivacyKey=function({$currentVerifyCredentials:t}){return t&&t.source.privacy||"public"}(e))&&(t.defaultPostPrivacyKey=!0),(t.composeData||t.defaultPostPrivacyKey)&&this._differs(e.postPrivacyKey,e.postPrivacyKey=function({composeData:t,defaultPostPrivacyKey:e}){return t.postPrivacy||e}(e))&&(t.postPrivacyKey=!0),(t.overLimit||t.realm||t.size||t.postPrivacyKey||t.isReply)&&this._differs(e.computedClassName,e.computedClassName=function({overLimit:t,realm:e,size:s,postPrivacyKey:o,isReply:a}){return(0,G.q)("compose-box",`compose-box-realm-${e}`,t&&"over-char-limit",a&&"direct"===o&&"direct-reply")}(e))&&(t.computedClassName=!0),t.hidden&&this._differs(e.hideAndFadeIn,e.hideAndFadeIn=function({hidden:t}){return(0,G.q)("compose-box-fade-in",t&&"hidden")}(e))&&(t.hideAndFadeIn=!0),t.realm&&this._differs(e.showSticky,e.showSticky=function({realm:t}){return"home"===t}(e))&&(t.showSticky=!0),t.composeData&&(this._differs(e.media,e.media=function({composeData:t}){return t.media||[]}(e))&&(t.media=!0),this._differs(e.poll,e.poll=function({composeData:t}){return t.poll}(e))&&(t.poll=!0),this._differs(e.inReplyToId,e.inReplyToId=function({composeData:t}){return t.inReplyToId}(e))&&(t.inReplyToId=!0)),t.postPrivacyKey&&this._differs(e.postPrivacy,e.postPrivacy=function({postPrivacyKey:t}){return fe.K5.find((e=>e.key===t))}(e))&&(t.postPrivacy=!0),t.composeData&&this._differs(e.sensitive,e.sensitive=function({composeData:t}){return!!t.sensitive}(e))&&(t.sensitive=!0)};const Ae=Ee},2502:(t,e,s)=>{s.d(e,{cf:()=>r,j7:()=>n,lR:()=>l});var o=s(4886),a=s(385);async function i(t,e,s,i,r,n,l,c,u,d){const h={status:i,media_ids:n,sensitive:l,spoiler_text:c,poll:d,..."post"===s&&{in_reply_to_id:r,visibility:u}};for(const o of Object.keys(h)){const t=h[o];"status"===o||t&&(!Array.isArray(t)||t.length)||delete h[o]}return("post"===s?a.v_:a.gz)(t,h,(0,o.I)(e),{timeout:a.$Q})}async function r(t,e,s,a,r,n,l,c,u){return i(`${(0,o.E)(t)}/api/v1/statuses`,e,"post",s,a,r,n,l,c,u)}async function n(t,e,s){const i=`${(0,o.E)(t)}/api/v1/statuses/${s}/context`;return(0,a.U2)(i,(0,o.I)(e),{timeout:a.EH})}async function l(t,e,s){const i=`${(0,o.E)(t)}/api/v1/statuses/${s}`;return(0,a.U2)(i,(0,o.I)(e),{timeout:a.EH})}},4831:(t,e,s)=>{s.d(e,{i:()=>d});var o=s(8183),a=s(6373),i=s(2213);const r=(0,s(7686).g)(requestAnimationFrame),n=new Map;function l(t){if(!t||!t.nodeName||"TEXTAREA"!==t.nodeName||n.has(t))return;const e=(0,i.JX)();let s=null;function l(){(0,o.B)("autosize:resize()"),function(){const o=t.style.height,a=e.scrollTop;t.style.height="";const i=t.scrollHeight+s;0===t.scrollHeight?t.style.height=o:(t.style.height=`${i}px`,e.scrollTop=a)}(),(0,o.s)("autosize:resize()")}const c=()=>r(u);function u(){(0,o.B)("autosize:update()"),l(),(0,o.s)("autosize:update()")}const d=(0,a.D)((()=>requestAnimationFrame(u)),1e3);window.addEventListener("resize",d,!1),t.addEventListener("input",c,!1),n.set(t,{destroy:()=>{window.removeEventListener("resize",d,!1),t.removeEventListener("input",c,!1),n.delete(t)},update:u}),function(){const e=window.getComputedStyle(t,null);s="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),u()}()}function c(t){const e=n.get(t);e&&e.destroy()}function u(t){const e=n.get(t);e&&e.update()}const d=(t,e)=>(t&&Array.prototype.forEach.call(t.length?t:[t],(t=>l(t))),t);d.destroy=t=>(t&&Array.prototype.forEach.call(t.length?t:[t],c),t),d.update=t=>(t&&Array.prototype.forEach.call(t.length?t:[t],u),t)},1793:(t,e,s)=>{s.d(e,{X:()=>l});var o=s(8978);const a=(0,o.I)((()=>/((https?:\/\/)((?:(?:(?:[^/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$//\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000//\uFFFE\uFEFF\uFFFF\u202A-\u202E/](?:[_-]|[^/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$//\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000//\uFFFE\uFEFF\uFFFF\u202A-\u202E/])*)?[^/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$//\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000//\uFFFE\uFEFF\uFFFF\u202A-\u202E/]\.)*(?:(?:[^/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$//\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000//\uFFFE\uFEFF\uFFFF\u202A-\u202E/](?:-|[^/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$//\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000//\uFFFE\uFEFF\uFFFF\u202A-\u202E/])*)?[^/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$//\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000//\uFFFE\uFEFF\uFFFF\u202A-\u202E/]\.)(?:(?:(?:삼성|닷컴|닷넷|香格里拉|餐厅|食品|飞利浦|電訊盈科|集团|通販|购物|谷歌|诺基亚|联通|网络|网站|网店|网址|组织机构|移动|珠宝|点看|游戏|淡马锡|机构|書籍|时尚|新闻|政府|政务|手表|手机|我爱你|慈善|微博|广东|工行|家電|娱乐|天主教|大拿|大众汽车|在线|嘉里大酒店|嘉里|商标|商店|商城|公益|公司|八卦|健康|信息|佛山|企业|中文网|中信|世界|ポイント|ファッション|セール|ストア|コム|グーグル|クラウド|みんな|คอม|संगठन|नेट|कॉम|همراه|موقع|موبايلي|كوم|كاثوليك|عرب|شبكة|بيتك|بازار|العليان|ارامكو|اتصالات|ابوظبي|קום|сайт|рус|орг|онлайн|москва|ком|католик|дети|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|vermögensberatung|vermögensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rugby|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|grocery|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|etisalat|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|army|archi|aramco|arab|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|africa|afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion)(?=[^0-9a-zA-Z@]|$))|(?:(?:한국|香港|澳門|新加坡|台灣|台湾|中國|中国|გე|ไทย|ලංකා|ഭാരതം|ಭಾರತ|భారత్|சிங்கப்பூர்|இலங்கை|இந்தியா|ଭାରତ|ભારત|ਭਾਰਤ|ভাৰত|ভারত|বাংলা|भारोत|भारतम्|भारत|ڀارت|پاکستان|مليسيا|مصر|قطر|فلسطين|عمان|عراق|سورية|سودان|تونس|بھارت|بارت|ایران|امارات|المغرب|السعودية|الجزائر|الاردن|հայ|қаз|укр|срб|рф|мон|мкд|ею|бел|бг|ελ|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@]|$))|(?:xn--[0-9a-z]+))))(?::([0-9]+))?(\/(?:(?:[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]*(?:\((?:[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]+|(?:[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]*\([^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]+\)[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]*))\)[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]*)*[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?!\*';:=\,\.\$%\[\]\u002d\u058a\u05be\u1400\u1806\u2010-\u2015\u2e17\u2e1a\u2e3a\u2e40\u301c\u3030\u30a0\ufe31\ufe58\ufe63\uff0d~&\|@]|(?:\((?:[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]+|(?:[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]*\([^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]+\)[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]*))\)))|(?:@[^\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\(\)\?]+\/))*)?(\?[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]*[a-z0-9_&=#\/])?)/gi)),i=(0,o.I)((()=>/(^|[^\/\w])@(([a-z0-9_]+)@[a-z0-9\.\-]+[a-z0-9]+)/gi));var r=s(8183),n=s(641);function l(t){if(!t)return 0;(0,r.B)("measureText()");const e=t.replace(a(),"xxxxxxxxxxxxxxxxxxxxxxx").replace(i(),"$1@$3"),s=(0,n.length)(e);return(0,r.s)("measureText()"),s}},101:(t,e,s)=>{s.d(e,{b:()=>n});const o=new MessageChannel,a=[];function i(t){try{t()}catch(e){console.error(e)}}function r(){o.port2.postMessage(void 0)}o.port1.onmessage=function(){for(const t of a)i(t);a.length=0};const n=t=>{1===a.push(t)&&requestAnimationFrame(r)}},7686:(t,e,s)=>{s.d(e,{g:()=>o});const o=t=>{let e;const s=()=>{const t=e;e=null,t()};return o=>{e||t(s),e=o}}}}]);
//# sourceMappingURL=2644.18340238ba9ef6637f4a.2644.js.map