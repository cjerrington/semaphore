{"version":3,"file":"9117.207d466a6595172f2257.9117.js","mappings":"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","sources":["webpack://semaphore/./src/routes/_actions/copyText.js","webpack://semaphore/./src/routes/_components/dialog/asyncDialogs/importShowCopyDialog.js","webpack://semaphore/./src/routes/_actions/mute.js","webpack://semaphore/./src/routes/_api/mute.js","webpack://semaphore/./src/routes/_actions/report.js","webpack://semaphore/./src/routes/_components/dialog/asyncDialogs/importShowReportDialog.js","webpack://semaphore/./src/routes/_actions/setAccountNotified.js","webpack://semaphore/./src/routes/_api/notify.js","webpack://semaphore/./src/routes/_actions/toggleMute.js","webpack://semaphore/./src/routes/_components/dialog/asyncDialogs/importShowMuteDialog.js","webpack://semaphore/./src/routes/_actions/setShowReblogs.js","webpack://semaphore/./src/routes/_api/showReblogs.js","webpack://semaphore/./src/routes/_actions/setDomainBlocked.js","webpack://semaphore/./src/routes/_api/blockDomain.js","webpack://semaphore/./src/routes/_components/dialog/components/AccountProfileOptionsDialog.html","webpack://semaphore/./src/routes/_components/dialog/creators/showAccountProfileOptionsDialog.js"],"sourcesContent":["import { importShowCopyDialog } from '../_components/dialog/asyncDialogs/importShowCopyDialog.js'\nimport { toast } from '../_components/toast/toast.js'\n\nexport async function copyText (text) {\n  if (navigator.clipboard) { // not supported in all browsers\n    try {\n      await navigator.clipboard.writeText(text)\n      /* no await */ toast.say(\"Copied to clipboard\")\n      return\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  const showCopyDialog = await importShowCopyDialog()\n  showCopyDialog(text)\n}\n","export const importShowCopyDialog = () => import(\n  '../creators/showCopyDialog.js'\n).then(mod => mod.default)\n","import { store } from '../_store/store.js'\nimport { muteAccount, unmuteAccount } from '../_api/mute.js'\nimport { toast } from '../_components/toast/toast.js'\nimport { updateLocalRelationship } from './accounts.js'\nimport { emit } from '../_utils/eventBus.js'\nimport { formatIntl } from '../_utils/formatIntl.js'\n\nexport async function setAccountMuted (accountId, mute, notifications, toastOnSuccess) {\n  const { currentInstance, accessToken } = store.get()\n  try {\n    let relationship\n    if (mute) {\n      relationship = await muteAccount(currentInstance, accessToken, accountId, notifications)\n    } else {\n      relationship = await unmuteAccount(currentInstance, accessToken, accountId)\n    }\n    await updateLocalRelationship(currentInstance, accountId, relationship)\n    if (toastOnSuccess) {\n      /* no await */ toast.say(mute ? \"Muted account\" : \"Unmuted account\")\n    }\n    emit('refreshAccountsList')\n  } catch (e) {\n    console.error(e)\n    /* no await */ toast.say(mute\n      ? formatIntl([\"Unable to mute account: \",[\"error\"]], { error: (e.message || '') })\n      : formatIntl([\"Unable to unmute account: \",[\"error\"]], { error: (e.message || '') })\n    )\n  }\n}\n","import { auth, basename } from './utils.js'\nimport { post, WRITE_TIMEOUT } from '../_utils/ajax.js'\n\nexport async function muteAccount (instanceName, accessToken, accountId, notifications) {\n  const url = `${basename(instanceName)}/api/v1/accounts/${accountId}/mute`\n  return post(url, { notifications }, auth(accessToken), { timeout: WRITE_TIMEOUT })\n}\n\nexport async function unmuteAccount (instanceName, accessToken, accountId) {\n  const url = `${basename(instanceName)}/api/v1/accounts/${accountId}/unmute`\n  return post(url, null, auth(accessToken), { timeout: WRITE_TIMEOUT })\n}\n","import { importShowReportDialog } from '../_components/dialog/asyncDialogs/importShowReportDialog.js'\n\nexport async function reportStatusOrAccount ({ status, account }) {\n  const showReportDialog = await importShowReportDialog()\n  showReportDialog({ status, account })\n}\n","export const importShowReportDialog = () => import(\n  '../creators/showReportDialog.js'\n).then(mod => mod.default)\n","import { store } from '../_store/store.js'\nimport { notifyAccount, denotifyAccount } from '../_api/notify.js'\nimport { toast } from '../_components/toast/toast.js'\nimport { updateLocalRelationship } from './accounts.js'\nimport { formatIntl } from '../_utils/formatIntl.js'\n\nexport async function setAccountNotified (accountId, notify, toastOnSuccess) {\n  const { currentInstance, accessToken } = store.get()\n  try {\n    let relationship\n    if (notify) {\n      relationship = await notifyAccount(currentInstance, accessToken, accountId)\n    } else {\n      relationship = await denotifyAccount(currentInstance, accessToken, accountId)\n    }\n    await updateLocalRelationship(currentInstance, accountId, relationship)\n    if (toastOnSuccess) {\n      /* no await */ toast.say(notify ? \"Subscribed to account\" : \"Unsubscribed from account\")\n    }\n  } catch (e) {\n    console.error(e)\n    /* no await */ toast.say(notify\n      ? formatIntl([\"Unable to subscribe: \",[\"error\"]], { error: (e.message || '') })\n      : formatIntl([\"Unable to unsubscribe: \",[\"error\"]], { error: (e.message || '') })\n    )\n  }\n}\n","import { post, WRITE_TIMEOUT } from '../_utils/ajax.js'\nimport { auth, basename } from './utils.js'\n\nexport async function notifyAccount (instanceName, accessToken, accountId) {\n  const url = `${basename(instanceName)}/api/v1/accounts/${accountId}/follow`\n  return post(url, {\n    notify: true\n  }, auth(accessToken), { timeout: WRITE_TIMEOUT })\n}\n\nexport async function denotifyAccount (instanceName, accessToken, accountId) {\n  const url = `${basename(instanceName)}/api/v1/accounts/${accountId}/follow`\n  return post(url, {\n    notify: false\n  }, auth(accessToken), { timeout: WRITE_TIMEOUT })\n}\n","import { importShowMuteDialog } from '../_components/dialog/asyncDialogs/importShowMuteDialog.js'\nimport { setAccountMuted } from './mute.js'\n\nexport async function toggleMute (account, mute) {\n  if (mute) {\n    (await importShowMuteDialog())(account)\n  } else {\n    await setAccountMuted(account.id, mute, /* notifications */ false, /* toastOnSuccess */ true)\n  }\n}\n","export const importShowMuteDialog = () => import(\n  '../creators/showMuteDialog.js'\n).then(mod => mod.default)\n","import { store } from '../_store/store.js'\nimport { setShowReblogs as setShowReblogsApi } from '../_api/showReblogs.js'\nimport { toast } from '../_components/toast/toast.js'\nimport { updateLocalRelationship } from './accounts.js'\nimport { formatIntl } from '../_utils/formatIntl.js'\n\nexport async function setShowReblogs (accountId, showReblogs, toastOnSuccess) {\n  const { currentInstance, accessToken } = store.get()\n  try {\n    const relationship = await setShowReblogsApi(currentInstance, accessToken, accountId, showReblogs)\n    await updateLocalRelationship(currentInstance, accountId, relationship)\n    if (toastOnSuccess) {\n      /* no await */ toast.say(showReblogs ? \"Showing boosts\" : \"Hiding boosts\")\n    }\n  } catch (e) {\n    console.error(e)\n    /* no await */ toast.say(showReblogs\n      ? formatIntl([\"Unable to show boosts: \",[\"error\"]], { error: (e.message || '') })\n      : formatIntl([\"Unable to hide boosts: \",[\"error\"]], { error: (e.message || '') })\n    )\n  }\n}\n","import { auth, basename } from './utils.js'\nimport { post, WRITE_TIMEOUT } from '../_utils/ajax.js'\n\nexport function setShowReblogs (instanceName, accessToken, accountId, showReblogs) {\n  const url = `${basename(instanceName)}/api/v1/accounts/${accountId}/follow`\n  return post(url, { reblogs: !!showReblogs }, auth(accessToken), { timeout: WRITE_TIMEOUT })\n}\n","import { store } from '../_store/store.js'\nimport { blockDomain, unblockDomain } from '../_api/blockDomain.js'\nimport { toast } from '../_components/toast/toast.js'\nimport { updateRelationship } from './accounts.js'\nimport { formatIntl } from '../_utils/formatIntl.js'\n\nexport async function setDomainBlocked (accountId, domain, block, toastOnSuccess) {\n  const { currentInstance, accessToken } = store.get()\n  try {\n    if (block) {\n      await blockDomain(currentInstance, accessToken, domain)\n    } else {\n      await unblockDomain(currentInstance, accessToken, domain)\n    }\n    await updateRelationship(accountId)\n    if (toastOnSuccess) {\n      /* no await */ toast.say(block ? \"Hid domain\" : \"Unhid domain\")\n    }\n  } catch (e) {\n    console.error(e)\n    /* no await */ toast.say(block\n      ? formatIntl([\"Unable to hide domain: \",[\"error\"]], { error: (e.message || '') })\n      : formatIntl([\"Unable to unhide domain: \",[\"error\"]], { error: (e.message || '') })\n    )\n  }\n}\n","import { post, WRITE_TIMEOUT, paramsString, del } from '../_utils/ajax.js'\nimport { auth, basename } from './utils.js'\n\nexport async function blockDomain (instanceName, accessToken, domain) {\n  const url = `${basename(instanceName)}/api/v1/domain_blocks?${paramsString({ domain })}`\n  return post(url, null, auth(accessToken), { timeout: WRITE_TIMEOUT })\n}\n\nexport async function unblockDomain (instanceName, accessToken, domain) {\n  const url = `${basename(instanceName)}/api/v1/domain_blocks?${paramsString({ domain })}`\n  return del(url, auth(accessToken), { timeout: WRITE_TIMEOUT })\n}\n","<ModalDialog\n  {id}\n  {label}\n  {title}\n  shrinkWidthToFit={true}\n  background=\"var(--main-bg)\"\n>\n  <GenericDialogList selectable={false} {items} on:click=\"onClick(event)\"/>\n</ModalDialog>\n<script>\nimport ModalDialog from './ModalDialog.html'\nimport { store } from '../../../_store/store.js'\nimport GenericDialogList from './GenericDialogList.html'\nimport { show } from '../helpers/showDialog.js'\nimport { close } from '../helpers/closeDialog.js'\nimport { oncreate } from '../helpers/onCreateDialog.js'\nimport { setAccountBlocked } from '../../../_actions/block.js'\nimport { setAccountFollowed } from '../../../_actions/follow.js'\nimport { setShowReblogs } from '../../../_actions/setShowReblogs.js'\nimport { setDomainBlocked } from '../../../_actions/setDomainBlocked.js'\nimport { copyText } from '../../../_actions/copyText.js'\nimport { composeNewStatusMentioning } from '../../../_actions/mention.js'\nimport { toggleMute } from '../../../_actions/toggleMute.js'\nimport { reportStatusOrAccount } from '../../../_actions/report.js'\nimport { formatIntl } from '../../../_utils/formatIntl.js'\nimport { setAccountNotified } from '../../../_actions/setAccountNotified.js'\n\nexport default {\n  oncreate,\n  store: () => store,\n  computed: {\n    //\n    // begin copypasta (StatusOptionsDialog.html / AccountProfileOptionsDialog.html)\n    //\n    verifyCredentialsId: ({ verifyCredentials }) => verifyCredentials.id,\n    following: ({ relationship }) => relationship && relationship.following,\n    followRequested: ({ relationship }) => relationship && relationship.requested,\n    accountId: ({ account }) => account && account.id,\n    acct: ({ account }) => account.acct,\n    username: ({ account }) => account.username,\n    muting: ({ relationship }) => relationship && relationship.muting,\n    blocking: ({ relationship }) => relationship && relationship.blocking,\n    notifying: ({ relationship }) => relationship && relationship.notifying,\n    followLabel: ({ following, followRequested, account, username }) => {\n      if (typeof following === 'undefined' || !account) {\n        return ''\n      }\n      return (following || followRequested)\n        ? formatIntl([\"Unfollow \",[\"account\"]], { account: `@${username}` })\n        : formatIntl([\"Follow \",[\"account\"]], { account: `@${username}` })\n    },\n    followIcon: ({ following, followRequested }) => (\n      following ? '#fa-user-times' : followRequested ? '#fa-hourglass' : '#fa-user-plus'\n    ),\n    blockLabel: ({ blocking, username }) => (\n      blocking\n        ? formatIntl([\"Unblock \",[\"account\"]], { account: `@${username}` })\n        : formatIntl([\"Block \",[\"account\"]], { account: `@${username}` })\n    ),\n    blockIcon: ({ blocking }) => blocking ? '#fa-unlock' : '#fa-ban',\n    muteLabel: ({ muting, username }) => (\n      muting\n        ? formatIntl([\"Unmute \",[\"account\"]], { account: `@${username}` })\n        : formatIntl([\"Mute \",[\"account\"]], { account: `@${username}` })\n    ),\n    muteIcon: ({ muting }) => muting ? '#fa-volume-up' : '#fa-volume-off',\n    isUser: ({ accountId, verifyCredentialsId }) => accountId === verifyCredentialsId,\n    //\n    // end copypasta (StatusOptionsDialog.html / AccountProfileOptionsDialog.html)\n    //\n    showingReblogs: ({ relationship }) => relationship ? relationship.showing_reblogs : true,\n    showReblogsLabel: ({ showingReblogs, username }) => (\n      showingReblogs\n        ? formatIntl([\"Hide boosts from \",[\"account\"]], { account: `@${username}` })\n        : formatIntl([\"Show boosts from \",[\"account\"]], { account: `@${username}` })\n    ),\n    domain: ({ acct }) => acct.split('@')[1],\n    blockingDomain: ({ relationship }) => relationship && relationship.domain_blocking,\n    blockDomainLabel: ({ blockingDomain, domain }) => (\n      blockingDomain\n        ? formatIntl([\"Unhide \",[\"domain\"]], { domain })\n        : formatIntl([\"Hide \",[\"domain\"]], { domain })\n    ),\n    reportLabel: ({ username }) => (\n      formatIntl([\"Report \",[\"account\"]], { account: `@${username}` })\n    ),\n    items: ({\n      blockLabel, blocking, blockIcon, muteLabel, muteIcon,\n      followLabel, followIcon, following, followRequested,\n      accountId, verifyCredentialsId, username, isUser, showReblogsLabel,\n      domain, blockDomainLabel, reportLabel, notifying\n    }) => ([\n      !isUser && {\n        key: 'mention',\n        label: formatIntl([\"Mention \",[\"account\"]], { account: `@${username}` }),\n        icon: '#fa-comments'\n      },\n      !isUser && !blocking && {\n        key: 'follow',\n        label: followLabel,\n        icon: followIcon\n      },\n      !isUser && following && notifying === false && { // notifying could be undefined for old servers\n        key: 'notify',\n        label: formatIntl([\"Subscribe to \",[\"account\"]], { account: `@${username}` }),\n        icon: '#fa-bell'\n      },\n      !isUser && following && notifying === true && { // notifying could be undefined for old servers\n        key: 'denotify',\n        label: formatIntl([\"Unsubscribe from \",[\"account\"]], { account: `@${username}` }),\n        icon: '#fa-bell-o'\n      },\n      !isUser && {\n        key: 'block',\n        label: blockLabel,\n        icon: blockIcon\n      },\n      !isUser && !blocking && {\n        key: 'mute',\n        label: muteLabel,\n        icon: muteIcon\n      },\n      !isUser && following && {\n        key: 'showReblogs',\n        label: showReblogsLabel,\n        icon: '#fa-retweet'\n      },\n      !isUser && domain && {\n        key: 'blockDomain',\n        label: blockDomainLabel,\n        icon: '#fa-ban'\n      },\n      !isUser && {\n        key: 'report',\n        label: reportLabel,\n        icon: '#fa-flag'\n      },\n      {\n        key: 'copy',\n        label: \"Copy link to account\",\n        icon: '#fa-link'\n      }\n    ].filter(Boolean))\n  },\n  methods: {\n    show,\n    close,\n    onClick (item) {\n      switch (item.key) {\n        case 'mention':\n          return this.onMentionClicked()\n        case 'follow':\n          return this.onFollowClicked()\n        case 'block':\n          return this.onBlockClicked()\n        case 'mute':\n          return this.onMuteClicked()\n        case 'showReblogs':\n          return this.onShowReblogsClicked()\n        case 'blockDomain':\n          return this.onBlockDomainClicked()\n        case 'copy':\n          return this.onCopyClicked()\n        case 'report':\n          return this.onReport()\n        case 'notify':\n          return this.onNotifyClicked()\n        case 'denotify':\n          return this.onDenotifyClicked()\n      }\n    },\n    async onMentionClicked () {\n      const { account } = this.get()\n      this.close()\n      await composeNewStatusMentioning(account)\n    },\n    async onFollowClicked () {\n      const { accountId, following } = this.get()\n      this.close()\n      await setAccountFollowed(accountId, !following, true)\n    },\n    async onBlockClicked () {\n      const { accountId, blocking } = this.get()\n      this.close()\n      await setAccountBlocked(accountId, !blocking, true)\n    },\n    async onMuteClicked () {\n      const { account, muting } = this.get()\n      this.close()\n      await toggleMute(account, !muting)\n    },\n    async onShowReblogsClicked () {\n      const { accountId, showingReblogs } = this.get()\n      this.close()\n      await setShowReblogs(accountId, !showingReblogs, true)\n    },\n    async onBlockDomainClicked () {\n      const { accountId, domain, blockingDomain } = this.get()\n      this.close()\n      await setDomainBlocked(accountId, domain, !blockingDomain, true)\n    },\n    async onCopyClicked () {\n      const { account } = this.get()\n      const { url } = account\n      this.close()\n      await copyText(url)\n    },\n    async onReport () {\n      const { account } = this.get()\n      this.close()\n      await reportStatusOrAccount({ account })\n    },\n    async onNotifyClicked () {\n      const { accountId } = this.get()\n      this.close()\n      await setAccountNotified(accountId, /* notify */ true, /* toastOnSuccess */ true)\n    },\n    async onDenotifyClicked () {\n      const { accountId } = this.get()\n      this.close()\n      await setAccountNotified(accountId, /* notify */ false, /* toastOnSuccess */ true)\n    }\n  },\n  components: {\n    ModalDialog,\n    GenericDialogList\n  }\n}\n</script>\n","import AccountProfileOptionsDialog from '../components/AccountProfileOptionsDialog.html'\nimport { showDialog } from './showDialog.js'\n\nexport default function showAccountProfileOptionsDialog (account, relationship, verifyCredentials) {\n  return showDialog(AccountProfileOptionsDialog, {\n    label: \"Profile options\",\n    title: '',\n    account,\n    relationship,\n    verifyCredentials\n  })\n}\n"],"names":["async","copyText","text","navigator","clipboard","writeText","toast","e","console","error","then","mod","default","setAccountMuted","accountId","mute","notifications","toastOnSuccess","currentInstance","accessToken","store","relationship","instanceName","url","timeout","muteAccount","unmuteAccount","formatIntl","message","reportStatusOrAccount","status","account","setAccountNotified","notify","notifyAccount","denotifyAccount","toggleMute","id","showReblogs","reblogs","setShowReblogs","setDomainBlocked","domain","block","blockDomain","unblockDomain","show","close","onClick","item","key","this","onMentionClicked","onFollowClicked","onBlockClicked","onMuteClicked","onShowReblogsClicked","onBlockDomainClicked","onCopyClicked","onReport","onNotifyClicked","onDenotifyClicked","get","following","blocking","muting","showingReblogs","blockingDomain","report","items","event","label","title","verifyCredentials","requested","acct","username","notifying","followRequested","verifyCredentialsId","showing_reblogs","split","domain_blocking","blockLabel","blockIcon","muteLabel","muteIcon","followLabel","followIcon","isUser","showReblogsLabel","blockDomainLabel","reportLabel","icon","filter","Boolean","showAccountProfileOptionsDialog"],"sourceRoot":""}