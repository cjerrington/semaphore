{"version":3,"file":"service-worker.js","mappings":"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KkB,SAGVgB,EAAKI,KAAKtC,KAAKkB,OAAOW,KACtB7B,KAAKkB,OAAOqB,WACd,KACChE,MAAK,IAAM2D,GAChB,CG9FgBA,IACXM,QAAOC,GAAKA,EAAEC,WAAWV,KACzBW,KAAIF,GAAKA,EAAEG,UAAUZ,EAAOa,SACjC,CCEA,MACMC,EAAS,uBACTC,EAAiB,+BAEjBC,EAAkB,CACtB,CACEC,MAAO,uBACPC,MAAOH,GAET,CACEE,MAAO,kBACPC,MAAOJ,GAET,CACEG,MAAO,eACPC,MAAOH,GAET,CACEE,MAAO,6BACPC,MAAOJ,GAET,CACEG,MAAO,gBACPC,MAAOJ,IAKLK,ECnCe,CACpB,6BACA,4BACA,iBACA,mBACA,qBACA,oBACA,cACA,wBACA,eACA,eACA,wBACA,eACA,cACA,uBACA,cACA,cACA,wBACA,eACA,uBACA,cACA,uBACA,cACA,sBACA,2BACA,wBACA,4BACA,8BACA,YACA,uBACA,kBACA,sBACA,sBACA,sBACA,qBACA,qBACA,wBACA,qBACA,sBACA,yBACA,gBACA,2BACA,2BACA,2BACA,mBACA,2BACA,kBACA,sBACA,mBACA,qBACA,oBACA,qBACA,kBACA,kBACA,uBACA,iBACA,iBACA,oBACA,oBACA,qBDxBc,KACRC,GAAQA,EAAKV,WAAW,KAAOU,EAAO,IAAIA,MAC9CZ,QAAOa,IAAaA,EAASC,SAAS,UACtCd,QAAOa,GAAyB,gBAAbA,IACnBb,QAAOa,IAAaA,EAASE,SAAS,oBACtCf,QAAOa,IAAaA,EAASC,SAAS,aACtCd,QAAOa,IAAa,mBAAmBG,KAAKH,KAC5Cb,QAAOa,IAAa,sBAAsBG,KAAKH,KAC/Cb,QAAOa,IAAa,6BAA6BG,KAAKH,KACtDb,QAAOa,IAAa,gBAAgBG,KAAKH,KAItCI,ECee,CACpB,iFACA,2CACA,sEACA,2CACA,wEACA,0CACA,2CACA,2CACA,uEACA,2CACA,2CACA,yCACA,2CACA,2CACA,2CACA,gDACA,uDACA,2CACA,6CACA,yCACA,2CACA,2CACA,wDACA,6DACA,2CACA,2CACA,4CACA,2CACA,yCACA,2CACA,2CACA,2CACA,2CACA,yDACA,2CACA,2CACA,6CACA,2CACA,uDACA,2CACA,2CACA,2CACA,2CACA,2CACA,2CACA,8CACA,4CACA,oDACA,2CACA,2CACA,2CACA,6DACA,2CACA,2CACA,2CACA,+CACA,+CACA,2CACA,mDACA,2CACA,2CACA,2CACA,2CACA,qDACA,mDACA,6CACA,+CACA,oEACA,gDACA,+CACA,kEACA,4CACA,2CACA,mDACA,2CACA,2CACA,+DACA,yDACA,2CACA,2CACA,2CACA,mEACA,iEACA,2CACA,2CACA,2CACA,2CACA,2CACA,2CACA,2CACA,2CACA,qEACA,2CACA,uEACA,gEACA,0DACA,2CACA,2CACA,2CACA,2CACA,wEACA,uCACA,4CDtHqB,QACZJ,IAAaA,EAASC,SAAS,UACtCd,QAAOa,IAAaA,EAASE,SAAS,yBACtCf,QAAOa,IAAaA,EAASE,SAAS,aACtCf,QAAOa,IAAaA,EAASE,SAAS,gBAInC,ECiHgB,CACrB,CAAEG,QAAS,SACX,CAAEA,QAAS,wBACX,CAAEA,QAAS,kCACX,CAAEA,QAAS,oBACX,CAAEA,QAAS,oBACX,CAAEA,QAAS,oBACX,CAAEA,QAAS,oBACX,CAAEA,QAAS,8BACX,CAAEA,QAAS,4CACX,CAAEA,QAAS,yCACX,CAAEA,QAAS,uCACX,CAAEA,QAAS,qCACX,CAAEA,QAAS,mBACX,CAAEA,QAAS,mBACX,CAAEA,QAAS,8BACX,CAAEA,QAAS,mCACX,CAAEA,QAAS,yCACX,CAAEA,QAAS,6BACX,CAAEA,QAAS,4BACX,CAAEA,QAAS,4BACX,CAAEA,QAAS,0BACX,CAAEA,QAAS,8BACX,CAAEA,QAAS,yCACX,CAAEA,QAAS,uCACX,CAAEA,QAAS,kBACX,CAAEA,QAAS,iBACX,CAAEA,QAAS,iBACX,CAAEA,QAAS,iBACX,CAAEA,QAAS,2BACX,CAAEA,QAAS,gBACX,CAAEA,QAAS,gBACX,CAAEA,QAAS,2BDPZ7F,eAAe8F,EAAwB/B,SAC/BgC,KAAKC,aAAaC,iBAAiBlC,EAAKmC,MAAO,CACnDC,MAAO,uBACPC,KAA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","sources":["webpack://semaphore/./src/routes/_utils/ajax.js","webpack://semaphore/./src/routes/_utils/lifecycle.js","webpack://semaphore/./src/routes/_thirdparty/idb-keyval/idb-keyval.js","webpack://semaphore/./src/routes/_database/webShare.js","webpack://semaphore/./src/routes/_static/share.js","webpack://semaphore/./src/routes/_database/knownInstances.js","webpack://semaphore/./src/service-worker.js","webpack://semaphore/./__sapper__/service-worker.js","webpack://semaphore/./src/routes/_api/utils.js"],"sourcesContent":["export const DEFAULT_TIMEOUT = 20000\nexport const MEDIA_WRITE_TIMEOUT = 90000 // media uploads can take awhile\nexport const WRITE_TIMEOUT = 45000 // allow more time if the user did a write action\n\nfunction fetchWithTimeout (url, fetchOptions, timeout) {\n  return new Promise((resolve, reject) => {\n    fetch(url, fetchOptions).then(resolve, reject)\n    setTimeout(() => reject(new Error(`Timed out after ${timeout / 1000} seconds`)), timeout)\n  })\n}\n\nfunction makeFetchOptions (method, headers, options) {\n  const res = {\n    method,\n    headers: Object.assign(headers || {}, {\n      Accept: 'application/json'\n    })\n  }\n  if (options && options.signal) {\n    res.signal = options.signal\n  }\n  return res\n}\n\nasync function throwErrorIfInvalidResponse (response) {\n  if (response.status >= 300) {\n    const err = new Error('Request failed: ' + response.status)\n    err.status = response.status\n    throw err\n  }\n  const json = await response.json()\n  if (response.status >= 200 && response.status < 300) {\n    return { json, headers: response.headers }\n  }\n  if (json && json.error) {\n    throw new Error(response.status + ': ' + json.error)\n  }\n  throw new Error('Request failed: ' + response.status)\n}\n\nasync function _fetch (url, fetchOptions, options) {\n  let response\n  if (options && options.timeout) {\n    response = await fetchWithTimeout(url, fetchOptions, options.timeout)\n  } else {\n    response = await fetch(url, fetchOptions)\n  }\n  return throwErrorIfInvalidResponse(response)\n}\n\nasync function _putOrPostOrPatch (method, url, body, headers, options) {\n  const fetchOptions = makeFetchOptions(method, headers, options)\n  if (body) {\n    if (body instanceof FormData || body instanceof URLSearchParams) {\n      fetchOptions.body = body\n    } else {\n      fetchOptions.body = JSON.stringify(body)\n      fetchOptions.headers['Content-Type'] = 'application/json'\n    }\n  }\n  return _fetch(url, fetchOptions, options)\n}\n\nexport async function put (url, body, headers, options) {\n  return (await _putOrPostOrPatch('PUT', url, body, headers, options)).json\n}\n\nexport async function post (url, body, headers, options) {\n  return (await _putOrPostOrPatch('POST', url, body, headers, options)).json\n}\n\nexport async function patch (url, body, headers, options) {\n  return (await _putOrPostOrPatch('PATCH', url, body, headers, options)).json\n}\n\nexport async function get (url, headers, options) {\n  return (await _fetch(url, makeFetchOptions('GET', headers, options), options)).json\n}\n\n/** @returns {json, headers} */\nexport async function getWithHeaders (url, headers, options) {\n  return _fetch(url, makeFetchOptions('GET', headers, options), options)\n}\n\nexport async function del (url, headers, options) {\n  return (await _fetch(url, makeFetchOptions('DELETE', headers, options), options)).json\n}\n\nexport function paramsString (paramsObject) {\n  let res = ''\n  let count = -1\n  Object.keys(paramsObject).forEach(key => {\n    const value = paramsObject[key]\n    if (Array.isArray(value)) { // rails convention for encoding multiple values\n      for (const item of value) {\n        res += (++count > 0 ? '&' : '') + encodeURIComponent(key) + '[]=' + encodeURIComponent(item)\n      }\n    } else {\n      res += (++count > 0 ? '&' : '') + encodeURIComponent(key) + '=' + encodeURIComponent(value)\n    }\n  })\n  return res\n}\n","// the page-lifecycle package causes some problems (doesn't work in node),\n// and plus it's not needed immediately, so lazy-load it\nimport { importPageLifecycle } from './asyncModules/importPageLifecycle.js'\n\nfunction addEventListener (event, func) {\n  if (process.browser && !process.env.IS_SERVICE_WORKER) {\n    importPageLifecycle().then(lifecycle => {\n      lifecycle.addEventListener(event, func)\n    })\n  }\n}\n\nfunction removeEventListener (event, func) {\n  if (process.browser && !process.env.IS_SERVICE_WORKER) {\n    importPageLifecycle().then(lifecycle => {\n      lifecycle.removeEventListener(event, func)\n    })\n  }\n}\n\nexport const lifecycle = { addEventListener, removeEventListener }\n","// Forked from https://github.com/jakearchibald/idb-keyval/commit/ea7d507\n// Adds a function for closing the database, ala https://github.com/jakearchibald/idb-keyval/pull/65\n// Also hooks it into the lifecycle frozen event\nimport { lifecycle } from '../../_utils/lifecycle.js'\n\nclass Store {\n  constructor (dbName = 'keyval-store', storeName = 'keyval') {\n    this.storeName = storeName\n    this._dbName = dbName\n    this._storeName = storeName\n    this._init()\n  }\n\n  _withIDBStore (type, callback) {\n    this._init()\n    return this._dbp.then(db => new Promise((resolve, reject) => {\n      const transaction = db.transaction(this.storeName, type)\n      transaction.oncomplete = () => resolve()\n      transaction.onabort = transaction.onerror = () => reject(transaction.error)\n      callback(transaction.objectStore(this.storeName))\n    }))\n  }\n\n  _init () {\n    if (this._dbp) {\n      return\n    }\n    this._dbp = new Promise((resolve, reject) => {\n      const openreq = indexedDB.open(this._dbName, 1)\n      openreq.onerror = () => reject(openreq.error)\n      openreq.onsuccess = () => resolve(openreq.result)\n      // First time setup: create an empty object store\n      openreq.onupgradeneeded = () => {\n        openreq.result.createObjectStore(this._storeName)\n      }\n    })\n  }\n\n  _close () {\n    this._init()\n    return this._dbp.then(db => {\n      db.close()\n      this._dbp = undefined\n    })\n  }\n}\n\nlet store\n\nfunction getDefaultStore () {\n  if (!store) {\n    store = new Store()\n  }\n  return store\n}\n\nfunction get (key) {\n  const store = getDefaultStore()\n  let req\n  return store._withIDBStore('readonly', store => {\n    req = store.get(key)\n  }).then(() => req.result)\n}\n\nfunction set (key, value) {\n  const store = getDefaultStore()\n  return store._withIDBStore('readwrite', store => {\n    store.put(value, key)\n  })\n}\n\nfunction del (key) {\n  const store = getDefaultStore()\n  return store._withIDBStore('readwrite', store => {\n    store.delete(key)\n  })\n}\n\nfunction clear () {\n  const store = getDefaultStore()\n  return store._withIDBStore('readwrite', store => {\n    store.clear()\n  })\n}\n\nfunction keys () {\n  const store = getDefaultStore()\n  const keys = []\n  return store._withIDBStore('readonly', store => {\n    // This would be store.getAllKeys(), but it isn't supported by Edge or Safari.\n    // And openKeyCursor isn't supported by Safari.\n    (store.openKeyCursor || store.openCursor).call(store).onsuccess = function () {\n      if (!this.result) {\n        return\n      }\n      keys.push(this.result.key)\n      this.result.continue()\n    }\n  }).then(() => keys)\n}\n\nfunction close () {\n  const store = getDefaultStore()\n  return store._close()\n}\n\nif (process.browser) {\n  lifecycle.addEventListener('statechange', async event => {\n    if (event.newState === 'frozen') { // page is frozen, close IDB connections\n      await close()\n      console.log('closed keyval DB')\n    }\n  })\n}\n\nexport { Store, get, set, del, clear, keys, close }\n","import { get, set, close, del } from '../_thirdparty/idb-keyval/idb-keyval.js'\nimport { WEB_SHARE_TARGET_DATA_IDB_KEY } from '../_static/share.js'\n\nexport function deleteWebShareData () {\n  return del(WEB_SHARE_TARGET_DATA_IDB_KEY)\n}\n\nexport function setWebShareData (data) {\n  return set(WEB_SHARE_TARGET_DATA_IDB_KEY, data)\n}\n\nexport function getWebShareData () {\n  return get(WEB_SHARE_TARGET_DATA_IDB_KEY)\n}\n\nexport function closeKeyValIDBConnection () {\n  return close()\n}\n","export const WEB_SHARE_TARGET_DATA_IDB_KEY = 'web-share-data'\n","import { set, keys, del } from '../_thirdparty/idb-keyval/idb-keyval.js'\n\nconst PREFIX = 'known-instance-'\n\nexport async function getKnownInstances () {\n  return (await keys())\n    .filter(_ => _.startsWith(PREFIX))\n    .map(_ => _.substring(PREFIX.length))\n}\n\nexport async function addKnownInstance (instanceName) {\n  return set(PREFIX + instanceName, true)\n}\n\nexport async function deleteKnownInstance (instanceName) {\n  return del(PREFIX + instanceName)\n}\n","import {\n  assets as __assets__,\n  shell as __shell__,\n  routes as __routes__\n} from '../__sapper__/service-worker.js'\nimport { get, post } from './routes/_utils/ajax.js'\nimport { setWebShareData, closeKeyValIDBConnection } from './routes/_database/webShare.js'\nimport { getKnownInstances } from './routes/_database/knownInstances.js'\nimport { basename } from './routes/_api/utils.js'\n\nconst timestamp = process.env.SAPPER_TIMESTAMP\nconst ASSETS = `assets_${timestamp}`\nconst WEBPACK_ASSETS = `webpack_assets_${timestamp}`\n\nconst ON_DEMAND_CACHE = [\n  {\n    regex: /tesseract-core\\.wasm/,\n    cache: WEBPACK_ASSETS\n  },\n  {\n    regex: /traineddata\\.gz/,\n    cache: ASSETS\n  },\n  {\n    regex: /\\$polyfill\\$/,\n    cache: WEBPACK_ASSETS\n  },\n  {\n    regex: /TwemojiCountryFlags\\.woff2/,\n    cache: ASSETS\n  },\n  {\n    regex: /_splash\\.png$/,\n    cache: ASSETS\n  }\n]\n\n// `static` is an array of everything in the `static` directory\nconst assets = __assets__\n  .map(file => file.startsWith('/') ? file : `/${file}`)\n  .filter(filename => !filename.endsWith('.map'))\n  .filter(filename => filename !== '/robots.txt')\n  .filter(filename => !filename.includes('traineddata.gz')) // cache on-demand\n  .filter(filename => !filename.endsWith('.webapp')) // KaiOS manifest\n  .filter(filename => !/emoji-.*?\\.json$/.test(filename)) // useless to cache; it already goes in IndexedDB\n  .filter(filename => !/screenshot-.*?\\.png/.test(filename)) // only used during PWA installation, don't bother caching\n  .filter(filename => !/TwemojiCountryFlags\\.woff2/.test(filename)) // cache on-demand\n  .filter(filename => !/_splash\\.png$/.test(filename)) // only used for iOS PWA splash screen, cache on-demand\n\n// `shell` is an array of all the files generated by webpack\n// also contains '/index.html' for some reason\nconst webpackAssets = __shell__\n  .filter(filename => !filename.endsWith('.map')) // don't bother with sourcemaps\n  .filter(filename => !filename.includes('tesseract-core.wasm')) // cache on-demand\n  .filter(filename => !filename.includes('LICENSE')) // don't bother with license files\n  .filter(filename => !filename.includes('$polyfill$')) // polyfills are cached dynamically\n\n// `routes` is an array of `{ pattern: RegExp }` objects that\n// match the pages in your src\nconst routes = __routes__\n\nself.addEventListener('install', event => {\n  event.waitUntil((async () => {\n    await Promise.all([\n      caches.open(WEBPACK_ASSETS).then(cache => cache.addAll(webpackAssets)),\n      caches.open(ASSETS).then(cache => cache.addAll(assets))\n    ])\n    // We shouldn't have to do this, but the previous page could be an old one,\n    // which would not send us a postMessage to skipWaiting().\n    // See https://github.com/nolanlawson/pinafore/issues/1243\n    self.skipWaiting()\n  })())\n})\n\nself.addEventListener('activate', event => {\n  event.waitUntil((async () => {\n    const keys = await caches.keys()\n\n    // delete old asset/ondemand caches\n    for (const key of keys) {\n      if (key !== ASSETS &&\n        !key.startsWith('webpack_assets_')) {\n        await caches.delete(key)\n      }\n    }\n\n    // for webpack static, keep the two latest builds because we may need\n    // them when the service worker has installed but the page has not\n    // yet reloaded (e.g. when it gives the toast saying \"please reload\"\n    // but then you don't refresh and instead load an async chunk)\n    const webpackKeysToDelete = keys\n      .filter(key => key.startsWith('webpack_assets_'))\n      .sort((a, b) => {\n        const aTimestamp = parseInt(a.substring(15), 10)\n        const bTimestamp = parseInt(b.substring(15), 10)\n        return bTimestamp < aTimestamp ? -1 : 1\n      })\n      .slice(2)\n\n    for (const key of webpackKeysToDelete) {\n      await caches.delete(key)\n    }\n\n    await self.clients.claim()\n  })())\n})\n\nself.addEventListener('fetch', event => {\n  const req = event.request\n  const url = new URL(req.url)\n\n  // don't try to handle e.g. data: URIs\n  if (!url.protocol.startsWith('http')) {\n    return\n  }\n\n  event.respondWith((async () => {\n    const sameOrigin = url.origin === self.origin\n\n    if (sameOrigin) {\n      if (req.method === 'POST' && url.pathname === '/share') {\n        // handle Web Share Target requests (see manifest.json)\n        const formData = await req.formData()\n        const title = formData.get('title')\n        const text = formData.get('text')\n        const url = formData.get('url')\n        const file = formData.get('file')\n        await setWebShareData({ title, text, url, file })\n        await closeKeyValIDBConnection() // don't need to keep the IDB connection open\n        return Response.redirect(\n          '/?pwa=true&compose=true', // pwa=true because this can only be invoked from a PWA\n          303 // 303 recommended by https://web.dev/web-share-target/\n        )\n      }\n\n      // always serve webpack-generated resources and\n      // static from the cache if possible\n      const response = await caches.match(req)\n      if (response) {\n        return response\n      }\n\n      for (const { regex, cache } of ON_DEMAND_CACHE) {\n        if (regex.test(url.pathname)) {\n          // cache this on-demand\n          const response = await fetch(req)\n          if (response && response.status >= 200 && response.status < 300) {\n            const clonedResponse = response.clone()\n            /* no await */\n            caches.open(cache).then(cache => cache.put(req, clonedResponse))\n          }\n          return response\n        }\n      }\n\n      // for routes, serve the /service-worker-index.html file from the most recent\n      // static cache\n      if (routes.find(route => route.pattern.test(url.pathname))) {\n        const response = await caches.match('/service-worker-index.html')\n        if (response) {\n          return response\n        }\n      }\n    }\n\n    // for everything else, go network-only\n    return fetch(req)\n  })())\n})\n\nself.addEventListener('push', event => {\n  event.waitUntil((async () => {\n    const data = event.data.json()\n    // If there is only once instance, then we know for sure that the push notification came from it\n    const knownInstances = await getKnownInstances()\n    if (knownInstances.length !== 1) {\n      // TODO: Mastodon currently does not tell us which instance the push notification came from.\n      // So we have to guess and currently just choose the first one. We _could_ locally store the instance that\n      // currently has push notifications enabled, but this would only work for one instance at a time.\n      // See: https://github.com/mastodon/mastodon/issues/22183\n      await showSimpleNotification(data)\n      return\n    }\n\n    const origin = basename(knownInstances[0])\n    try {\n      const notification = await get(`${origin}/api/v1/notifications/${data.notification_id}`, {\n        Authorization: `Bearer ${data.access_token}`\n      }, { timeout: 2000 })\n\n      await showRichNotification(data, notification)\n    } catch (e) {\n      await showSimpleNotification(data)\n    }\n  })())\n})\n\nasync function showSimpleNotification (data) {\n  await self.registration.showNotification(data.title, {\n    badge: '/icon-push-badge.png',\n    icon: data.icon,\n    body: data.body,\n    tag: data.notification_id,\n    data: {\n      url: `${self.origin}/notifications`\n    }\n  })\n}\n\nasync function showRichNotification (data, notification) {\n  const { icon, body } = data\n  const tag = notification.id\n  const { origin } = self.location\n  const badge = '/icon-push-badge.png'\n\n  switch (notification.type) {\n    case 'follow':\n    case 'follow_request':\n    case 'admin.report':\n    case 'admin.sign_up': {\n      await self.registration.showNotification(data.title, {\n        badge,\n        icon,\n        body,\n        tag,\n        data: {\n          url: `${origin}/accounts/${notification.account.id}`\n        }\n      })\n      break\n    }\n    case 'reblog':\n    case 'favourite':\n    case 'status':\n    case 'poll': {\n      await self.registration.showNotification(data.title, {\n        badge,\n        icon,\n        body,\n        tag,\n        data: {\n          url: `${origin}/statuses/${notification.status.id}`\n        }\n      })\n      break\n    }\n    case 'mention': {\n      const isPublic = ['public', 'unlisted'].includes(notification.status.visibility)\n      const actions = [\n        isPublic && {\n          action: 'reblog',\n          icon: '/icon-push-fa-retweet.png', // generated manually from font-awesome-svg\n          title: \"Boost\"\n        },\n        {\n          action: 'favourite',\n          icon: '/icon-push-fa-star.png', // generated manually from font-awesome-svg\n          title: \"Favorite\"\n        }\n      ].filter(Boolean)\n\n      await self.registration.showNotification(data.title, {\n        badge,\n        icon,\n        body,\n        tag,\n        data: {\n          instance: new URL(data.icon).origin,\n          status_id: notification.status.id,\n          access_token: data.access_token,\n          url: `${origin}/statuses/${notification.status.id}`\n        },\n        actions\n      })\n      break\n    }\n  }\n}\n\nconst cloneNotification = notification => {\n  const clone = {}\n\n  for (const k in notification) {\n    // deliberately not doing a hasOwnProperty check, but skipping\n    // functions and null props like onclick and onshow and showTrigger\n    if (typeof notification[k] !== 'function' && notification[k] !== null) {\n      clone[k] = notification[k]\n    }\n  }\n\n  return clone\n}\n\nconst updateNotificationWithoutAction = (notification, action) => {\n  const newNotification = cloneNotification(notification)\n\n  newNotification.actions = newNotification.actions.filter(item => item.action !== action)\n\n  return self.registration.showNotification(newNotification.title, newNotification)\n}\n\nself.addEventListener('notificationclick', event => {\n  event.waitUntil((async () => {\n    switch (event.action) {\n      case 'reblog': {\n        const url = `${event.notification.data.instance}/api/v1/statuses/${event.notification.data.status_id}/reblog`\n        await post(url, null, {\n          Authorization: `Bearer ${event.notification.data.access_token}`\n        })\n        await updateNotificationWithoutAction(event.notification, 'reblog')\n        break\n      }\n      case 'favourite': {\n        const url = `${event.notification.data.instance}/api/v1/statuses/${event.notification.data.status_id}/favourite`\n        await post(url, null, {\n          Authorization: `Bearer ${event.notification.data.access_token}`\n        })\n        await updateNotificationWithoutAction(event.notification, 'favourite')\n        break\n      }\n      default: {\n        await self.clients.openWindow(event.notification.data.url)\n        await event.notification.close()\n        break\n      }\n    }\n  })())\n})\n\nself.addEventListener('message', (event) => {\n  switch (event.data) {\n    case 'skip-waiting':\n      self.skipWaiting()\n      break\n  }\n})\n","// This file is generated by Sapper — do not edit it!\nexport const timestamp = 1699904692090;\n\nexport const files = [\n\t\"/service-worker-index.html\",\n\t\"TwemojiCountryFlags.woff2\",\n\t\"apple-icon.png\",\n\t\"emoji-en-US.json\",\n\t\"eng.traineddata.gz\",\n\t\"favicon-alert.png\",\n\t\"favicon.png\",\n\t\"icon-144-maskable.png\",\n\t\"icon-144.png\",\n\t\"icon-150.png\",\n\t\"icon-192-maskable.png\",\n\t\"icon-192.png\",\n\t\"icon-44.png\",\n\t\"icon-48-maskable.png\",\n\t\"icon-48.png\",\n\t\"icon-50.png\",\n\t\"icon-512-maskable.png\",\n\t\"icon-512.png\",\n\t\"icon-72-maskable.png\",\n\t\"icon-72.png\",\n\t\"icon-96-maskable.png\",\n\t\"icon-96.png\",\n\t\"icon-push-badge.png\",\n\t\"icon-push-fa-retweet.png\",\n\t\"icon-push-fa-star.png\",\n\t\"icon-shortcut-fa-bell.png\",\n\t\"icon-shortcut-fa-pencil.png\",\n\t\"icons.svg\",\n\t\"inline-script.js.map\",\n\t\"ipad_splash.png\",\n\t\"ipadpro1_splash.png\",\n\t\"ipadpro2_splash.png\",\n\t\"ipadpro3_splash.png\",\n\t\"iphone5_splash.png\",\n\t\"iphone6_splash.png\",\n\t\"iphoneplus_splash.png\",\n\t\"iphonex_splash.png\",\n\t\"iphonexr_splash.png\",\n\t\"iphonexsmax_splash.png\",\n\t\"manifest.json\",\n\t\"screenshot-540-720-1.png\",\n\t\"screenshot-540-720-2.png\",\n\t\"screenshot-540-720-3.png\",\n\t\"theme-cobalt.css\",\n\t\"theme-dark-grayscale.css\",\n\t\"theme-gecko.css\",\n\t\"theme-grayscale.css\",\n\t\"theme-hacker.css\",\n\t\"theme-hotpants.css\",\n\t\"theme-majesty.css\",\n\t\"theme-mastodon.css\",\n\t\"theme-oaken.css\",\n\t\"theme-ozark.css\",\n\t\"theme-pitchblack.css\",\n\t\"theme-punk.css\",\n\t\"theme-riot.css\",\n\t\"theme-scarlet.css\",\n\t\"theme-seafoam.css\",\n\t\"theme-sorcery.css\"\n];\nexport { files as assets }; // legacy\n\nexport const shell = [\n\t\"client/tesseract-asset.e4db7f953ac7bcf9f67bd39031e42241.tesseract-core.wasm.js\",\n\t\"client/7231.dae003acd7bde719b598.7231.js\",\n\t\"client/5332.294800c4f6c7fd2a3f81.$polyfill$-internationalization.js\",\n\t\"client/2644.18340238ba9ef6637f4a.2644.js\",\n\t\"client/tesseract-asset.659051bf21f04d23ef64f43306ff257c.worker.min.js\",\n\t\"client/179.70cdffab439536a5f996.main.js\",\n\t\"client/2034.a9e28dcf8564cbdd953f.2034.js\",\n\t\"client/4026.c417d0287f101fb4407b.4026.js\",\n\t\"client/7434.e7274089fe4db529ec44.settings_instances_$instanceName.js\",\n\t\"client/3274.d196fed8af8b1c650b43.3274.js\",\n\t\"client/8945.b268fe70159a01a5c885.8945.js\",\n\t\"client/135.cd91945c25bd68102174.135.js\",\n\t\"client/2284.46e3cd4754f09de1291f.2284.js\",\n\t\"client/4977.11234c4684362e0d1ad7.4977.js\",\n\t\"client/7727.e84db896bea14e649076.7727.js\",\n\t\"client/9587.b28938fbfa96a681df9b.community.js\",\n\t\"client/3976.070b838e587a39c1daf2.settings_general.js\",\n\t\"client/8619.ae2a851a8e299ea81c78.8619.js\",\n\t\"client/6464.386acbfe9689a596e25c.search.js\",\n\t\"client/279.a842aa973a65223f13e8.279.js\",\n\t\"client/4970.742cfae2d5d703d639b6.4970.js\",\n\t\"client/4285.f25d6689d17ddcbf37c9.4285.js\",\n\t\"client/4549.6b2df1cbdb21b438b8ef.settings_wellness.js\",\n\t\"client/3754.037f4c59dea116fc9d09.settings_instances_add.js\",\n\t\"client/7080.daeb3faaf37f03e5705c.7080.js\",\n\t\"client/7666.0d90fb86d88812ec70b3.7666.js\",\n\t\"client/4826.1539b15bb276004ffd33.index.js\",\n\t\"client/2936.ba2d083789953ed13811.2936.js\",\n\t\"client/268.4c4534e115185c31b887.268.js\",\n\t\"client/9117.207d466a6595172f2257.9117.js\",\n\t\"client/8289.6229051062c5fc074083.8289.js\",\n\t\"client/8083.ff7a8705e956ee55be86.8083.js\",\n\t\"client/3999.76f88a5dc66f2029bf1a.3999.js\",\n\t\"client/8651.3e41cd73ab8ad265853c.settings_instances.js\",\n\t\"client/2159.f7f2849cd3e3ce0039bd.2159.js\",\n\t\"client/1212.ab73fb6b1d0b36c0f7c2.1212.js\",\n\t\"client/4990.807947add4f75dff3459.pinned.js\",\n\t\"client/3948.cd39309d0c10c3a94d7b.3948.js\",\n\t\"client/2346.6eedba68d14b5973d598.settings_hotkeys.js\",\n\t\"client/2744.e16c2476cbdb4f19c70b.2744.js\",\n\t\"client/7323.5eb905bd2677529397af.7323.js\",\n\t\"client/1170.a1a34d2819c76262ed6b.1170.js\",\n\t\"client/1277.03fbca5dc44747e7d415.1277.js\",\n\t\"client/9418.d7b8150ecb6b2e8080a2.9418.js\",\n\t\"client/2683.de19d9e69bd092fd48c2.2683.js\",\n\t\"client/3660.c22a142e4816087d3163.blocked.js\",\n\t\"client/1617.e9fa67671d35b85f226c.muted.js\",\n\t\"client/1909.2d1c7b5291d9ff3557c2.notifications.js\",\n\t\"client/3757.9de35079d521eeb0e65f.3757.js\",\n\t\"client/3084.1597c224dd09be5b3d72.3084.js\",\n\t\"client/3863.2c1686a67902f9ef0791.3863.js\",\n\t\"client/5980.f7836850bdc7bbde7ccf.notifications_mentions.js\",\n\t\"client/3517.c3932610f2817bf13d8f.3517.js\",\n\t\"client/1915.18ca4e9150b27a595377.1915.js\",\n\t\"client/9499.40a930f5a174c550206c.9499.js\",\n\t\"client/5571.56b542587a74296ed0c8.settings.js\",\n\t\"client/1216.8333da3f7b2d6feec5fc.requests.js\",\n\t\"client/7427.ab603d7e31ffb021542e.7427.js\",\n\t\"client/881.3d8497961ad1ec91d5f5.lists_$listId.js\",\n\t\"client/7438.551eedf52780fb6c0d81.7438.js\",\n\t\"client/1095.58c0c959e6343c506c69.1095.js\",\n\t\"client/3393.78963cd4a6f93a2beab1.3393.js\",\n\t\"client/8565.5359c34a2bc4a2b1baf2.8565.js\",\n\t\"client/1225.e33e64a0ac67dce5baf4.settings_about.js\",\n\t\"client/blurhash.ef9e7ca2b2b022bba07d.blurhash.js\",\n\t\"client/1240.ce16c4e80ff9dae061a9.direct.js\",\n\t\"client/392.bdb6b193ceeb27c8323d.federated.js\",\n\t\"client/2889.d898645c243222cd10b9.accounts_$accountId_followers.js\",\n\t\"client/2615.c38b732b09a90d2ed6a3.bookmarks.js\",\n\t\"client/205.fe5e0d5096e388b2e1d7.favorites.js\",\n\t\"client/4827.3544beab58e570100c2f.accounts_$accountId_follows.js\",\n\t\"client/9446.88908a9b4c2d78c3e5f4.local.js\",\n\t\"client/5291.5bb0187bd9476838550f.5291.js\",\n\t\"client/733.f3aa352bbfe80717db99.tags_$tagName.js\",\n\t\"client/8309.726489cc79baec40c159.8309.js\",\n\t\"client/2623.f1af696def770d9202ff.2623.js\",\n\t\"client/5853.4ced2d11ba12beb0b4e9.$polyfill$-focus-visible.js\",\n\t\"client/4016.0383f10ce330169a7090.statuses_$statusId.js\",\n\t\"client/1785.cfb003186ecbba32c6d9.1785.js\",\n\t\"client/6610.4fda282bb6f6a600e512.6610.js\",\n\t\"client/6949.5bd884d1c3e383836fb0.6949.js\",\n\t\"client/8742.46ce067dbc90afb19498.statuses_$statusId_favorites.js\",\n\t\"client/3365.4310e40a76037ee7902e.statuses_$statusId_reblogs.js\",\n\t\"client/9225.b0b2df5503a95899d290.9225.js\",\n\t\"client/7807.6673f19c4a65d58ccc84.7807.js\",\n\t\"client/1298.348978b4e54dd9665ede.1298.js\",\n\t\"client/3306.9cd8ec3aba5b676fb019.3306.js\",\n\t\"client/2307.4f07cc1e50d4e3f16719.2307.js\",\n\t\"client/7542.2ca67214917eef091868.7542.js\",\n\t\"client/8504.ba9b2a375a8a8f7e1484.8504.js\",\n\t\"client/7539.4ceb539ade5fb3e4905e.7539.js\",\n\t\"client/9668.99d5f19f1cec393ce92e.$polyfill$-requestidlecallback.js\",\n\t\"client/1362.50037e942cf318330643.1362.js\",\n\t\"client/8688.e77a7f723b74121107f6.accounts_$accountId_with_replies.js\",\n\t\"client/3864.8ce2055f086df4198bb5.accounts_$accountId_media.js\",\n\t\"client/2270.d5776412e21e62cb45f5.accounts_$accountId.js\",\n\t\"client/5565.5bb099bc859de102e68e.5565.js\",\n\t\"client/5246.b6308c58940718b6d8aa.5246.js\",\n\t\"client/4292.47763cc7159fded7add5.4292.js\",\n\t\"client/1793.629d26e75b51aa1eb876.1793.js\",\n\t\"client/6374.4542981efea45833338e.$polyfill$-dynamic-viewport-units.js\",\n\t\"client/40.87c3bcf711e9a3676096.40.js\",\n\t\"client/7553.000c8442e92aa5e54ad7.7553.js\"\n];\n\nexport const routes = [\n\t{ pattern: /^\\/?$/ },\n\t{ pattern: /^\\/notifications\\/?$/ },\n\t{ pattern: /^\\/notifications\\/mentions\\/?$/ },\n\t{ pattern: /^\\/bookmarks\\/?$/ },\n\t{ pattern: /^\\/community\\/?$/ },\n\t{ pattern: /^\\/favorites\\/?$/ },\n\t{ pattern: /^\\/federated\\/?$/ },\n\t{ pattern: /^\\/accounts\\/([^\\/]+?)\\/?$/ },\n\t{ pattern: /^\\/accounts\\/([^\\/]+?)\\/with_replies\\/?$/ },\n\t{ pattern: /^\\/accounts\\/([^\\/]+?)\\/followers\\/?$/ },\n\t{ pattern: /^\\/accounts\\/([^\\/]+?)\\/follows\\/?$/ },\n\t{ pattern: /^\\/accounts\\/([^\\/]+?)\\/media\\/?$/ },\n\t{ pattern: /^\\/requests\\/?$/ },\n\t{ pattern: /^\\/settings\\/?$/ },\n\t{ pattern: /^\\/settings\\/instances\\/?$/ },\n\t{ pattern: /^\\/settings\\/instances\\/add\\/?$/ },\n\t{ pattern: /^\\/settings\\/instances\\/([^\\/]+?)\\/?$/ },\n\t{ pattern: /^\\/settings\\/wellness\\/?$/ },\n\t{ pattern: /^\\/settings\\/general\\/?$/ },\n\t{ pattern: /^\\/settings\\/hotkeys\\/?$/ },\n\t{ pattern: /^\\/settings\\/about\\/?$/ },\n\t{ pattern: /^\\/statuses\\/([^\\/]+?)\\/?$/ },\n\t{ pattern: /^\\/statuses\\/([^\\/]+?)\\/favorites\\/?$/ },\n\t{ pattern: /^\\/statuses\\/([^\\/]+?)\\/reblogs\\/?$/ },\n\t{ pattern: /^\\/blocked\\/?$/ },\n\t{ pattern: /^\\/direct\\/?$/ },\n\t{ pattern: /^\\/pinned\\/?$/ },\n\t{ pattern: /^\\/search\\/?$/ },\n\t{ pattern: /^\\/lists\\/([^\\/]+?)\\/?$/ },\n\t{ pattern: /^\\/local\\/?$/ },\n\t{ pattern: /^\\/muted\\/?$/ },\n\t{ pattern: /^\\/tags\\/([^\\/]+?)\\/?$/ }\n];","function targetIsLocalhost (instanceName) {\n  return instanceName.startsWith('localhost:') || instanceName.startsWith('127.0.0.1:')\n}\n\nexport function basename (instanceName) {\n  if (targetIsLocalhost(instanceName)) {\n    return `http://${instanceName}`\n  }\n  return `https://${instanceName}`\n}\n\nexport function auth (accessToken) {\n  return {\n    Authorization: `Bearer ${accessToken}`\n  }\n}\n"],"names":["makeFetchOptions","method","headers","options","res","Object","assign","Accept","signal","async","_fetch","url","fetchOptions","response","timeout","Promise","resolve","reject","fetch","then","setTimeout","Error","fetchWithTimeout","status","err","json","error","throwErrorIfInvalidResponse","_putOrPostOrPatch","body","FormData","URLSearchParams","JSON","stringify","post","lifecycle","addEventListener","event","func","removeEventListener","Store","constructor","dbName","storeName","this","_dbName","_storeName","_init","_withIDBStore","type","callback","_dbp","db","transaction","oncomplete","onabort","onerror","objectStore","openreq","indexedDB","open","onsuccess","result","onupgradeneeded","createObjectStore","_close","close","undefined","store","getDefaultStore","newState","setWebShareData","data","key","value","put","PREFIX","getKnownInstances","keys","openKeyCursor","openCursor","call","push","continue","filter","_","startsWith","map","substring","length","ASSETS","WEBPACK_ASSETS","ON_DEMAND_CACHE","regex","cache","assets","file","filename","endsWith","includes","test","webpackAssets","pattern","showSimpleNotification","self","registration","showNotification","title","badge","icon","tag","notification_id","origin","waitUntil","all","caches","addAll","skipWaiting","delete","webpackKeysToDelete","sort","a","b","aTimestamp","parseInt","slice","clients","claim","req","request","URL","protocol","respondWith","pathname","formData","get","text","Response","redirect","match","clonedResponse","clone","find","route","knownInstances","instanceName","targetIsLocalhost","notification","Authorization","access_token","id","location","account","actions","visibility","action","Boolean","instance","status_id","showRichNotification","e","updateNotificationWithoutAction","newNotification","k","cloneNotification","item","openWindow"],"sourceRoot":""}